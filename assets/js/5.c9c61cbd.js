(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{271:function(t,i,e){"use strict";e.d(i,"b",(function(){return p}));var o,n=e(288),r=e(263),s=e(265),a=e(266),c=e(297),h=e(293),l=e(284),u=(o=function(t,i){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])})(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=t}o(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),_=null,g=function(t){function i(i,e,o,n,r,s){var a=t.call(this)||this;return a.hitDetectionImage_=null,a.image_=i||new Image,null!==n&&(a.image_.crossOrigin=n),a.canvas_={},a.color_=s,a.unlisten_=null,a.imageState_=r,a.size_=o,a.src_=e,a.tainted_,a}return u(i,t),i.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===s.a.LOADED){_||(_=Object(c.a)(1,1)),_.drawImage(this.image_,0,0);try{_.getImageData(0,0,1,1),this.tainted_=!1}catch(t){_=null,this.tainted_=!0}}return!0===this.tainted_},i.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(r.a.CHANGE)},i.prototype.handleImageError_=function(){this.imageState_=s.a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},i.prototype.handleImageLoad_=function(){this.imageState_=s.a.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},i.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},i.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},i.prototype.getImageState=function(){return this.imageState_},i.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],i=this.size_[1],e=Object(c.a)(t,i);e.fillRect(0,0,t,i),this.hitDetectionImage_=e.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},i.prototype.getSize=function(){return this.size_},i.prototype.getSrc=function(){return this.src_},i.prototype.load=function(){if(this.imageState_==s.a.IDLE){this.imageState_=s.a.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Object(l.b)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},i.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]&&this.imageState_===s.a.LOADED){var i=document.createElement("canvas");this.canvas_[t]=i,i.width=Math.ceil(this.image_.width*t),i.height=Math.ceil(this.image_.height*t);var e=i.getContext("2d");if(e.scale(t,t),e.drawImage(this.image_,0,0),e.globalCompositeOperation="multiply","multiply"===e.globalCompositeOperation||this.isTainted_())e.fillStyle=Object(a.b)(this.color_),e.fillRect(0,0,i.width/t,i.height/t),e.globalCompositeOperation="destination-in",e.drawImage(this.image_,0,0);else{for(var o=e.getImageData(0,0,i.width,i.height),n=o.data,r=this.color_[0]/255,c=this.color_[1]/255,h=this.color_[2]/255,l=this.color_[3],u=0,_=n.length;u<_;u+=4)n[u]*=r,n[u+1]*=c,n[u+2]*=h,n[u+3]*=l;e.putImageData(o,0,0)}}},i.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},i}(n.a);function p(t,i,e,o,n,r){var s=h.a.get(i,o,r);return s||(s=new g(t,i,e,o,n,r),h.a.set(i,o,r,s)),s}i.a=g},272:function(t,i,e){"use strict";var o=e(270),n=e(294),r=e(311),s=function(){function t(t){var i=t||{};this.font_=i.font,this.rotation_=i.rotation,this.rotateWithView_=i.rotateWithView,this.scale_=i.scale,this.scaleArray_=Object(r.d)(void 0!==i.scale?i.scale:1),this.text_=i.text,this.textAlign_=i.textAlign,this.textBaseline_=i.textBaseline,this.fill_=void 0!==i.fill?i.fill:new o.a({color:"#333"}),this.maxAngle_=void 0!==i.maxAngle?i.maxAngle:Math.PI/4,this.placement_=void 0!==i.placement?i.placement:n.a.POINT,this.overflow_=!!i.overflow,this.stroke_=void 0!==i.stroke?i.stroke:null,this.offsetX_=void 0!==i.offsetX?i.offsetX:0,this.offsetY_=void 0!==i.offsetY?i.offsetY:0,this.backgroundFill_=i.backgroundFill?i.backgroundFill:null,this.backgroundStroke_=i.backgroundStroke?i.backgroundStroke:null,this.padding_=void 0===i.padding?null:i.padding}return t.prototype.clone=function(){var i=this.getScale();return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(i)?i.slice():i,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(t){this.overflow_=t},t.prototype.setFont=function(t){this.font_=t},t.prototype.setMaxAngle=function(t){this.maxAngle_=t},t.prototype.setOffsetX=function(t){this.offsetX_=t},t.prototype.setOffsetY=function(t){this.offsetY_=t},t.prototype.setPlacement=function(t){this.placement_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setFill=function(t){this.fill_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=Object(r.d)(void 0!==t?t:1)},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.setText=function(t){this.text_=t},t.prototype.setTextAlign=function(t){this.textAlign_=t},t.prototype.setTextBaseline=function(t){this.textBaseline_=t},t.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},t.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},t.prototype.setPadding=function(t){this.padding_=t},t}();i.a=s},273:function(t,i,e){"use strict";var o,n=e(263),r=e(274),s=e(275),a=e(265),c=e(290),h=e(266),l=e(254),u=e(271),_=e(264),g=(o=function(t,i){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])})(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=t}o(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),p=function(t){function i(i){var e=this,o=i||{},n=void 0!==o.opacity?o.opacity:1,c=void 0!==o.rotation?o.rotation:0,g=void 0!==o.scale?o.scale:1,p=void 0!==o.rotateWithView&&o.rotateWithView;(e=t.call(this,{opacity:n,rotation:c,scale:g,displacement:void 0!==o.displacement?o.displacement:[0,0],rotateWithView:p})||this).anchor_=void 0!==o.anchor?o.anchor:[.5,.5],e.normalizedAnchor_=null,e.anchorOrigin_=void 0!==o.anchorOrigin?o.anchorOrigin:s.a.TOP_LEFT,e.anchorXUnits_=void 0!==o.anchorXUnits?o.anchorXUnits:r.a.FRACTION,e.anchorYUnits_=void 0!==o.anchorYUnits?o.anchorYUnits:r.a.FRACTION,e.crossOrigin_=void 0!==o.crossOrigin?o.crossOrigin:null;var f=void 0!==o.img?o.img:null;e.imgSize_=o.imgSize;var d=o.src;Object(l.a)(!(void 0!==d&&f),4),Object(l.a)(!f||f&&e.imgSize_,5),void 0!==d&&0!==d.length||!f||(d=f.src||Object(_.c)(f)),Object(l.a)(void 0!==d&&d.length>0,6);var y=void 0!==o.src?a.a.IDLE:a.a.LOADED;return e.color_=void 0!==o.color?Object(h.a)(o.color):null,e.iconImage_=Object(u.b)(f,d,void 0!==e.imgSize_?e.imgSize_:null,e.crossOrigin_,y,e.color_),e.offset_=void 0!==o.offset?o.offset:[0,0],e.offsetOrigin_=void 0!==o.offsetOrigin?o.offsetOrigin:s.a.TOP_LEFT,e.origin_=null,e.size_=void 0!==o.size?o.size:null,e}return g(i,t),i.prototype.clone=function(){var t=this.getScale();return new i({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc()})},i.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var i=this.getSize();if(this.anchorXUnits_==r.a.FRACTION||this.anchorYUnits_==r.a.FRACTION){if(!i)return null;t=this.anchor_.slice(),this.anchorXUnits_==r.a.FRACTION&&(t[0]*=i[0]),this.anchorYUnits_==r.a.FRACTION&&(t[1]*=i[1])}if(this.anchorOrigin_!=s.a.TOP_LEFT){if(!i)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=s.a.TOP_RIGHT&&this.anchorOrigin_!=s.a.BOTTOM_RIGHT||(t[0]=-t[0]+i[0]),this.anchorOrigin_!=s.a.BOTTOM_LEFT&&this.anchorOrigin_!=s.a.BOTTOM_RIGHT||(t[1]=-t[1]+i[1])}this.normalizedAnchor_=t}var e=this.getDisplacement();return[t[0]-e[0],t[1]+e[1]]},i.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},i.prototype.getColor=function(){return this.color_},i.prototype.getImage=function(t){return this.iconImage_.getImage(t)},i.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},i.prototype.getImageSize=function(){return this.iconImage_.getSize()},i.prototype.getImageState=function(){return this.iconImage_.getImageState()},i.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},i.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=s.a.TOP_LEFT){var i=this.getSize(),e=this.iconImage_.getSize();if(!i||!e)return null;t=t.slice(),this.offsetOrigin_!=s.a.TOP_RIGHT&&this.offsetOrigin_!=s.a.BOTTOM_RIGHT||(t[0]=e[0]-i[0]-t[0]),this.offsetOrigin_!=s.a.BOTTOM_LEFT&&this.offsetOrigin_!=s.a.BOTTOM_RIGHT||(t[1]=e[1]-i[1]-t[1])}return this.origin_=t,this.origin_},i.prototype.getSrc=function(){return this.iconImage_.getSrc()},i.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},i.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(n.a.CHANGE,t)},i.prototype.load=function(){this.iconImage_.load()},i.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(n.a.CHANGE,t)},i}(c.a);i.a=p},274:function(t,i,e){"use strict";i.a={FRACTION:"fraction",PIXELS:"pixels"}},275:function(t,i,e){"use strict";i.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},284:function(t,i,e){"use strict";e.d(i,"b",(function(){return _}));var o,n=e(263),r=e(286),s=e(265),a=e(308),c=e(258),h=e(298),l=(o=function(t,i){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])})(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=t}o(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),u=function(t){function i(i,e,o,n,r,a){var c=t.call(this,i,e,o,s.a.IDLE)||this;return c.src_=n,c.image_=new Image,null!==r&&(c.image_.crossOrigin=r),c.unlisten_=null,c.state=s.a.IDLE,c.imageLoadFunction_=a,c}return l(i,t),i.prototype.getImage=function(){return this.image_},i.prototype.handleImageError_=function(){this.state=s.a.ERROR,this.unlistenImage_(),this.changed()},i.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Object(c.A)(this.extent)/this.image_.height),this.state=s.a.LOADED,this.unlistenImage_(),this.changed()},i.prototype.load=function(){this.state!=s.a.IDLE&&this.state!=s.a.ERROR||(this.state=s.a.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=_(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},i.prototype.setImage=function(t){this.image_=t,this.resolution=Object(c.A)(this.extent)/this.image_.height},i.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},i}(r.a);function _(t,i,e){var o=t,r=!0,s=!1,c=!1,l=[Object(h.b)(o,n.a.LOAD,(function(){c=!0,s||i()}))];return o.src&&a.c?(s=!0,o.decode().then((function(){r&&i()})).catch((function(t){r&&(c?i():e())}))):l.push(Object(h.b)(o,n.a.ERROR,e)),function(){r=!1,l.forEach(h.c)}}i.a=u},286:function(t,i,e){"use strict";var o,n=e(288),r=e(263),s=e(264),a=(o=function(t,i){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])})(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=t}o(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),c=function(t){function i(i,e,o,n){var r=t.call(this)||this;return r.extent=i,r.pixelRatio_=o,r.resolution=e,r.state=n,r}return a(i,t),i.prototype.changed=function(){this.dispatchEvent(r.a.CHANGE)},i.prototype.getExtent=function(){return this.extent},i.prototype.getImage=function(){return Object(s.b)()},i.prototype.getPixelRatio=function(){return this.pixelRatio_},i.prototype.getResolution=function(){return this.resolution},i.prototype.getState=function(){return this.state},i.prototype.load=function(){Object(s.b)()},i}(n.a);i.a=c},293:function(t,i,e){"use strict";e.d(i,"a",(function(){return s}));var o=e(266),n=function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var i in this.cache_){var e=this.cache_[i];0!=(3&t++)||e.hasListener()||(delete this.cache_[i],--this.cacheSize_)}}},t.prototype.get=function(t,i,e){var o=r(t,i,e);return o in this.cache_?this.cache_[o]:null},t.prototype.set=function(t,i,e,o){var n=r(t,i,e);this.cache_[n]=o,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}();function r(t,i,e){return i+":"+t+":"+(e?Object(o.b)(e):"null")}var s=new n},294:function(t,i,e){"use strict";i.a={POINT:"point",LINE:"line"}}}]);