(window.webpackJsonp=window.webpackJsonp||[]).push([[89,5],{1760:function(t,e,r){"use strict";r.r(e);var n=r(313),o=r(282),a={name:"component-doc",components:{"render-demo-0":function(){const t=n,{GeoJSON:e}=o;return{render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[[r("base-map",[r("a-button",{attrs:{type:"primary"},on:{click:function(){t.visible=!0}}},[t._v("打开")]),t._v(" "),r("drawer",{attrs:{visible:t.visible,code:t.code},on:{"update:visible":function(e){t.visible=e}}},[r("a-row",[r("json",{attrs:{data:t.result}})],1)],1),t._v(" "),r("vue2ol-layer-vector",[r("vue2ol-source-vector",[t.geometry?r("vue2ol-feature",{attrs:{geometry:t.geometry}}):t._e()],1)],1)],1)]],2)},staticRenderFns:[],...{data:()=>({geometry:null,result:null,visible:!0}),computed:{code:()=>"let extent = [\n  119.74649906158449, 27.858744144439697, 120.13926029205324,\n  28.134775638580322,\n];\nlet result = turf.bboxPolygon(turf.square(extent));"},mounted(){let r=t.bboxPolygon(t.square([119.74649906158449,27.858744144439697,120.13926029205324,28.134775638580322]));this.result=r,this.geometry=(new e).readGeometry(JSON.stringify(r.geometry))}}}}(),"render-demo-1":function(){const t=n,{GeoJSON:e}=o;return{render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[[r("base-map",[r("a-button",{attrs:{type:"primary"},on:{click:function(){t.visible=!0}}},[t._v("打开")]),t._v(" "),r("drawer",{attrs:{visible:t.visible,code:t.code},on:{"update:visible":function(e){t.visible=e}}},[r("a-row",[r("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.type=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"Point"}},[t._v("点")]),t._v(" "),r("option",{attrs:{value:"LineString"}},[t._v("线")]),t._v(" "),r("option",{attrs:{value:"Polygon"}},[t._v("面")])])]),t._v(" "),r("a-row",[t._v(" "+t._s(t.result)+" ")])],1),t._v(" "),r("vue2ol-layer-vector",[r("vue2ol-source-vector",[r("vue2ol-interaction-draw",{attrs:{active:!0,type:t.type},on:{drawend:t.handleDrawEnd}})],1)],1),t._v(" "),r("vue2ol-layer-vector",[r("vue2ol-source-vector",[t.bboxGeometry?r("vue2ol-feature",{attrs:{geometry:t.bboxGeometry}}):t._e()],1)],1)],1)]],2)},staticRenderFns:[],...{data:()=>({extent:null,geometry:null,type:"LineString",bboxGeometry:null,visible:!0,result:null}),watch:{geometry(){this.init()}},mounted(){},computed:{code(){if(!this.geometry)return;let r=t.bbox(JSON.parse((new e).writeGeometry(this.geometry)));return this.extent=r,`let extent = ${JSON.stringify(r)};\nlet result = turf.square(extent);`}},methods:{handleDrawEnd(t){this.geometry=t.feature.getGeometry()},init(){if(!this.geometry)return;let r=t.bbox(JSON.parse((new e).writeGeometry(this.geometry)));this.extent=r,this.result=t.square(this.extent);let n=t.bboxPolygon(this.result);this.bboxGeometry=(new e).readGeometry(JSON.stringify(n.geometry))}}}}}()}},i=r(11),s=Object(i.a)(a,(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"根据边界计算最小正方形边界-square"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#根据边界计算最小正方形边界-square"}},[t._v("#")]),t._v(" 根据边界计算最小正方形边界(square)")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("> npm install @turf/square\n")])])]),e("blockquote",[e("p",[t._v("Takes a bounding box and calculates the minimum square bounding box that would contain the input.")]),t._v(" "),e("p",[t._v("接收 bbox(边界框) 计算并返回包含入参的最小正方形边界")])]),t._v(" "),e("p",[e("strong",[t._v("参数")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("bbox")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("RouterLink",{attrs:{to:"/category/other/type.html#bbox"}},[t._v("bbox")])],1),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[xmin,ymin,xmax,ymax]")])])])]),t._v(" "),e("p",[e("strong",[t._v("返回")])]),t._v(" "),e("p",[e("RouterLink",{attrs:{to:"/category/other/type.html#bbox"}},[t._v("bbox")]),t._v(" - a square surrounding bbox")],1),t._v(" "),e("p",[e("RouterLink",{attrs:{to:"/category/other/type.html#bbox"}},[t._v("bbox")]),t._v(" - 一个正方形的 bbox")],1),t._v(" "),e("p",[e("strong",[t._v("示例")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" bbox "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" squared "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" turf"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("square")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bbox"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// [-27.5, -20, -7.5, 0]")]),t._v("\n")])])]),e("p",[e("img",{attrs:{src:"https://pzy-images.oss-cn-hangzhou.aliyuncs.com/img/square.09e05daf.webp",alt:"img"}})]),t._v(" "),e("p",[e("strong",[t._v("基础用法")])]),t._v(" "),e("demo-block",{attrs:{options:JSON.parse(decodeURI("%7B%7D"))}},[e("template",{slot:"demo"},[[e("render-demo-0")]],2),t._v(" "),e("template",{slot:"source"},[e("div",{staticClass:"language-vue extra-class"},[e("pre",{pre:!0,attrs:{class:"language-vue"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("base-map")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a-button")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("primary"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@click")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("\n        () => {\n          visible = true;\n        }\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("打开"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a-button")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("drawer")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":visible.sync")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("visible"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":code")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("code"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a-row")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("json")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":data")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("result"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("json")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a-row")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("drawer")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("vue2ol-layer-vector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("vue2ol-source-vector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("vue2ol-feature")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-if")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("geometry"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":geometry")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("geometry"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("vue2ol-feature")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("vue2ol-source-vector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("vue2ol-layer-vector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("base-map")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token script"}},[e("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" turf "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@turf/turf"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" GeoJSON "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ol/format"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("geometry")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("result")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("visible")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("computed")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("code")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token template-string"}},[e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("let extent = [\n  119.74649906158449, 27.858744144439697, 120.13926029205324,\n  28.134775638580322,\n];\nlet result = turf.bboxPolygon(turf.square(extent));")]),e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mounted")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" extent "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("119.74649906158449")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("27.858744144439697")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("120.13926029205324")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("28.134775638580322")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" bboxPolygon "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" turf"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("bboxPolygon")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("turf"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("square")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("extent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("result "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" bboxPolygon"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("geometry "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("GeoJSON")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("readGeometry")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bboxPolygon"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("geometry"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])])],2),e("p",[e("strong",[t._v("动态绘制")])]),t._v(" "),e("demo-block",{attrs:{options:JSON.parse(decodeURI("%7B%7D"))}},[e("template",{slot:"demo"},[[e("render-demo-1")]],2),t._v(" "),e("template",{slot:"source"},[e("div",{staticClass:"language-vue extra-class"},[e("pre",{pre:!0,attrs:{class:"language-vue"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("base-map")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a-button")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("primary"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@click")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("\n        () => {\n          visible = true;\n        }\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("打开"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a-button")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("drawer")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":visible.sync")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("visible"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":code")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("code"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a-row")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-model")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("type"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("option")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Point"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("点"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("option")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("option")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("LineString"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("线"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("option")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("option")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Polygon"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("面"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("option")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("select")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a-row")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a-row")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" {{ result }} "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a-row")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("drawer")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("vue2ol-layer-vector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("vue2ol-source-vector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("vue2ol-interaction-draw")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":active")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("true"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":type")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("type"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@drawend")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("handleDrawEnd"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("vue2ol-interaction-draw")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("vue2ol-source-vector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("vue2ol-layer-vector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("vue2ol-layer-vector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("vue2ol-source-vector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("vue2ol-feature")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-if")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("bboxGeometry"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":geometry")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("bboxGeometry"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("vue2ol-feature")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("vue2ol-source-vector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("vue2ol-layer-vector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("base-map")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token script"}},[e("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" turf "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@turf/turf"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" GeoJSON "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ol/format"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("extent")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("geometry")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"LineString"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("bboxGeometry")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("visible")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("result")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("watch")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("geometry")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mounted")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("computed")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("code")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("geometry"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" value "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" turf"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("bbox")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("GeoJSON")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("writeGeometry")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("geometry"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("extent "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" value"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token template-string"}},[e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("let extent = ")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v(";\nlet result = turf.square(extent);")]),e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("methods")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleDrawEnd")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("geometry "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("feature"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getGeometry")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("geometry"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" value "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" turf"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("bbox")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("GeoJSON")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("writeGeometry")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("geometry"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("extent "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" value"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("result "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" turf"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("square")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("extent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" bboxPolygon "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" turf"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("bboxPolygon")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("result"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bboxGeometry "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("GeoJSON")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("readGeometry")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bboxPolygon"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("geometry"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])])],2)],1)}),[],!1,null,null,null);e.default=s.exports},269:function(t,e,r){"use strict";var n,o=r(249),a=r(267),i=r(264),s=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),p=function(t){function e(){return t.call(this)||this}return s(e,t),e.prototype.getType=function(){return a.a.TEXT},e.prototype.readFeature=function(t,e){return this.readFeatureFromText(u(t),this.adaptOptions(e))},e.prototype.readFeatureFromText=function(t,e){return Object(i.b)()},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromText(u(t),this.adaptOptions(e))},e.prototype.readFeaturesFromText=function(t,e){return Object(i.b)()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromText(u(t),this.adaptOptions(e))},e.prototype.readGeometryFromText=function(t,e){return Object(i.b)()},e.prototype.readProjection=function(t){return this.readProjectionFromText(u(t))},e.prototype.readProjectionFromText=function(t){return this.dataProjection},e.prototype.writeFeature=function(t,e){return this.writeFeatureText(t,this.adaptOptions(e))},e.prototype.writeFeatureText=function(t,e){return Object(i.b)()},e.prototype.writeFeatures=function(t,e){return this.writeFeaturesText(t,this.adaptOptions(e))},e.prototype.writeFeaturesText=function(t,e){return Object(i.b)()},e.prototype.writeGeometry=function(t,e){return this.writeGeometryText(t,this.adaptOptions(e))},e.prototype.writeGeometryText=function(t,e){return Object(i.b)()},e}(o.a);function u(t){return"string"==typeof t?t:""}e.a=p},271:function(t,e,r){"use strict";r.d(e,"b",(function(){return v}));var n,o=r(288),a=r(263),i=r(265),s=r(266),p=r(297),u=r(293),c=r(284),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),f=null,h=function(t){function e(e,r,n,o,a,i){var s=t.call(this)||this;return s.hitDetectionImage_=null,s.image_=e||new Image,null!==o&&(s.image_.crossOrigin=o),s.canvas_={},s.color_=i,s.unlisten_=null,s.imageState_=a,s.size_=n,s.src_=r,s.tainted_,s}return l(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===i.a.LOADED){f||(f=Object(p.a)(1,1)),f.drawImage(this.image_,0,0);try{f.getImageData(0,0,1,1),this.tainted_=!1}catch(t){f=null,this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(a.a.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=i.a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=i.a.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],r=Object(p.a)(t,e);r.fillRect(0,0,t,e),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==i.a.IDLE){this.imageState_=i.a.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Object(c.b)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]&&this.imageState_===i.a.LOADED){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var r=e.getContext("2d");if(r.scale(t,t),r.drawImage(this.image_,0,0),r.globalCompositeOperation="multiply","multiply"===r.globalCompositeOperation||this.isTainted_())r.fillStyle=Object(s.b)(this.color_),r.fillRect(0,0,e.width/t,e.height/t),r.globalCompositeOperation="destination-in",r.drawImage(this.image_,0,0);else{for(var n=r.getImageData(0,0,e.width,e.height),o=n.data,a=this.color_[0]/255,p=this.color_[1]/255,u=this.color_[2]/255,c=this.color_[3],l=0,f=o.length;l<f;l+=4)o[l]*=a,o[l+1]*=p,o[l+2]*=u,o[l+3]*=c;r.putImageData(n,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(o.a);function v(t,e,r,n,o,a){var i=u.a.get(e,n,a);return i||(i=new h(t,e,r,n,o,a),u.a.set(e,n,a,i)),i}e.a=h},272:function(t,e,r){"use strict";var n=r(270),o=r(294),a=r(311),i=function(){function t(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=Object(a.d)(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new n.a({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:o.a.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){var e=this.getScale();return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(t){this.overflow_=t},t.prototype.setFont=function(t){this.font_=t},t.prototype.setMaxAngle=function(t){this.maxAngle_=t},t.prototype.setOffsetX=function(t){this.offsetX_=t},t.prototype.setOffsetY=function(t){this.offsetY_=t},t.prototype.setPlacement=function(t){this.placement_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setFill=function(t){this.fill_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=Object(a.d)(void 0!==t?t:1)},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.setText=function(t){this.text_=t},t.prototype.setTextAlign=function(t){this.textAlign_=t},t.prototype.setTextBaseline=function(t){this.textBaseline_=t},t.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},t.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},t.prototype.setPadding=function(t){this.padding_=t},t}();e.a=i},273:function(t,e,r){"use strict";var n,o=r(263),a=r(274),i=r(275),s=r(265),p=r(290),u=r(266),c=r(254),l=r(271),f=r(264),h=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),v=function(t){function e(e){var r=this,n=e||{},o=void 0!==n.opacity?n.opacity:1,p=void 0!==n.rotation?n.rotation:0,h=void 0!==n.scale?n.scale:1,v=void 0!==n.rotateWithView&&n.rotateWithView;(r=t.call(this,{opacity:o,rotation:p,scale:h,displacement:void 0!==n.displacement?n.displacement:[0,0],rotateWithView:v})||this).anchor_=void 0!==n.anchor?n.anchor:[.5,.5],r.normalizedAnchor_=null,r.anchorOrigin_=void 0!==n.anchorOrigin?n.anchorOrigin:i.a.TOP_LEFT,r.anchorXUnits_=void 0!==n.anchorXUnits?n.anchorXUnits:a.a.FRACTION,r.anchorYUnits_=void 0!==n.anchorYUnits?n.anchorYUnits:a.a.FRACTION,r.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null;var _=void 0!==n.img?n.img:null;r.imgSize_=n.imgSize;var y=n.src;Object(c.a)(!(void 0!==y&&_),4),Object(c.a)(!_||_&&r.imgSize_,5),void 0!==y&&0!==y.length||!_||(y=_.src||Object(f.c)(_)),Object(c.a)(void 0!==y&&y.length>0,6);var d=void 0!==n.src?s.a.IDLE:s.a.LOADED;return r.color_=void 0!==n.color?Object(u.a)(n.color):null,r.iconImage_=Object(l.b)(_,y,void 0!==r.imgSize_?r.imgSize_:null,r.crossOrigin_,d,r.color_),r.offset_=void 0!==n.offset?n.offset:[0,0],r.offsetOrigin_=void 0!==n.offsetOrigin?n.offsetOrigin:i.a.TOP_LEFT,r.origin_=null,r.size_=void 0!==n.size?n.size:null,r}return h(e,t),e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc()})},e.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var e=this.getSize();if(this.anchorXUnits_==a.a.FRACTION||this.anchorYUnits_==a.a.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==a.a.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==a.a.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=i.a.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=i.a.TOP_RIGHT&&this.anchorOrigin_!=i.a.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=i.a.BOTTOM_LEFT&&this.anchorOrigin_!=i.a.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}var r=this.getDisplacement();return[t[0]-r[0],t[1]+r[1]]},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=i.a.TOP_LEFT){var e=this.getSize(),r=this.iconImage_.getSize();if(!e||!r)return null;t=t.slice(),this.offsetOrigin_!=i.a.TOP_RIGHT&&this.offsetOrigin_!=i.a.BOTTOM_RIGHT||(t[0]=r[0]-e[0]-t[0]),this.offsetOrigin_!=i.a.BOTTOM_LEFT&&this.offsetOrigin_!=i.a.BOTTOM_RIGHT||(t[1]=r[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(o.a.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(o.a.CHANGE,t)},e}(p.a);e.a=v},274:function(t,e,r){"use strict";e.a={FRACTION:"fraction",PIXELS:"pixels"}},275:function(t,e,r){"use strict";e.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},278:function(t,e,r){"use strict";var n,o=r(249),a=r(267),i=r(251),s=r(261),p=r(250),u=r(255),c=r(262),l=r(260),f=r(303),h=r.n(f),v=r(259),_=r(256),y=r(320),d=r(302),g=r(316),m=r(254),w=r(248),b=r(277),O=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),S=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.dataProjection=new y.a({code:"",units:g.b.TILE_PIXELS}),r.featureClass_=n.featureClass?n.featureClass:d.a,r.geometryName_=n.geometryName,r.layerName_=n.layerName?n.layerName:"layer",r.layers_=n.layers?n.layers:null,r.idProperty_=n.idProperty,r.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"],r}return O(e,t),e.prototype.readRawGeometry_=function(t,e,r,n){t.pos=e.geometry;for(var o=t.readVarint()+t.pos,a=1,i=0,s=0,p=0,u=0,c=0;t.pos<o;){if(!i){var l=t.readVarint();a=7&l,i=l>>3}i--,1===a||2===a?(s+=t.readSVarint(),p+=t.readSVarint(),1===a&&u>c&&(n.push(u),c=u),r.push(s,p),u+=2):7===a?u>c&&(r.push(r[c],r[c+1]),u+=2):Object(m.a)(!1,59)}u>c&&(n.push(u),c=u)},e.prototype.createFeature_=function(t,e,r){var n,a=e.type;if(0===a)return null;var f,h=e.properties;this.idProperty_?(f=h[this.idProperty_],delete h[this.idProperty_]):f=e.id,h[this.layerName_]=e.layer.name;var y=[],g=[];this.readRawGeometry_(t,e,y,g);var m=function(t,e){var r;1===t?r=1===e?s.a.POINT:s.a.MULTI_POINT:2===t?r=1===e?s.a.LINE_STRING:s.a.MULTI_LINE_STRING:3===t&&(r=s.a.POLYGON);return r}(a,g.length);if(this.featureClass_===d.a)(n=new this.featureClass_(m,y,g,h,f)).transform(r.dataProjection);else{var w=void 0;if(m==s.a.POLYGON){var O=Object(b.a)(y,g);w=O.length>1?new l.a(y,i.a.XY,O):new _.b(y,i.a.XY,g)}else w=m===s.a.POINT?new v.a(y,i.a.XY):m===s.a.LINE_STRING?new p.a(y,i.a.XY):m===s.a.POLYGON?new _.b(y,i.a.XY,g):m===s.a.MULTI_POINT?new c.a(y,i.a.XY):m===s.a.MULTI_LINE_STRING?new u.a(y,i.a.XY,g):null;n=new(0,this.featureClass_),this.geometryName_&&n.setGeometryName(this.geometryName_);var S=Object(o.c)(w,!1,r);n.setGeometry(S),void 0!==f&&n.setId(f),n.setProperties(h,!0)}return n},e.prototype.getType=function(){return a.a.ARRAY_BUFFER},e.prototype.readFeatures=function(t,e){var r=this.layers_,n=this.adaptOptions(e),o=Object(w.l)(n.dataProjection);o.setWorldExtent(n.extent),n.dataProjection=o;var a=new h.a(t),i=a.readFields(k,{}),s=[];for(var p in i)if(!r||-1!=r.indexOf(p)){var u=i[p],c=u?[0,0,u.extent,u.extent]:null;o.setExtent(c);for(var l=0,f=u.length;l<f;++l){var v=N(a,u,l),_=this.createFeature_(a,v,n);null!==_&&s.push(_)}}return s},e.prototype.readProjection=function(t){return this.dataProjection},e.prototype.setLayers=function(t){this.layers_=t},e}(o.a);function k(t,e,r){if(3===t){var n={keys:[],values:[],features:[]},o=r.readVarint()+r.pos;r.readFields(E,n,o),n.length=n.features.length,n.length&&(e[n.name]=n)}}function E(t,e,r){if(15===t)e.version=r.readVarint();else if(1===t)e.name=r.readString();else if(5===t)e.extent=r.readVarint();else if(2===t)e.features.push(r.pos);else if(3===t)e.keys.push(r.readString());else if(4===t){for(var n=null,o=r.readVarint()+r.pos;r.pos<o;)n=1===(t=r.readVarint()>>3)?r.readString():2===t?r.readFloat():3===t?r.readDouble():4===t?r.readVarint64():5===t?r.readVarint():6===t?r.readSVarint():7===t?r.readBoolean():null;e.values.push(n)}}function P(t,e,r){if(1==t)e.id=r.readVarint();else if(2==t)for(var n=r.readVarint()+r.pos;r.pos<n;){var o=e.layer.keys[r.readVarint()],a=e.layer.values[r.readVarint()];e.properties[o]=a}else 3==t?e.type=r.readVarint():4==t&&(e.geometry=r.pos)}function N(t,e,r){t.pos=e.features[r];var n=t.readVarint()+t.pos,o={layer:e,type:0,properties:{}};return t.readFields(P,o,n),o}e.a=S},279:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(254),o=r(253),a=function(t,e,r){if(r||2===arguments.length)for(var n,o=0,a=e.length;o<a;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))},i={VERSION1:"version1",VERSION2:"version2",VERSION3:"version3"},s={};s[i.VERSION1]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}},s[i.VERSION2]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByDistortedWh","sizeByWh"],formats:["jpg","png"],qualities:["default","bitonal"]}},s[i.VERSION3]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionSquare","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["default"]}},s.none={none:{supports:[],formats:[],qualities:[]}};var p=/^https?:\/\/library\.stanford\.edu\/iiif\/image-api\/(?:1\.1\/)?compliance\.html#level[0-2]$/,u=/^https?:\/\/iiif\.io\/api\/image\/2\/level[0-2](?:\.json)?$/,c=/(^https?:\/\/iiif\.io\/api\/image\/3\/level[0-2](?:\.json)?$)|(^level[0-2]$)/;var l={};l[i.VERSION1]=function(t){var e=t.getComplianceLevelSupportedFeatures();return void 0===e&&(e=s[i.VERSION1].level0),{url:void 0===t.imageInfo["@id"]?void 0:t.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),supports:e.supports,formats:a(a([],e.formats,!0),[void 0===t.imageInfo.formats?[]:t.imageInfo.formats],!1),qualities:a(a([],e.qualities,!0),[void 0===t.imageInfo.qualities?[]:t.imageInfo.qualities],!1),resolutions:t.imageInfo.scale_factors,tileSize:void 0!==t.imageInfo.tile_width?void 0!==t.imageInfo.tile_height?[t.imageInfo.tile_width,t.imageInfo.tile_height]:[t.imageInfo.tile_width,t.imageInfo.tile_width]:null!=t.imageInfo.tile_height?[t.imageInfo.tile_height,t.imageInfo.tile_height]:void 0}},l[i.VERSION2]=function(t){var e=t.getComplianceLevelSupportedFeatures(),r=Array.isArray(t.imageInfo.profile)&&t.imageInfo.profile.length>1,n=r&&t.imageInfo.profile[1].supports?t.imageInfo.profile[1].supports:[],o=r&&t.imageInfo.profile[1].formats?t.imageInfo.profile[1].formats:[],i=r&&t.imageInfo.profile[1].qualities?t.imageInfo.profile[1].qualities:[];return{url:t.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),sizes:void 0===t.imageInfo.sizes?void 0:t.imageInfo.sizes.map((function(t){return[t.width,t.height]})),tileSize:void 0===t.imageInfo.tiles?void 0:[t.imageInfo.tiles.map((function(t){return t.width}))[0],t.imageInfo.tiles.map((function(t){return void 0===t.height?t.width:t.height}))[0]],resolutions:void 0===t.imageInfo.tiles?void 0:t.imageInfo.tiles.map((function(t){return t.scaleFactors}))[0],supports:a(a([],e.supports,!0),n,!0),formats:a(a([],e.formats,!0),o,!0),qualities:a(a([],e.qualities,!0),i,!0)}},l[i.VERSION3]=function(t){var e=t.getComplianceLevelSupportedFeatures(),r=void 0===t.imageInfo.extraFormats?e.formats:a(a([],e.formats,!0),t.imageInfo.extraFormats,!0),n=void 0!==t.imageInfo.preferredFormats&&Array.isArray(t.imageInfo.preferredFormats)&&t.imageInfo.preferredFormats.length>0?t.imageInfo.preferredFormats.filter((function(t){return Object(o.f)(["jpg","png","gif"],t)})).reduce((function(t,e){return void 0===t&&Object(o.f)(r,e)?e:t}),void 0):void 0;return{url:t.imageInfo.id,sizes:void 0===t.imageInfo.sizes?void 0:t.imageInfo.sizes.map((function(t){return[t.width,t.height]})),tileSize:void 0===t.imageInfo.tiles?void 0:[t.imageInfo.tiles.map((function(t){return t.width}))[0],t.imageInfo.tiles.map((function(t){return t.height}))[0]],resolutions:void 0===t.imageInfo.tiles?void 0:t.imageInfo.tiles.map((function(t){return t.scaleFactors}))[0],supports:void 0===t.imageInfo.extraFeatures?e.supports:a(a([],e.supports,!0),t.imageInfo.extraFeatures,!0),formats:r,qualities:void 0===t.imageInfo.extraQualities?e.qualities:a(a([],e.qualities,!0),t.imageInfo.extraQualities,!0),preferredFormat:n}};var f=function(){function t(t){this.setImageInfo(t)}return t.prototype.setImageInfo=function(t){this.imageInfo="string"==typeof t?JSON.parse(t):t},t.prototype.getImageApiVersion=function(){if(void 0!==this.imageInfo){var t=this.imageInfo["@context"]||"ol-no-context";"string"==typeof t&&(t=[t]);for(var e=0;e<t.length;e++)switch(t[e]){case"http://library.stanford.edu/iiif/image-api/1.1/context.json":case"http://iiif.io/api/image/1/context.json":return i.VERSION1;case"http://iiif.io/api/image/2/context.json":return i.VERSION2;case"http://iiif.io/api/image/3/context.json":return i.VERSION3;case"ol-no-context":if(this.getComplianceLevelEntryFromProfile(i.VERSION1)&&this.imageInfo.identifier)return i.VERSION1}Object(n.a)(!1,61)}},t.prototype.getComplianceLevelEntryFromProfile=function(t){if(void 0!==this.imageInfo&&void 0!==this.imageInfo.profile)switch(void 0===t&&(t=this.getImageApiVersion()),t){case i.VERSION1:if(p.test(this.imageInfo.profile))return this.imageInfo.profile;break;case i.VERSION3:if(c.test(this.imageInfo.profile))return this.imageInfo.profile;break;case i.VERSION2:if("string"==typeof this.imageInfo.profile&&u.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&this.imageInfo.profile.length>0&&"string"==typeof this.imageInfo.profile[0]&&u.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0]}},t.prototype.getComplianceLevelFromProfile=function(t){var e=this.getComplianceLevelEntryFromProfile(t);if(void 0!==e){var r=e.match(/level[0-2](?:\.json)?$/g);return Array.isArray(r)?r[0].replace(".json",""):void 0}},t.prototype.getComplianceLevelSupportedFeatures=function(){if(void 0!==this.imageInfo){var t=this.getImageApiVersion(),e=this.getComplianceLevelFromProfile(t);return void 0===e?s.none.none:s[t][e]}},t.prototype.getTileSourceOptions=function(t){var e=t||{},r=this.getImageApiVersion();if(void 0!==r){var n=void 0===r?void 0:l[r](this);if(void 0!==n)return{url:n.url,version:r,size:[this.imageInfo.width,this.imageInfo.height],sizes:n.sizes,format:void 0!==e.format&&Object(o.f)(n.formats,e.format)?e.format:void 0!==n.preferredFormat?n.preferredFormat:"jpg",supports:n.supports,quality:e.quality&&Object(o.f)(n.qualities,e.quality)?e.quality:Object(o.f)(n.qualities,"native")?"native":"default",resolutions:Array.isArray(n.resolutions)?n.resolutions.sort((function(t,e){return e-t})):void 0,tileSize:n.tileSize}}},t}();e.b=f},280:function(t,e,r){"use strict";var n,o=r(252),a=r(276),i=r(251),s=r(261),p=r(250),u=r(255),c=r(262),l=r(260),f=r(259),h=r(256),v=r(269),_=r(249),y=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),d={POINT:f.a,LINESTRING:p.a,POLYGON:h.b,MULTIPOINT:c.a,MULTILINESTRING:u.a,MULTIPOLYGON:l.a},g=0,m=1,w=2,b=3,O=4,S=5,k=6,E={};for(var P in s.a)E[P]=s.a[P].toUpperCase();var N=function(){function t(t){this.wkt=t,this.index_=-1}return t.prototype.isAlpha_=function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"},t.prototype.isNumeric_=function(t,e){return t>="0"&&t<="9"||"."==t&&!(void 0!==e&&e)},t.prototype.isWhiteSpace_=function(t){return" "==t||"\t"==t||"\r"==t||"\n"==t},t.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)},t.prototype.nextToken=function(){var t,e=this.nextChar_(),r=this.index_,n=e;if("("==e)t=w;else if(","==e)t=S;else if(")"==e)t=b;else if(this.isNumeric_(e)||"-"==e)t=O,n=this.readNumber_();else if(this.isAlpha_(e))t=m,n=this.readText_();else{if(this.isWhiteSpace_(e))return this.nextToken();if(""!==e)throw new Error("Unexpected character: "+e);t=k}return{position:r,value:n,type:t}},t.prototype.readNumber_=function(){var t,e=this.index_,r=!1,n=!1;do{"."==t?r=!0:"e"!=t&&"E"!=t||(n=!0),t=this.nextChar_()}while(this.isNumeric_(t,r)||!n&&("e"==t||"E"==t)||n&&("-"==t||"+"==t));return parseFloat(this.wkt.substring(e,this.index_--))},t.prototype.readText_=function(){var t,e=this.index_;do{t=this.nextChar_()}while(this.isAlpha_(t));return this.wkt.substring(e,this.index_--).toUpperCase()},t}(),I=function(){function t(t){this.lexer_=t,this.token_={position:0,type:g},this.layout_=i.a.XY}return t.prototype.consume_=function(){this.token_=this.lexer_.nextToken()},t.prototype.isTokenType=function(t){return this.token_.type==t},t.prototype.match=function(t){var e=this.isTokenType(t);return e&&this.consume_(),e},t.prototype.parse=function(){return this.consume_(),this.parseGeometry_()},t.prototype.parseGeometryLayout_=function(){var t=i.a.XY,e=this.token_;if(this.isTokenType(m)){var r=e.value;"Z"===r?t=i.a.XYZ:"M"===r?t=i.a.XYM:"ZM"===r&&(t=i.a.XYZM),t!==i.a.XY&&this.consume_()}return t},t.prototype.parseGeometryCollectionText_=function(){if(this.match(w)){var t=[];do{t.push(this.parseGeometry_())}while(this.match(S));if(this.match(b))return t}throw new Error(this.formatErrorMessage_())},t.prototype.parsePointText_=function(){if(this.match(w)){var t=this.parsePoint_();if(this.match(b))return t}throw new Error(this.formatErrorMessage_())},t.prototype.parseLineStringText_=function(){if(this.match(w)){var t=this.parsePointList_();if(this.match(b))return t}throw new Error(this.formatErrorMessage_())},t.prototype.parsePolygonText_=function(){if(this.match(w)){var t=this.parseLineStringTextList_();if(this.match(b))return t}throw new Error(this.formatErrorMessage_())},t.prototype.parseMultiPointText_=function(){if(this.match(w)){var t=void 0;if(t=this.token_.type==w?this.parsePointTextList_():this.parsePointList_(),this.match(b))return t}throw new Error(this.formatErrorMessage_())},t.prototype.parseMultiLineStringText_=function(){if(this.match(w)){var t=this.parseLineStringTextList_();if(this.match(b))return t}throw new Error(this.formatErrorMessage_())},t.prototype.parseMultiPolygonText_=function(){if(this.match(w)){var t=this.parsePolygonTextList_();if(this.match(b))return t}throw new Error(this.formatErrorMessage_())},t.prototype.parsePoint_=function(){for(var t=[],e=this.layout_.length,r=0;r<e;++r){var n=this.token_;if(!this.match(O))break;t.push(n.value)}if(t.length==e)return t;throw new Error(this.formatErrorMessage_())},t.prototype.parsePointList_=function(){for(var t=[this.parsePoint_()];this.match(S);)t.push(this.parsePoint_());return t},t.prototype.parsePointTextList_=function(){for(var t=[this.parsePointText_()];this.match(S);)t.push(this.parsePointText_());return t},t.prototype.parseLineStringTextList_=function(){for(var t=[this.parseLineStringText_()];this.match(S);)t.push(this.parseLineStringText_());return t},t.prototype.parsePolygonTextList_=function(){for(var t=[this.parsePolygonText_()];this.match(S);)t.push(this.parsePolygonText_());return t},t.prototype.isEmptyGeometry_=function(){var t=this.isTokenType(m)&&"EMPTY"==this.token_.value;return t&&this.consume_(),t},t.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"},t.prototype.parseGeometry_=function(){var t=this.token_;if(this.match(m)){var e=t.value;this.layout_=this.parseGeometryLayout_();var r=this.isEmptyGeometry_();if("GEOMETRYCOLLECTION"==e){if(r)return new a.a([]);var n=this.parseGeometryCollectionText_();return new a.a(n)}var o=d[e];if(!o)throw new Error("Invalid geometry type: "+e);var i=void 0;if(r)i="POINT"==e?[NaN,NaN]:[];else switch(e){case"POINT":i=this.parsePointText_();break;case"LINESTRING":i=this.parseLineStringText_();break;case"POLYGON":i=this.parsePolygonText_();break;case"MULTIPOINT":i=this.parseMultiPointText_();break;case"MULTILINESTRING":i=this.parseMultiLineStringText_();break;case"MULTIPOLYGON":i=this.parseMultiPolygonText_()}return new o(i,this.layout_)}throw new Error(this.formatErrorMessage_())},t}(),T=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.splitCollection_=void 0!==n.splitCollection&&n.splitCollection,r}return y(e,t),e.prototype.parse_=function(t){var e=new N(t);return new I(e).parse()},e.prototype.readFeatureFromText=function(t,e){var r=this.readGeometryFromText(t,e),n=new o.a;return n.setGeometry(r),n},e.prototype.readFeaturesFromText=function(t,e){for(var r=[],n=this.readGeometryFromText(t,e),a=[],i=0,p=(r=this.splitCollection_&&n.getType()==s.a.GEOMETRY_COLLECTION?n.getGeometriesArray():[n]).length;i<p;++i){var u=new o.a;u.setGeometry(r[i]),a.push(u)}return a},e.prototype.readGeometryFromText=function(t,e){var r=this.parse_(t);return Object(_.c)(r,!1,e)},e.prototype.writeFeatureText=function(t,e){var r=t.getGeometry();return r?this.writeGeometryText(r,e):""},e.prototype.writeFeaturesText=function(t,e){if(1==t.length)return this.writeFeatureText(t[0],e);for(var r=[],n=0,o=t.length;n<o;++n)r.push(t[n].getGeometry());var i=new a.a(r);return this.writeGeometryText(i,e)},e.prototype.writeGeometryText=function(t,e){return F(Object(_.c)(t,!0,e))},e}(v.a);function R(t){var e=t.getCoordinates();return 0===e.length?"":e.join(" ")}function x(t){for(var e=t.getCoordinates(),r=[],n=0,o=e.length;n<o;++n)r.push(e[n].join(" "));return r.join(",")}function L(t){for(var e=[],r=t.getLinearRings(),n=0,o=r.length;n<o;++n)e.push("("+x(r[n])+")");return e.join(",")}var M={Point:R,LineString:x,Polygon:L,MultiPoint:function(t){for(var e=[],r=t.getPoints(),n=0,o=r.length;n<o;++n)e.push("("+R(r[n])+")");return e.join(",")},MultiLineString:function(t){for(var e=[],r=t.getLineStrings(),n=0,o=r.length;n<o;++n)e.push("("+x(r[n])+")");return e.join(",")},MultiPolygon:function(t){for(var e=[],r=t.getPolygons(),n=0,o=r.length;n<o;++n)e.push("("+L(r[n])+")");return e.join(",")},GeometryCollection:function(t){for(var e=[],r=t.getGeometries(),n=0,o=r.length;n<o;++n)e.push(F(r[n]));return e.join(",")}};function F(t){var e=t.getType(),r=(0,M[e])(t);if(e=e.toUpperCase(),"function"==typeof t.getFlatCoordinates){var n=function(t){var e=t.getLayout(),r="";return e!==i.a.XYZ&&e!==i.a.XYZM||(r+="Z"),e!==i.a.XYM&&e!==i.a.XYZM||(r+="M"),r}(t);n.length>0&&(e+=" "+n)}return 0===r.length?e+" EMPTY":e+"("+r+")"}e.a=T},282:function(t,e,r){"use strict";r.r(e),r.d(e,"EsriJSON",(function(){return T})),r.d(e,"GeoJSON",(function(){return R.a})),r.d(e,"GML",(function(){return Lt})),r.d(e,"GPX",(function(){return we})),r.d(e,"IGC",(function(){return Re})),r.d(e,"IIIFInfo",(function(){return xe.b})),r.d(e,"KML",(function(){return Gn})),r.d(e,"MVT",(function(){return Un.a})),r.d(e,"OWS",(function(){return ao})),r.d(e,"Polyline",(function(){return lo})),r.d(e,"TopoJSON",(function(){return bo})),r.d(e,"WFS",(function(){return Wa})),r.d(e,"WKB",(function(){return pi})),r.d(e,"WKT",(function(){return ui.a})),r.d(e,"WMSCapabilities",(function(){return Ai})),r.d(e,"WMSGetFeatureInfo",(function(){return ji})),r.d(e,"WMTSCapabilities",(function(){return es}));var n,o=r(252),a=r(251),i=r(261),s=r(299),p=r(250),u=r(296),c=r(255),l=r(262),f=r(260),h=r(259),v=r(256),_=r(254),y=r(257),d=r(258),g=r(318),m=r(248),w=r(277),b=r(249),O=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),S={};S[i.a.POINT]=function(t){var e;e=void 0!==t.m&&void 0!==t.z?new h.a([t.x,t.y,t.z,t.m],a.a.XYZM):void 0!==t.z?new h.a([t.x,t.y,t.z],a.a.XYZ):void 0!==t.m?new h.a([t.x,t.y,t.m],a.a.XYM):new h.a([t.x,t.y]);return e},S[i.a.LINE_STRING]=function(t){var e=P(t);return new p.a(t.paths[0],e)},S[i.a.POLYGON]=function(t){var e=P(t);return new v.b(t.rings,e)},S[i.a.MULTI_POINT]=function(t){var e=P(t);return new l.a(t.points,e)},S[i.a.MULTI_LINE_STRING]=function(t){var e=P(t);return new c.a(t.paths,e)},S[i.a.MULTI_POLYGON]=function(t){var e=P(t);return new f.a(t.rings,e)};var k={};function E(t,e){var r,n,o;if(!t)return null;if("number"==typeof t.x&&"number"==typeof t.y)o=i.a.POINT;else if(t.points)o=i.a.MULTI_POINT;else if(t.paths){o=1===t.paths.length?i.a.LINE_STRING:i.a.MULTI_LINE_STRING}else if(t.rings){var a=t,s=P(a),p=function(t,e){var r,n,o=[],a=[],i=[];for(r=0,n=t.length;r<n;++r){o.length=0,Object(g.b)(o,0,t[r],e.length),Object(w.b)(o,0,o.length,e.length)?a.push([t[r]]):i.push(t[r])}for(;i.length;){var s=i.shift(),p=!1;for(r=a.length-1;r>=0;r--){var c=a[r][0];if(Object(d.h)(new u.a(c).getExtent(),new u.a(s).getExtent())){a[r].push(s),p=!0;break}}p||a.push([s.reverse()])}return a}(a.rings,s);1===p.length?(o=i.a.POLYGON,t=Object(y.a)({},t,((r={}).rings=p[0],r))):(o=i.a.MULTI_POLYGON,t=Object(y.a)({},t,((n={}).rings=p,n)))}var c=S[o];return Object(b.c)(c(t),!1,e)}function P(t){var e=a.a.XY;return!0===t.hasZ&&!0===t.hasM?e=a.a.XYZM:!0===t.hasZ?e=a.a.XYZ:!0===t.hasM&&(e=a.a.XYM),e}function N(t){var e=t.getLayout();return{hasZ:e===a.a.XYZ||e===a.a.XYZM,hasM:e===a.a.XYM||e===a.a.XYZM}}function I(t,e){return(0,k[t.getType()])(Object(b.c)(t,!0,e),e)}k[i.a.POINT]=function(t,e){var r,n=t.getCoordinates(),o=t.getLayout();o===a.a.XYZ?r={x:n[0],y:n[1],z:n[2]}:o===a.a.XYM?r={x:n[0],y:n[1],m:n[2]}:o===a.a.XYZM?r={x:n[0],y:n[1],z:n[2],m:n[3]}:o===a.a.XY?r={x:n[0],y:n[1]}:Object(_.a)(!1,34);return r},k[i.a.LINE_STRING]=function(t,e){var r=N(t);return{hasZ:r.hasZ,hasM:r.hasM,paths:[t.getCoordinates()]}},k[i.a.POLYGON]=function(t,e){var r=N(t);return{hasZ:r.hasZ,hasM:r.hasM,rings:t.getCoordinates(!1)}},k[i.a.MULTI_POINT]=function(t,e){var r=N(t);return{hasZ:r.hasZ,hasM:r.hasM,points:t.getCoordinates()}},k[i.a.MULTI_LINE_STRING]=function(t,e){var r=N(t);return{hasZ:r.hasZ,hasM:r.hasM,paths:t.getCoordinates()}},k[i.a.MULTI_POLYGON]=function(t,e){for(var r=N(t),n=t.getCoordinates(!1),o=[],a=0;a<n.length;a++)for(var i=n[a].length-1;i>=0;i--)o.push(n[a][i]);return{hasZ:r.hasZ,hasM:r.hasM,rings:o}};var T=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this)||this).geometryName_=n.geometryName,r}return O(e,t),e.prototype.readFeatureFromObject=function(t,e,r){var n=t,a=E(n.geometry,e),i=new o.a;if(this.geometryName_&&i.setGeometryName(this.geometryName_),i.setGeometry(a),n.attributes){i.setProperties(n.attributes,!0);var s=n.attributes[r];void 0!==s&&i.setId(s)}return i},e.prototype.readFeaturesFromObject=function(t,e){var r=e||{};if(t.features){for(var n=[],o=t.features,a=0,i=o.length;a<i;++a)n.push(this.readFeatureFromObject(o[a],r,t.objectIdFieldName));return n}return[this.readFeatureFromObject(t,r)]},e.prototype.readGeometryFromObject=function(t,e){return E(t,e)},e.prototype.readProjectionFromObject=function(t){if(t.spatialReference&&void 0!==t.spatialReference.wkid){var e=t.spatialReference.wkid;return Object(m.l)("EPSG:"+e)}return null},e.prototype.writeGeometryObject=function(t,e){return I(t,this.adaptOptions(e))},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var r={};if(!t.hasProperties())return r.attributes={},r;var n=t.getProperties(),o=t.getGeometry();if(o){r.geometry=I(o,e);var a=e&&(e.dataProjection||e.featureProjection);a&&(r.geometry.spatialReference={wkid:Number(Object(m.l)(a).getCode().split(":").pop())}),delete n[t.getGeometryName()]}return Object(y.d)(n)?r.attributes={}:r.attributes=n,r},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var r=[],n=0,o=t.length;n<o;++n)r.push(this.writeFeatureObject(t[n],e));return{features:r}},e}(s.a),R=r(300),x=r(267),L=r(264),M=r(253),F="http://www.w3.org/2001/XMLSchema-instance";function A(t,e){return rt().createElementNS(t,e)}function C(t,e){return function t(e,r,n){if(e.nodeType==Node.CDATA_SECTION_NODE||e.nodeType==Node.TEXT_NODE)r?n.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(e.nodeValue);else{var o=void 0;for(o=e.firstChild;o;o=o.nextSibling)t(o,r,n)}return n}(t,e,[]).join("")}function j(t){return"documentElement"in t}function G(t){return(new DOMParser).parseFromString(t,"application/xml")}function U(t,e){return function(r,n){var o=t.call(void 0!==e?e:this,r,n);if(void 0!==o){var a=n[n.length-1];Object(M.c)(a,o)}}}function B(t,e){return function(r,n){var o=t.call(void 0!==e?e:this,r,n);void 0!==o&&n[n.length-1].push(o)}}function D(t,e){return function(r,n){var o=t.call(void 0!==e?e:this,r,n);void 0!==o&&(n[n.length-1]=o)}}function Y(t,e,r){return function(n,o){var a=t.call(void 0!==r?r:this,n,o);if(void 0!==a){var i=o[o.length-1],s=void 0!==e?e:n.localName,p=void 0;s in i?p=i[s]:(p=[],i[s]=p),p.push(a)}}}function V(t,e,r){return function(n,o){var a=t.call(void 0!==r?r:this,n,o);void 0!==a&&(o[o.length-1][void 0!==e?e:n.localName]=a)}}function z(t,e){return function(r,n,o){t.call(void 0!==e?e:this,r,n,o),o[o.length-1].node.appendChild(r)}}function Z(t,e){var r,n;return function(e,o,a){if(void 0===r){r={};var i={};i[e.localName]=t,r[e.namespaceURI]=i,n=X(e.localName)}K(r,n,o,a)}}function X(t,e){var r=t;return function(t,n,o){var a=n[n.length-1].node,i=r;return void 0===i&&(i=o),A(void 0!==e?e:a.namespaceURI,i)}}var W=X();function q(t,e){for(var r=e.length,n=new Array(r),o=0;o<r;++o)n[o]=t[e[o]];return n}function H(t,e,r){var n,o,a=void 0!==r?r:{};for(n=0,o=t.length;n<o;++n)a[t[n]]=e;return a}function J(t,e,r,n){var o;for(o=e.firstElementChild;o;o=o.nextElementSibling){var a=t[o.namespaceURI];if(void 0!==a){var i=a[o.localName];void 0!==i&&i.call(n,o,r)}}}function $(t,e,r,n,o){return n.push(t),J(e,r,n,o),n.pop()}function K(t,e,r,n,o,a){for(var i,s,p=(void 0!==o?o:r).length,u=0;u<p;++u)void 0!==(i=r[u])&&void 0!==(s=e.call(void 0!==a?a:this,i,n,void 0!==o?o[u]:void 0))&&t[s.namespaceURI][s.localName].call(a,s,i,n)}function Q(t,e,r,n,o,a,i){return o.push(t),K(e,r,n,o,a,i),o.pop()}var tt=void 0;var et=void 0;function rt(){return void 0===et&&"undefined"!=typeof document&&(et=document.implementation.createDocument("","",null)),et}var nt=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ot=function(t){function e(){var e=t.call(this)||this;return e.xmlSerializer_=(void 0===tt&&"undefined"!=typeof XMLSerializer&&(tt=new XMLSerializer),tt),e}return nt(e,t),e.prototype.getType=function(){return x.a.XML},e.prototype.readFeature=function(t,e){if(t){if("string"==typeof t){var r=G(t);return this.readFeatureFromDocument(r,e)}return j(t)?this.readFeatureFromDocument(t,e):this.readFeatureFromNode(t,e)}return null},e.prototype.readFeatureFromDocument=function(t,e){var r=this.readFeaturesFromDocument(t,e);return r.length>0?r[0]:null},e.prototype.readFeatureFromNode=function(t,e){return null},e.prototype.readFeatures=function(t,e){if(t){if("string"==typeof t){var r=G(t);return this.readFeaturesFromDocument(r,e)}return j(t)?this.readFeaturesFromDocument(t,e):this.readFeaturesFromNode(t,e)}return[]},e.prototype.readFeaturesFromDocument=function(t,e){for(var r=[],n=t.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&Object(M.c)(r,this.readFeaturesFromNode(n,e));return r},e.prototype.readFeaturesFromNode=function(t,e){return Object(L.b)()},e.prototype.readGeometry=function(t,e){if(t){if("string"==typeof t){var r=G(t);return this.readGeometryFromDocument(r,e)}return j(t)?this.readGeometryFromDocument(t,e):this.readGeometryFromNode(t,e)}return null},e.prototype.readGeometryFromDocument=function(t,e){return null},e.prototype.readGeometryFromNode=function(t,e){return null},e.prototype.readProjection=function(t){if(t){if("string"==typeof t){var e=G(t);return this.readProjectionFromDocument(e)}return j(t)?this.readProjectionFromDocument(t):this.readProjectionFromNode(t)}return null},e.prototype.readProjectionFromDocument=function(t){return this.dataProjection},e.prototype.readProjectionFromNode=function(t){return this.dataProjection},e.prototype.writeFeature=function(t,e){var r=this.writeFeatureNode(t,e);return this.xmlSerializer_.serializeToString(r)},e.prototype.writeFeatureNode=function(t,e){return null},e.prototype.writeFeatures=function(t,e){var r=this.writeFeaturesNode(t,e);return this.xmlSerializer_.serializeToString(r)},e.prototype.writeFeaturesNode=function(t,e){return null},e.prototype.writeGeometry=function(t,e){var r=this.writeGeometryNode(t,e);return this.xmlSerializer_.serializeToString(r)},e.prototype.writeGeometryNode=function(t,e){return null},e}(b.a),at=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),it="http://www.opengis.net/gml",st=/^[\s\xa0]*$/,pt=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.featureType=n.featureType,r.featureNS=n.featureNS,r.srsName=n.srsName,r.schemaLocation="",r.FEATURE_COLLECTION_PARSERS={},r.FEATURE_COLLECTION_PARSERS[r.namespace]={featureMember:B(r.readFeaturesInternal),featureMembers:D(r.readFeaturesInternal)},r.supportedMediaTypes=["application/gml+xml"],r}return at(e,t),e.prototype.readFeaturesInternal=function(t,e){var r=t.localName,n=null;if("FeatureCollection"==r)n=$([],this.FEATURE_COLLECTION_PARSERS,t,e,this);else if("featureMembers"==r||"featureMember"==r||"member"==r){var o=e[0],a=o.featureType,i=o.featureNS;if(!a&&t.childNodes){a=[],i={};for(var s=0,p=t.childNodes.length;s<p;++s){var u=t.childNodes[s];if(1===u.nodeType){var c=u.nodeName.split(":").pop();if(-1===a.indexOf(c)){var l="",f=0,h=u.namespaceURI;for(var v in i){if(i[v]===h){l=v;break}++f}l||(i[l="p"+f]=h),a.push(l+":"+c)}}}"featureMember"!=r&&(o.featureType=a,o.featureNS=i)}if("string"==typeof i){var _=i;(i={}).p0=_}var y={},d=Array.isArray(a)?a:[a];for(var g in i){var m={};for(s=0,p=d.length;s<p;++s){(-1===d[s].indexOf(":")?"p0":d[s].split(":")[0])===g&&(m[d[s].split(":").pop()]="featureMembers"==r?B(this.readFeatureElement,this):D(this.readFeatureElement,this))}y[i[g]]=m}n=$("featureMember"==r||"member"==r?void 0:[],y,t,e)}return null===n&&(n=[]),n},e.prototype.readGeometryOrExtent=function(t,e){var r=e[0];return r.srsName=t.firstElementChild.getAttribute("srsName"),r.srsDimension=t.firstElementChild.getAttribute("srsDimension"),$(null,this.GEOMETRY_PARSERS,t,e,this)},e.prototype.readExtentElement=function(t,e){var r=e[0],n=this.readGeometryOrExtent(t,e);return n?Object(b.b)(n,r):void 0},e.prototype.readGeometryElement=function(t,e){var r=e[0],n=this.readGeometryOrExtent(t,e);return n?Object(b.c)(n,!1,r):void 0},e.prototype.readFeatureElementInternal=function(t,e,r){for(var n,a={},i=t.firstElementChild;i;i=i.nextElementSibling){var s=void 0,p=i.localName;0===i.childNodes.length||1===i.childNodes.length&&(3===i.firstChild.nodeType||4===i.firstChild.nodeType)?(s=C(i,!1),st.test(s)&&(s=void 0)):(r&&(s="boundedBy"===p?this.readExtentElement(i,e):this.readGeometryElement(i,e)),s?"boundedBy"!==p&&(n=p):s=this.readFeatureElementInternal(i,e,!1)),a[p]?(a[p]instanceof Array||(a[p]=[a[p]]),a[p].push(s)):a[p]=s;var u=i.attributes.length;if(u>0){a[p]={_content_:a[p]};for(var c=0;c<u;c++){var l=i.attributes[c].name;a[p][l]=i.attributes[c].value}}}if(r){var f=new o.a(a);n&&f.setGeometryName(n);var h=t.getAttribute("fid")||function(t,e,r){return t.getAttributeNS(e,r)||""}(t,this.namespace,"id");return h&&f.setId(h),f}return a},e.prototype.readFeatureElement=function(t,e){return this.readFeatureElementInternal(t,e,!0)},e.prototype.readPoint=function(t,e){var r=this.readFlatCoordinatesFromNode(t,e);if(r)return new h.a(r,a.a.XYZ)},e.prototype.readMultiPoint=function(t,e){var r=$([],this.MULTIPOINT_PARSERS,t,e,this);return r?new l.a(r):void 0},e.prototype.readMultiLineString=function(t,e){var r=$([],this.MULTILINESTRING_PARSERS,t,e,this);if(r)return new c.a(r)},e.prototype.readMultiPolygon=function(t,e){var r=$([],this.MULTIPOLYGON_PARSERS,t,e,this);if(r)return new f.a(r)},e.prototype.pointMemberParser=function(t,e){J(this.POINTMEMBER_PARSERS,t,e,this)},e.prototype.lineStringMemberParser=function(t,e){J(this.LINESTRINGMEMBER_PARSERS,t,e,this)},e.prototype.polygonMemberParser=function(t,e){J(this.POLYGONMEMBER_PARSERS,t,e,this)},e.prototype.readLineString=function(t,e){var r=this.readFlatCoordinatesFromNode(t,e);return r?new p.a(r,a.a.XYZ):void 0},e.prototype.readFlatLinearRing=function(t,e){var r=$(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this);return r||void 0},e.prototype.readLinearRing=function(t,e){var r=this.readFlatCoordinatesFromNode(t,e);if(r)return new u.a(r,a.a.XYZ)},e.prototype.readPolygon=function(t,e){var r=$([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this);if(r&&r[0]){var n,o=r[0],i=[o.length],s=void 0;for(s=1,n=r.length;s<n;++s)Object(M.c)(o,r[s]),i.push(o.length);return new v.b(o,a.a.XYZ,i)}},e.prototype.readFlatCoordinatesFromNode=function(t,e){return $(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},e.prototype.readGeometryFromNode=function(t,e){var r=this.readGeometryElement(t,[this.getReadOptions(t,e||{})]);return r||null},e.prototype.readFeaturesFromNode=function(t,e){var r={featureType:this.featureType,featureNS:this.featureNS};return e&&Object(y.a)(r,this.getReadOptions(t,e)),this.readFeaturesInternal(t,[r])||[]},e.prototype.readProjectionFromNode=function(t){return Object(m.l)(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},e}(ot);pt.prototype.namespace=it,pt.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},pt.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},pt.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},pt.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:B(pt.prototype.pointMemberParser),pointMembers:B(pt.prototype.pointMemberParser)}},pt.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:B(pt.prototype.lineStringMemberParser),lineStringMembers:B(pt.prototype.lineStringMemberParser)}},pt.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:B(pt.prototype.polygonMemberParser),polygonMembers:B(pt.prototype.polygonMemberParser)}},pt.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:B(pt.prototype.readFlatCoordinatesFromNode)}},pt.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:B(pt.prototype.readLineString)}},pt.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:B(pt.prototype.readPolygon)}},pt.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:D(pt.prototype.readFlatLinearRing)}};var ut=pt,ct=r(321);function lt(t){return ft(C(t,!1))}function ft(t){var e=/^\s*(true|1)|(false|0)\s*$/.exec(t);return e?void 0!==e[1]||!1:void 0}function ht(t){var e=C(t,!1),r=Date.parse(e);return isNaN(r)?void 0:r/1e3}function vt(t){return _t(C(t,!1))}function _t(t){var e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);return e?parseFloat(e[1]):void 0}function yt(t){return dt(C(t,!1))}function dt(t){var e=/^\s*(\d+)\s*$/.exec(t);return e?parseInt(e[1],10):void 0}function gt(t){return C(t,!1).trim()}function mt(t,e){Ot(t,e?"1":"0")}function wt(t,e){var r=e.toPrecision();t.appendChild(rt().createTextNode(r))}function bt(t,e){var r=e.toString();t.appendChild(rt().createTextNode(r))}function Ot(t,e){t.appendChild(rt().createTextNode(e))}var St=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),kt={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},Et=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this,n)||this).FEATURE_COLLECTION_PARSERS[it].featureMember=B(r.readFeaturesInternal),r.schemaLocation=n.schemaLocation?n.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd",r}return St(e,t),e.prototype.readFlatCoordinates=function(t,e){var r=C(t,!1).replace(/^\s*|\s*$/g,""),n=e[0].srsName,o="enu";if(n){var a=Object(m.l)(n);a&&(o=a.getAxisOrientation())}for(var i=r.trim().split(/\s+/),s=[],p=0,u=i.length;p<u;p++){var c=i[p].split(/,+/),l=parseFloat(c[0]),f=parseFloat(c[1]),h=3===c.length?parseFloat(c[2]):0;"en"===o.substr(0,2)?s.push(l,f,h):s.push(f,l,h)}return s},e.prototype.readBox=function(t,e){var r=$([null],this.BOX_PARSERS_,t,e,this);return Object(d.l)(r[1][0],r[1][1],r[1][3],r[1][4])},e.prototype.innerBoundaryIsParser=function(t,e){var r=$(void 0,this.RING_PARSERS,t,e,this);r&&e[e.length-1].push(r)},e.prototype.outerBoundaryIsParser=function(t,e){var r=$(void 0,this.RING_PARSERS,t,e,this);r&&(e[e.length-1][0]=r)},e.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,r){var n,o=e[e.length-1],a=o.multiSurface,i=o.surface,s=o.multiCurve;return Array.isArray(t)?n="Envelope":"MultiPolygon"===(n=t.getType())&&!0===a?n="MultiSurface":"Polygon"===n&&!0===i?n="Surface":"MultiLineString"===n&&!0===s&&(n="MultiCurve"),A("http://www.opengis.net/gml",n)},e.prototype.writeFeatureElement=function(t,e,r){var n=e.getId();n&&t.setAttribute("fid",n);var o=r[r.length-1],a=o.featureNS,i=e.getGeometryName();o.serializers||(o.serializers={},o.serializers[a]={});var s=[],p=[];if(e.hasProperties()){var u=e.getProperties();for(var c in u){var l=u[c];null!==l&&(s.push(c),p.push(l),c==i||"function"==typeof l.getSimplifiedGeometry?c in o.serializers[a]||(o.serializers[a][c]=z(this.writeGeometryElement,this)):c in o.serializers[a]||(o.serializers[a][c]=z(Ot)))}}var f=Object(y.a)({},o);f.node=t,Q(f,o.serializers,X(void 0,a),p,r,s)},e.prototype.writeCurveOrLineString=function(t,e,r){var n=r[r.length-1].srsName;if("LineStringSegment"!==t.nodeName&&n&&t.setAttribute("srsName",n),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){var o=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(o),this.writeCoordinates_(o,e,r)}else if("Curve"===t.nodeName){var a=A(t.namespaceURI,"segments");t.appendChild(a),this.writeCurveSegments_(a,e,r)}},e.prototype.writeLineStringOrCurveMember=function(t,e,r){var n=this.GEOMETRY_NODE_FACTORY_(e,r);n&&(t.appendChild(n),this.writeCurveOrLineString(n,e,r))},e.prototype.writeMultiCurveOrLineString=function(t,e,r){var n=r[r.length-1],o=n.hasZ,a=n.srsName,i=n.curve;a&&t.setAttribute("srsName",a);var s=e.getLineStrings();Q({node:t,hasZ:o,srsName:a,curve:i},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},e.prototype.writeGeometryElement=function(t,e,r){var n,o=r[r.length-1],a=Object(y.a)({},o);a.node=t,n=Array.isArray(e)?Object(b.b)(e,o):Object(b.c)(e,!0,o),Q(a,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[n],r,void 0,this)},e.prototype.createCoordinatesNode_=function(t){var e=A(t,"coordinates");return e.setAttribute("decimal","."),e.setAttribute("cs",","),e.setAttribute("ts"," "),e},e.prototype.writeCoordinates_=function(t,e,r){for(var n=r[r.length-1],o=n.hasZ,a=n.srsName,i=e.getCoordinates(),s=i.length,p=new Array(s),u=0;u<s;++u){var c=i[u];p[u]=this.getCoords_(c,a,o)}Ot(t,p.join(" "))},e.prototype.writeCurveSegments_=function(t,e,r){var n=A(t.namespaceURI,"LineStringSegment");t.appendChild(n),this.writeCurveOrLineString(n,e,r)},e.prototype.writeSurfaceOrPolygon=function(t,e,r){var n=r[r.length-1],o=n.hasZ,a=n.srsName;if("PolygonPatch"!==t.nodeName&&a&&t.setAttribute("srsName",a),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){var i=e.getLinearRings();Q({node:t,hasZ:o,srsName:a},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,i,r,void 0,this)}else if("Surface"===t.nodeName){var s=A(t.namespaceURI,"patches");t.appendChild(s),this.writeSurfacePatches_(s,e,r)}},e.prototype.RING_NODE_FACTORY_=function(t,e,r){var n=e[e.length-1],o=n.node,a=n.exteriorWritten;return void 0===a&&(n.exteriorWritten=!0),A(o.namespaceURI,void 0!==a?"innerBoundaryIs":"outerBoundaryIs")},e.prototype.writeSurfacePatches_=function(t,e,r){var n=A(t.namespaceURI,"PolygonPatch");t.appendChild(n),this.writeSurfaceOrPolygon(n,e,r)},e.prototype.writeRing=function(t,e,r){var n=A(t.namespaceURI,"LinearRing");t.appendChild(n),this.writeLinearRing(n,e,r)},e.prototype.getCoords_=function(t,e,r){var n="enu";e&&(n=Object(m.l)(e).getAxisOrientation());var o="en"===n.substr(0,2)?t[0]+","+t[1]:t[1]+","+t[0];r&&(o+=","+(t[2]||0));return o},e.prototype.writePoint=function(t,e,r){var n=r[r.length-1],o=n.hasZ,a=n.srsName;a&&t.setAttribute("srsName",a);var i=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(i);var s=e.getCoordinates();Ot(i,this.getCoords_(s,a,o))},e.prototype.writeMultiPoint=function(t,e,r){var n=r[r.length-1],o=n.hasZ,a=n.srsName;a&&t.setAttribute("srsName",a);var i=e.getPoints();Q({node:t,hasZ:o,srsName:a},this.POINTMEMBER_SERIALIZERS,X("pointMember"),i,r,void 0,this)},e.prototype.writePointMember=function(t,e,r){var n=A(t.namespaceURI,"Point");t.appendChild(n),this.writePoint(n,e,r)},e.prototype.writeLinearRing=function(t,e,r){var n=r[r.length-1].srsName;n&&t.setAttribute("srsName",n);var o=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(o),this.writeCoordinates_(o,e,r)},e.prototype.writeMultiSurfaceOrPolygon=function(t,e,r){var n=r[r.length-1],o=n.hasZ,a=n.srsName,i=n.surface;a&&t.setAttribute("srsName",a);var s=e.getPolygons();Q({node:t,hasZ:o,srsName:a,surface:i},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},e.prototype.writeSurfaceOrPolygonMember=function(t,e,r){var n=this.GEOMETRY_NODE_FACTORY_(e,r);n&&(t.appendChild(n),this.writeSurfaceOrPolygon(n,e,r))},e.prototype.writeEnvelope=function(t,e,r){var n=r[r.length-1].srsName;n&&t.setAttribute("srsName",n);var o=[e[0]+" "+e[1],e[2]+" "+e[3]];Q({node:t},this.ENVELOPE_SERIALIZERS,W,o,r,["lowerCorner","upperCorner"],this)},e.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,r){var n=e[e.length-1].node;return A("http://www.opengis.net/gml",kt[n.nodeName])},e}(ut);Et.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:D(Et.prototype.readFlatCoordinates)}},Et.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:Et.prototype.innerBoundaryIsParser,outerBoundaryIs:Et.prototype.outerBoundaryIsParser}},Et.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:B(Et.prototype.readFlatCoordinates)}},Et.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:D(ut.prototype.readPoint),MultiPoint:D(ut.prototype.readMultiPoint),LineString:D(ut.prototype.readLineString),MultiLineString:D(ut.prototype.readMultiLineString),LinearRing:D(ut.prototype.readLinearRing),Polygon:D(ut.prototype.readPolygon),MultiPolygon:D(ut.prototype.readMultiPolygon),Box:D(Et.prototype.readBox)}},Et.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:z(Et.prototype.writeCurveOrLineString),MultiCurve:z(Et.prototype.writeMultiCurveOrLineString),Point:z(Et.prototype.writePoint),MultiPoint:z(Et.prototype.writeMultiPoint),LineString:z(Et.prototype.writeCurveOrLineString),MultiLineString:z(Et.prototype.writeMultiCurveOrLineString),LinearRing:z(Et.prototype.writeLinearRing),Polygon:z(Et.prototype.writeSurfaceOrPolygon),MultiPolygon:z(Et.prototype.writeMultiSurfaceOrPolygon),Surface:z(Et.prototype.writeSurfaceOrPolygon),MultiSurface:z(Et.prototype.writeMultiSurfaceOrPolygon),Envelope:z(Et.prototype.writeEnvelope)}},Et.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:z(Et.prototype.writeLineStringOrCurveMember),curveMember:z(Et.prototype.writeLineStringOrCurveMember)}},Et.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:z(Et.prototype.writeRing),innerBoundaryIs:z(Et.prototype.writeRing)}},Et.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:z(Et.prototype.writePointMember)}},Et.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:z(Et.prototype.writeSurfaceOrPolygonMember),polygonMember:z(Et.prototype.writeSurfaceOrPolygonMember)}},Et.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:z(Ot),upperCorner:z(Ot)}};var Pt=Et,Nt=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),It={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},Tt=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this,n)||this).surface_=void 0!==n.surface&&n.surface,r.curve_=void 0!==n.curve&&n.curve,r.multiCurve_=void 0===n.multiCurve||n.multiCurve,r.multiSurface_=void 0===n.multiSurface||n.multiSurface,r.schemaLocation=n.schemaLocation?n.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",r.hasZ=void 0!==n.hasZ&&n.hasZ,r}return Nt(e,t),e.prototype.readMultiCurve=function(t,e){var r=$([],this.MULTICURVE_PARSERS,t,e,this);return r?new c.a(r):void 0},e.prototype.readMultiSurface=function(t,e){var r=$([],this.MULTISURFACE_PARSERS,t,e,this);if(r)return new f.a(r)},e.prototype.curveMemberParser=function(t,e){J(this.CURVEMEMBER_PARSERS,t,e,this)},e.prototype.surfaceMemberParser=function(t,e){J(this.SURFACEMEMBER_PARSERS,t,e,this)},e.prototype.readPatch=function(t,e){return $([null],this.PATCHES_PARSERS,t,e,this)},e.prototype.readSegment=function(t,e){return $([null],this.SEGMENTS_PARSERS,t,e,this)},e.prototype.readPolygonPatch=function(t,e){return $([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this)},e.prototype.readLineStringSegment=function(t,e){return $([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},e.prototype.interiorParser=function(t,e){var r=$(void 0,this.RING_PARSERS,t,e,this);r&&e[e.length-1].push(r)},e.prototype.exteriorParser=function(t,e){var r=$(void 0,this.RING_PARSERS,t,e,this);r&&(e[e.length-1][0]=r)},e.prototype.readSurface=function(t,e){var r=$([null],this.SURFACE_PARSERS,t,e,this);if(r&&r[0]){var n,o=r[0],i=[o.length],s=void 0;for(s=1,n=r.length;s<n;++s)Object(M.c)(o,r[s]),i.push(o.length);return new v.b(o,a.a.XYZ,i)}},e.prototype.readCurve=function(t,e){var r=$([null],this.CURVE_PARSERS,t,e,this);return r?new p.a(r,a.a.XYZ):void 0},e.prototype.readEnvelope=function(t,e){var r=$([null],this.ENVELOPE_PARSERS,t,e,this);return Object(d.l)(r[1][0],r[1][1],r[2][0],r[2][1])},e.prototype.readFlatPos=function(t,e){for(var r,n=C(t,!1),o=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,a=[];r=o.exec(n);)a.push(parseFloat(r[1])),n=n.substr(r[0].length);if(""===n){var i=e[0].srsName,s="enu";if(i)s=Object(m.l)(i).getAxisOrientation();if("neu"===s){var p,u=void 0;for(u=0,p=a.length;u<p;u+=3){var c=a[u],l=a[u+1];a[u]=l,a[u+1]=c}}var f=a.length;if(2==f&&a.push(0),0!==f)return a}},e.prototype.readFlatPosList=function(t,e){var r=C(t,!1).replace(/^\s*|\s*$/g,""),n=e[0],o=n.srsName,a=n.srsDimension,i="enu";o&&(i=Object(m.l)(o).getAxisOrientation());var s,p,u,c=r.split(/\s+/),l=2;t.getAttribute("srsDimension")?l=dt(t.getAttribute("srsDimension")):t.getAttribute("dimension")?l=dt(t.getAttribute("dimension")):t.parentNode.getAttribute("srsDimension")?l=dt(t.parentNode.getAttribute("srsDimension")):a&&(l=dt(a));for(var f=[],h=0,v=c.length;h<v;h+=l)s=parseFloat(c[h]),p=parseFloat(c[h+1]),u=3===l?parseFloat(c[h+2]):0,"en"===i.substr(0,2)?f.push(s,p,u):f.push(p,s,u);return f},e.prototype.writePos_=function(t,e,r){var n=r[r.length-1],o=n.hasZ,a=o?"3":"2";t.setAttribute("srsDimension",a);var i=n.srsName,s="enu";i&&(s=Object(m.l)(i).getAxisOrientation());var p,u=e.getCoordinates();(p="en"===s.substr(0,2)?u[0]+" "+u[1]:u[1]+" "+u[0],o)&&(p+=" "+(u[2]||0));Ot(t,p)},e.prototype.getCoords_=function(t,e,r){var n="enu";e&&(n=Object(m.l)(e).getAxisOrientation());var o="en"===n.substr(0,2)?t[0]+" "+t[1]:t[1]+" "+t[0];r&&(o+=" "+(t[2]||0));return o},e.prototype.writePosList_=function(t,e,r){var n=r[r.length-1],o=n.hasZ,a=o?"3":"2";t.setAttribute("srsDimension",a);for(var i,s=n.srsName,p=e.getCoordinates(),u=p.length,c=new Array(u),l=0;l<u;++l)i=p[l],c[l]=this.getCoords_(i,s,o);Ot(t,c.join(" "))},e.prototype.writePoint=function(t,e,r){var n=r[r.length-1].srsName;n&&t.setAttribute("srsName",n);var o=A(t.namespaceURI,"pos");t.appendChild(o),this.writePos_(o,e,r)},e.prototype.writeEnvelope=function(t,e,r){var n=r[r.length-1].srsName;n&&t.setAttribute("srsName",n);var o=[e[0]+" "+e[1],e[2]+" "+e[3]];Q({node:t},this.ENVELOPE_SERIALIZERS,W,o,r,["lowerCorner","upperCorner"],this)},e.prototype.writeLinearRing=function(t,e,r){var n=r[r.length-1].srsName;n&&t.setAttribute("srsName",n);var o=A(t.namespaceURI,"posList");t.appendChild(o),this.writePosList_(o,e,r)},e.prototype.RING_NODE_FACTORY_=function(t,e,r){var n=e[e.length-1],o=n.node,a=n.exteriorWritten;return void 0===a&&(n.exteriorWritten=!0),A(o.namespaceURI,void 0!==a?"interior":"exterior")},e.prototype.writeSurfaceOrPolygon=function(t,e,r){var n=r[r.length-1],o=n.hasZ,a=n.srsName;if("PolygonPatch"!==t.nodeName&&a&&t.setAttribute("srsName",a),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){var i=e.getLinearRings();Q({node:t,hasZ:o,srsName:a},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,i,r,void 0,this)}else if("Surface"===t.nodeName){var s=A(t.namespaceURI,"patches");t.appendChild(s),this.writeSurfacePatches_(s,e,r)}},e.prototype.writeCurveOrLineString=function(t,e,r){var n=r[r.length-1].srsName;if("LineStringSegment"!==t.nodeName&&n&&t.setAttribute("srsName",n),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){var o=A(t.namespaceURI,"posList");t.appendChild(o),this.writePosList_(o,e,r)}else if("Curve"===t.nodeName){var a=A(t.namespaceURI,"segments");t.appendChild(a),this.writeCurveSegments_(a,e,r)}},e.prototype.writeMultiSurfaceOrPolygon=function(t,e,r){var n=r[r.length-1],o=n.hasZ,a=n.srsName,i=n.surface;a&&t.setAttribute("srsName",a);var s=e.getPolygons();Q({node:t,hasZ:o,srsName:a,surface:i},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},e.prototype.writeMultiPoint=function(t,e,r){var n=r[r.length-1],o=n.srsName,a=n.hasZ;o&&t.setAttribute("srsName",o);var i=e.getPoints();Q({node:t,hasZ:a,srsName:o},this.POINTMEMBER_SERIALIZERS,X("pointMember"),i,r,void 0,this)},e.prototype.writeMultiCurveOrLineString=function(t,e,r){var n=r[r.length-1],o=n.hasZ,a=n.srsName,i=n.curve;a&&t.setAttribute("srsName",a);var s=e.getLineStrings();Q({node:t,hasZ:o,srsName:a,curve:i},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},e.prototype.writeRing=function(t,e,r){var n=A(t.namespaceURI,"LinearRing");t.appendChild(n),this.writeLinearRing(n,e,r)},e.prototype.writeSurfaceOrPolygonMember=function(t,e,r){var n=this.GEOMETRY_NODE_FACTORY_(e,r);n&&(t.appendChild(n),this.writeSurfaceOrPolygon(n,e,r))},e.prototype.writePointMember=function(t,e,r){var n=A(t.namespaceURI,"Point");t.appendChild(n),this.writePoint(n,e,r)},e.prototype.writeLineStringOrCurveMember=function(t,e,r){var n=this.GEOMETRY_NODE_FACTORY_(e,r);n&&(t.appendChild(n),this.writeCurveOrLineString(n,e,r))},e.prototype.writeSurfacePatches_=function(t,e,r){var n=A(t.namespaceURI,"PolygonPatch");t.appendChild(n),this.writeSurfaceOrPolygon(n,e,r)},e.prototype.writeCurveSegments_=function(t,e,r){var n=A(t.namespaceURI,"LineStringSegment");t.appendChild(n),this.writeCurveOrLineString(n,e,r)},e.prototype.writeGeometryElement=function(t,e,r){var n,o=r[r.length-1],a=Object(y.a)({},o);a.node=t,n=Array.isArray(e)?Object(b.b)(e,o):Object(b.c)(e,!0,o),Q(a,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[n],r,void 0,this)},e.prototype.writeFeatureElement=function(t,e,r){var n=e.getId();n&&t.setAttribute("fid",n);var o=r[r.length-1],a=o.featureNS,i=e.getGeometryName();o.serializers||(o.serializers={},o.serializers[a]={});var s=[],p=[];if(e.hasProperties()){var u=e.getProperties();for(var c in u){var l=u[c];null!==l&&(s.push(c),p.push(l),c==i||"function"==typeof l.getSimplifiedGeometry?c in o.serializers[a]||(o.serializers[a][c]=z(this.writeGeometryElement,this)):c in o.serializers[a]||(o.serializers[a][c]=z(Ot)))}}var f=Object(y.a)({},o);f.node=t,Q(f,o.serializers,X(void 0,a),p,r,s)},e.prototype.writeFeatureMembers_=function(t,e,r){var n=r[r.length-1],o=n.featureType,a=n.featureNS,i={};i[a]={},i[a][o]=z(this.writeFeatureElement,this);var s=Object(y.a)({},n);s.node=t,Q(s,i,X(o,a),e,r)},e.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,r){var n=e[e.length-1].node;return A(this.namespace,It[n.nodeName])},e.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,r){var n,o=e[e.length-1],a=o.multiSurface,i=o.surface,s=o.curve,p=o.multiCurve;return Array.isArray(t)?n="Envelope":"MultiPolygon"===(n=t.getType())&&!0===a?n="MultiSurface":"Polygon"===n&&!0===i?n="Surface":"LineString"===n&&!0===s?n="Curve":"MultiLineString"===n&&!0===p&&(n="MultiCurve"),A(this.namespace,n)},e.prototype.writeGeometryNode=function(t,e){e=this.adaptOptions(e);var r=A(this.namespace,"geom"),n={node:r,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return e&&Object(y.a)(n,e),this.writeGeometryElement(r,t,[n]),r},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var r=A(this.namespace,"featureMembers");r.setAttributeNS(F,"xsi:schemaLocation",this.schemaLocation);var n={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return e&&Object(y.a)(n,e),this.writeFeatureMembers_(r,t,[n]),r},e}(ut);Tt.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:D(Tt.prototype.readFlatPos),posList:D(Tt.prototype.readFlatPosList),coordinates:D(Pt.prototype.readFlatCoordinates)}},Tt.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:Tt.prototype.interiorParser,exterior:Tt.prototype.exteriorParser}},Tt.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:D(ut.prototype.readPoint),MultiPoint:D(ut.prototype.readMultiPoint),LineString:D(ut.prototype.readLineString),MultiLineString:D(ut.prototype.readMultiLineString),LinearRing:D(ut.prototype.readLinearRing),Polygon:D(ut.prototype.readPolygon),MultiPolygon:D(ut.prototype.readMultiPolygon),Surface:D(Tt.prototype.readSurface),MultiSurface:D(Tt.prototype.readMultiSurface),Curve:D(Tt.prototype.readCurve),MultiCurve:D(Tt.prototype.readMultiCurve),Envelope:D(Tt.prototype.readEnvelope)}},Tt.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:B(Tt.prototype.curveMemberParser),curveMembers:B(Tt.prototype.curveMemberParser)}},Tt.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:B(Tt.prototype.surfaceMemberParser),surfaceMembers:B(Tt.prototype.surfaceMemberParser)}},Tt.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:B(ut.prototype.readLineString),Curve:B(Tt.prototype.readCurve)}},Tt.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:B(ut.prototype.readPolygon),Surface:B(Tt.prototype.readSurface)}},Tt.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:D(Tt.prototype.readPatch)}},Tt.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:D(Tt.prototype.readSegment)}},Tt.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:B(Tt.prototype.readFlatPosList),upperCorner:B(Tt.prototype.readFlatPosList)}},Tt.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:D(Tt.prototype.readPolygonPatch)}},Tt.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:D(Tt.prototype.readLineStringSegment)}},Tt.prototype.writeFeatures,Tt.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:z(Tt.prototype.writeRing),interior:z(Tt.prototype.writeRing)}},Tt.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:z(Ot),upperCorner:z(Ot)}},Tt.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:z(Tt.prototype.writeSurfaceOrPolygonMember),polygonMember:z(Tt.prototype.writeSurfaceOrPolygonMember)}},Tt.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:z(Tt.prototype.writePointMember)}},Tt.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:z(Tt.prototype.writeLineStringOrCurveMember),curveMember:z(Tt.prototype.writeLineStringOrCurveMember)}},Tt.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:z(Tt.prototype.writeCurveOrLineString),MultiCurve:z(Tt.prototype.writeMultiCurveOrLineString),Point:z(Tt.prototype.writePoint),MultiPoint:z(Tt.prototype.writeMultiPoint),LineString:z(Tt.prototype.writeCurveOrLineString),MultiLineString:z(Tt.prototype.writeMultiCurveOrLineString),LinearRing:z(Tt.prototype.writeLinearRing),Polygon:z(Tt.prototype.writeSurfaceOrPolygon),MultiPolygon:z(Tt.prototype.writeMultiSurfaceOrPolygon),Surface:z(Tt.prototype.writeSurfaceOrPolygon),MultiSurface:z(Tt.prototype.writeMultiSurfaceOrPolygon),Envelope:z(Tt.prototype.writeEnvelope)}};var Rt=Tt,xt=Rt;xt.prototype.writeFeatures,xt.prototype.writeFeaturesNode;var Lt=xt,Mt=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ft=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],At={rte:ue,trk:ce,wpt:le},Ct=H(Ft,{rte:B(ue),trk:B(ce),wpt:B(le)}),jt=H(Ft,{text:V(gt,"linkText"),type:V(gt,"linkType")}),Gt=H(Ft,{rte:z((function(t,e,r){var n=r[0],o=e.getProperties(),a={node:t};a.properties=o;var s=e.getGeometry();if(s.getType()==i.a.LINE_STRING){var p=Object(b.c)(s,!0,n);a.geometryLayout=p.getLayout(),o.rtept=p.getCoordinates()}var u=r[r.length-1].node,c=qt[u.namespaceURI],l=q(o,c);Q(a,Ht,W,l,r,c)})),trk:z((function(t,e,r){var n=r[0],o=e.getProperties(),a={node:t};a.properties=o;var s=e.getGeometry();if(s.getType()==i.a.MULTI_LINE_STRING){var p=Object(b.c)(s,!0,n);o.trkseg=p.getLineStrings()}var u=r[r.length-1].node,c=$t[u.namespaceURI],l=q(o,c);Q(a,Kt,W,l,r,c)})),wpt:z((function(t,e,r){var n=r[0],o=r[r.length-1];o.properties=e.getProperties();var a=e.getGeometry();if(a.getType()==i.a.POINT){var s=Object(b.c)(a,!0,n);o.geometryLayout=s.getLayout(),he(t,s.getCoordinates(),r)}}))}),Ut=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.dataProjection=Object(m.l)("EPSG:4326"),r.readExtensions_=n.readExtensions,r}return Mt(e,t),e.prototype.handleReadExtensions_=function(t){t||(t=[]);for(var e=0,r=t.length;e<r;++e){var n=t[e];if(this.readExtensions_){var o=n.get("extensionsNode_")||null;this.readExtensions_(n,o)}n.set("extensionsNode_",void 0)}},e.prototype.readFeatureFromNode=function(t,e){if(!Object(M.f)(Ft,t.namespaceURI))return null;var r=At[t.localName];if(!r)return null;var n=r(t,[this.getReadOptions(t,e)]);return n?(this.handleReadExtensions_([n]),n):null},e.prototype.readFeaturesFromNode=function(t,e){if(!Object(M.f)(Ft,t.namespaceURI))return[];if("gpx"==t.localName){var r=$([],Ct,t,[this.getReadOptions(t,e)]);return r?(this.handleReadExtensions_(r),r):[]}return[]},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var r=A("http://www.topografix.com/GPX/1/1","gpx");return r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi",F),r.setAttributeNS(F,"xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),r.setAttribute("version","1.1"),r.setAttribute("creator","OpenLayers"),Q({node:r},Gt,oe,t,[e]),r},e}(ot),Bt=H(Ft,{name:V(gt),cmt:V(gt),desc:V(gt),src:V(gt),link:se,number:V(yt),extensions:pe,type:V(gt),rtept:function(t,e){var r=$({},Dt,t,e);if(r){var n=e[e.length-1],o=n.flatCoordinates,a=n.layoutOptions;ae(o,a,t,r)}}}),Dt=H(Ft,{ele:V(vt),time:V(ht)}),Yt=H(Ft,{name:V(gt),cmt:V(gt),desc:V(gt),src:V(gt),link:se,number:V(yt),type:V(gt),extensions:pe,trkseg:function(t,e){var r=e[e.length-1];J(Vt,t,e);var n=r.flatCoordinates;r.ends.push(n.length)}}),Vt=H(Ft,{trkpt:function(t,e){var r=$({},zt,t,e);if(r){var n=e[e.length-1],o=n.flatCoordinates,a=n.layoutOptions;ae(o,a,t,r)}}}),zt=H(Ft,{ele:V(vt),time:V(ht)}),Zt=H(Ft,{ele:V(vt),time:V(ht),magvar:V(vt),geoidheight:V(vt),name:V(gt),cmt:V(gt),desc:V(gt),src:V(gt),link:se,sym:V(gt),type:V(gt),fix:V(gt),sat:V(yt),hdop:V(vt),vdop:V(vt),pdop:V(vt),ageofdgpsdata:V(vt),dgpsid:V(yt),extensions:pe}),Xt=["text","type"],Wt=H(Ft,{text:z(Ot),type:z(Ot)}),qt=H(Ft,["name","cmt","desc","src","link","number","type","rtept"]),Ht=H(Ft,{name:z(Ot),cmt:z(Ot),desc:z(Ot),src:z(Ot),link:z(fe),number:z(bt),type:z(Ot),rtept:Z(z(he))}),Jt=H(Ft,["ele","time"]),$t=H(Ft,["name","cmt","desc","src","link","number","type","trkseg"]),Kt=H(Ft,{name:z(Ot),cmt:z(Ot),desc:z(Ot),src:z(Ot),link:z(fe),number:z(bt),type:z(Ot),trkseg:Z(z((function(t,e,r){var n={node:t};n.geometryLayout=e.getLayout(),n.properties={},Q(n,te,Qt,e.getCoordinates(),r)})))}),Qt=X("trkpt"),te=H(Ft,{trkpt:z(he)}),ee=H(Ft,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),re=H(Ft,{ele:z(wt),time:z((function(t,e){var r=new Date(1e3*e),n=r.getUTCFullYear()+"-"+Object(ct.b)(r.getUTCMonth()+1,2)+"-"+Object(ct.b)(r.getUTCDate(),2)+"T"+Object(ct.b)(r.getUTCHours(),2)+":"+Object(ct.b)(r.getUTCMinutes(),2)+":"+Object(ct.b)(r.getUTCSeconds(),2)+"Z";t.appendChild(rt().createTextNode(n))})),magvar:z(wt),geoidheight:z(wt),name:z(Ot),cmt:z(Ot),desc:z(Ot),src:z(Ot),link:z(fe),sym:z(Ot),type:z(Ot),fix:z(Ot),sat:z(bt),hdop:z(wt),vdop:z(wt),pdop:z(wt),ageofdgpsdata:z(wt),dgpsid:z(bt)}),ne={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function oe(t,e,r){var n=t.getGeometry();if(n){var o=ne[n.getType()];if(o)return A(e[e.length-1].node.namespaceURI,o)}}function ae(t,e,r,n){return t.push(parseFloat(r.getAttribute("lon")),parseFloat(r.getAttribute("lat"))),"ele"in n?(t.push(n.ele),delete n.ele,e.hasZ=!0):t.push(0),"time"in n?(t.push(n.time),delete n.time,e.hasM=!0):t.push(0),t}function ie(t,e,r){var n=a.a.XY,o=2;if(t.hasZ&&t.hasM?(n=a.a.XYZM,o=4):t.hasZ?(n=a.a.XYZ,o=3):t.hasM&&(n=a.a.XYM,o=3),4!==o){for(var i=0,s=e.length/4;i<s;i++)e[i*o]=e[4*i],e[i*o+1]=e[4*i+1],t.hasZ&&(e[i*o+2]=e[4*i+2]),t.hasM&&(e[i*o+2]=e[4*i+3]);if(e.length=e.length/4*o,r)for(i=0,s=r.length;i<s;i++)r[i]=r[i]/4*o}return n}function se(t,e){var r=e[e.length-1],n=t.getAttribute("href");null!==n&&(r.link=n),J(jt,t,e)}function pe(t,e){e[e.length-1].extensionsNode_=t}function ue(t,e){var r=e[0],n=$({flatCoordinates:[],layoutOptions:{}},Bt,t,e);if(n){var a=n.flatCoordinates;delete n.flatCoordinates;var i=n.layoutOptions;delete n.layoutOptions;var s=ie(i,a),u=new p.a(a,s);Object(b.c)(u,!1,r);var c=new o.a(u);return c.setProperties(n,!0),c}}function ce(t,e){var r=e[0],n=$({flatCoordinates:[],ends:[],layoutOptions:{}},Yt,t,e);if(n){var a=n.flatCoordinates;delete n.flatCoordinates;var i=n.ends;delete n.ends;var s=n.layoutOptions;delete n.layoutOptions;var p=ie(s,a,i),u=new c.a(a,p,i);Object(b.c)(u,!1,r);var l=new o.a(u);return l.setProperties(n,!0),l}}function le(t,e){var r=e[0],n=$({},Zt,t,e);if(n){var a={},i=ae([],a,t,n),s=ie(a,i),p=new h.a(i,s);Object(b.c)(p,!1,r);var u=new o.a(p);return u.setProperties(n,!0),u}}function fe(t,e,r){t.setAttribute("href",e);var n=r[r.length-1].properties,o=[n.linkText,n.linkType];Q({node:t},Wt,W,o,r,Xt)}function he(t,e,r){var n=r[r.length-1],o=n.node.namespaceURI,i=n.properties;switch(t.setAttributeNS(null,"lat",String(e[1])),t.setAttributeNS(null,"lon",String(e[0])),n.geometryLayout){case a.a.XYZM:0!==e[3]&&(i.time=e[3]);case a.a.XYZ:0!==e[2]&&(i.ele=e[2]);break;case a.a.XYM:0!==e[2]&&(i.time=e[2])}var s="rtept"==t.nodeName?Jt[o]:ee[o],p=q(i,s);Q({node:t,properties:i},re,W,p,r,s)}var ve,_e,ye,de,ge,me,we=Ut,be=r(269),Oe=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Se="barometric",ke="gps",Ee="none",Pe=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,Ne=/^H.([A-Z]{3}).*?:(.*)/,Ie=/^HFDTE(\d{2})(\d{2})(\d{2})/,Te=/\r\n|\r|\n/,Re=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.dataProjection=Object(m.l)("EPSG:4326"),r.altitudeMode_=n.altitudeMode?n.altitudeMode:Ee,r}return Oe(e,t),e.prototype.readFeatureFromText=function(t,e){var r,n,i=this.altitudeMode_,s=t.split(Te),u={},c=[],l=2e3,f=0,h=1,v=-1;for(r=0,n=s.length;r<n;++r){var _=s[r],y=void 0;if("B"==_.charAt(0)){if(y=Pe.exec(_)){var d=parseInt(y[1],10),g=parseInt(y[2],10),m=parseInt(y[3],10),w=parseInt(y[4],10)+parseInt(y[5],10)/6e4;"S"==y[6]&&(w=-w);var O=parseInt(y[7],10)+parseInt(y[8],10)/6e4;if("W"==y[9]&&(O=-O),c.push(O,w),i!=Ee){var S=void 0;S=i==ke?parseInt(y[11],10):i==Se?parseInt(y[12],10):0,c.push(S)}var k=Date.UTC(l,f,h,d,g,m);k<v&&(k=Date.UTC(l,f,h+1,d,g,m)),c.push(k/1e3),v=k}}else"H"==_.charAt(0)&&((y=Ie.exec(_))?(h=parseInt(y[1],10),f=parseInt(y[2],10)-1,l=2e3+parseInt(y[3],10)):(y=Ne.exec(_))&&(u[y[1]]=y[2].trim()))}if(0===c.length)return null;var E=i==Ee?a.a.XYM:a.a.XYZM,P=new p.a(c,E),N=new o.a(Object(b.c)(P,!1,e));return N.setProperties(u,!0),N},e.prototype.readFeaturesFromText=function(t,e){var r=this.readFeatureFromText(t,e);return r?[r]:[]},e}(be.a),xe=r(279),Le=r(270),Me=r(276),Fe=r(273),Ae=r(274),Ce=r(275),je=r(265),Ge=r(291),Ue=r(285),Be=r(272),De=r(266),Ye=r(292),Ve=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ze=["http://www.google.com/kml/ext/2.2"],Ze=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],Xe={fraction:Ae.a.FRACTION,pixels:Ae.a.PIXELS,insetPixels:Ae.a.PIXELS},We=H(Ze,{ExtendedData:Vr,Region:zr,MultiGeometry:V(Fr,"geometry"),LineString:V(xr,"geometry"),LinearRing:V(Lr,"geometry"),Point:V(Ar,"geometry"),Polygon:V(jr,"geometry"),Style:V(Ur),StyleMap:function(t,e){var r=dr.call(this,t,e);if(!r)return;var n=e[e.length-1];Array.isArray(r)?n.Style=r:"string"==typeof r?n.styleUrl=r:Object(_.a)(!1,38)},address:V(gt),description:V(gt),name:V(gt),open:V(lt),phoneNumber:V(gt),styleUrl:V(vr),visibility:V(lt)},H(ze,{MultiTrack:V((function(t,e){var r=$([],kr,t,e);if(!r)return;return new c.a(r)}),"geometry"),Track:V(Pr,"geometry")})),qe=H(Ze,{ExtendedData:Vr,Region:zr,Link:function(t,e){J(He,t,e)},address:V(gt),description:V(gt),name:V(gt),open:V(lt),phoneNumber:V(gt),visibility:V(lt)}),He=H(Ze,{href:V(hr)}),Je=H(Ze,{LatLonAltBox:function(t,e){var r=$({},Wr,t,e);if(!r)return;var n=e[e.length-1],o=[parseFloat(r.west),parseFloat(r.south),parseFloat(r.east),parseFloat(r.north)];n.extent=o,n.altitudeMode=r.altitudeMode,n.minAltitude=parseFloat(r.minAltitude),n.maxAltitude=parseFloat(r.maxAltitude)},Lod:function(t,e){var r=$({},qr,t,e);if(!r)return;var n=e[e.length-1];n.minLodPixels=parseFloat(r.minLodPixels),n.maxLodPixels=parseFloat(r.maxLodPixels),n.minFadeExtent=parseFloat(r.minFadeExtent),n.maxFadeExtent=parseFloat(r.maxFadeExtent)}}),$e=H(Ze,["Document","Placemark"]),Ke=H(Ze,{Document:z((function(t,e,r){Q({node:t},Qr,tn,e,r,void 0,this)})),Placemark:z(En)}),Qe=null;var tr,er=null;var rr,nr=null;var or=null;var ar=null;var ir,sr=null;function pr(t){return 32/Math.min(t[0],t[1])}function ur(t){return t}var cr=function(t){function e(e){var r=t.call(this)||this,n=e||{};return sr||(ve=[255,255,255,1],Qe=new Le.a({color:ve}),_e=[20,2],ye=Ae.a.PIXELS,de=Ae.a.PIXELS,ge=[64,64],me="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",er=new Fe.a({anchor:_e,anchorOrigin:Ce.a.BOTTOM_LEFT,anchorXUnits:ye,anchorYUnits:de,crossOrigin:"anonymous",rotation:0,scale:pr(ge),size:ge,src:me}),tr="NO_IMAGE",nr=new Ge.a({color:ve,width:1}),rr=new Ge.a({color:[51,51,51,1],width:2}),or=new Be.a({font:"bold 16px Helvetica",fill:Qe,stroke:rr,scale:.8}),ar=new Ue.c({fill:Qe,image:er,text:or,stroke:nr,zIndex:0}),sr=[ar]),r.dataProjection=Object(m.l)("EPSG:4326"),r.defaultStyle_=n.defaultStyle?n.defaultStyle:sr,r.extractStyles_=void 0===n.extractStyles||n.extractStyles,r.writeStyles_=void 0===n.writeStyles||n.writeStyles,r.sharedStyles_={},r.showPointNames_=void 0===n.showPointNames||n.showPointNames,r.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:"anonymous",r.iconUrlFunction_=n.iconUrlFunction?n.iconUrlFunction:ur,r.supportedMediaTypes=["application/vnd.google-earth.kml+xml"],r}return Ve(e,t),e.prototype.readDocumentOrFolder_=function(t,e){var r=$([],H(Ze,{Document:U(this.readDocumentOrFolder_,this),Folder:U(this.readDocumentOrFolder_,this),Placemark:B(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),t,e,this);return r||void 0},e.prototype.readPlacemark_=function(t,e){var r=$({geometry:null},We,t,e,this);if(r){var n=new o.a,a=t.getAttribute("id");null!==a&&n.setId(a);var s=e[0],p=r.geometry;if(p&&Object(b.c)(p,!1,s),n.setGeometry(p),delete r.geometry,this.extractStyles_){var u=function(t,e,r,n,o){return function(a,s){var p=o,u="",c=[];if(p){var l=a.getGeometry();if(l)if(l instanceof Me.a)p=(c=l.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===i.a.POINT||e===i.a.MULTI_POINT}))).length>0;else{var f=l.getType();p=f===i.a.POINT||f===i.a.MULTI_POINT}}p&&(u=a.get("name"),(p=p&&!!u)&&u.search(/&[^&]+;/)>-1&&(ir||(ir=document.createElement("textarea")),ir.innerHTML=u,u=ir.value));var h=r;if(t?h=t:e&&(h=function t(e,r,n){return Array.isArray(e)?e:"string"==typeof e?t(n[e],r,n):r}(e,r,n)),p){var v=function(t,e){var r=[0,0],n="start",o=t.getImage();if(o){var a=o.getSize();if(a&&2==a.length){var i=o.getScaleArray(),s=o.getAnchor();r[0]=i[0]*(a[0]-s[0]),r[1]=i[1]*(a[1]/2-s[1]),n="left"}}var p=t.getText();p?((p=p.clone()).setFont(p.getFont()||or.getFont()),p.setScale(p.getScale()||or.getScale()),p.setFill(p.getFill()||or.getFill()),p.setStroke(p.getStroke()||rr)):p=or.clone();return p.setText(e),p.setOffsetX(r[0]),p.setOffsetY(r[1]),p.setTextAlign(n),new Ue.c({image:o,text:p})}(h[0],u);return c.length>0?(v.setGeometry(new Me.a(c)),[v,new Ue.c({geometry:h[0].getGeometry(),image:null,fill:h[0].getFill(),stroke:h[0].getStroke(),text:null})].concat(h.slice(1))):v}return h}}(r.Style,r.styleUrl,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);n.setStyle(u)}return delete r.Style,n.setProperties(r,!0),n}},e.prototype.readSharedStyle_=function(t,e){var r=t.getAttribute("id");if(null!==r){var n=Ur.call(this,t,e);if(n){var o=void 0,a=t.baseURI;if(a&&"about:blank"!=a||(a=window.location.href),a)o=new URL("#"+r,a).href;else o="#"+r;this.sharedStyles_[o]=n}}},e.prototype.readSharedStyleMap_=function(t,e){var r=t.getAttribute("id");if(null!==r){var n=dr.call(this,t,e);if(n){var o,a=t.baseURI;if(a&&"about:blank"!=a||(a=window.location.href),a)o=new URL("#"+r,a).href;else o="#"+r;this.sharedStyles_[o]=n}}},e.prototype.readFeatureFromNode=function(t,e){if(!Object(M.f)(Ze,t.namespaceURI))return null;var r=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return r||null},e.prototype.readFeaturesFromNode=function(t,e){if(!Object(M.f)(Ze,t.namespaceURI))return[];var r,n=t.localName;if("Document"==n||"Folder"==n)return(r=this.readDocumentOrFolder_(t,[this.getReadOptions(t,e)]))||[];if("Placemark"==n){var o=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return o?[o]:[]}if("kml"==n){r=[];for(var a=t.firstElementChild;a;a=a.nextElementSibling){var i=this.readFeaturesFromNode(a,e);i&&Object(M.c)(r,i)}return r}return[]},e.prototype.readName=function(t){if(t){if("string"==typeof t){var e=G(t);return this.readNameFromDocument(e)}return j(t)?this.readNameFromDocument(t):this.readNameFromNode(t)}},e.prototype.readNameFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE){var r=this.readNameFromNode(e);if(r)return r}},e.prototype.readNameFromNode=function(t){for(var e=t.firstElementChild;e;e=e.nextElementSibling)if(Object(M.f)(Ze,e.namespaceURI)&&"name"==e.localName)return gt(e);for(e=t.firstElementChild;e;e=e.nextElementSibling){var r=e.localName;if(Object(M.f)(Ze,e.namespaceURI)&&("Document"==r||"Folder"==r||"Placemark"==r||"kml"==r)){var n=this.readNameFromNode(e);if(n)return n}}},e.prototype.readNetworkLinks=function(t){var e=[];if("string"==typeof t){var r=G(t);Object(M.c)(e,this.readNetworkLinksFromDocument(r))}else j(t)?Object(M.c)(e,this.readNetworkLinksFromDocument(t)):Object(M.c)(e,this.readNetworkLinksFromNode(t));return e},e.prototype.readNetworkLinksFromDocument=function(t){for(var e=[],r=t.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&Object(M.c)(e,this.readNetworkLinksFromNode(r));return e},e.prototype.readNetworkLinksFromNode=function(t){for(var e=[],r=t.firstElementChild;r;r=r.nextElementSibling)if(Object(M.f)(Ze,r.namespaceURI)&&"NetworkLink"==r.localName){var n=$({},qe,r,[]);e.push(n)}for(r=t.firstElementChild;r;r=r.nextElementSibling){var o=r.localName;!Object(M.f)(Ze,r.namespaceURI)||"Document"!=o&&"Folder"!=o&&"kml"!=o||Object(M.c)(e,this.readNetworkLinksFromNode(r))}return e},e.prototype.readRegion=function(t){var e=[];if("string"==typeof t){var r=G(t);Object(M.c)(e,this.readRegionFromDocument(r))}else j(t)?Object(M.c)(e,this.readRegionFromDocument(t)):Object(M.c)(e,this.readRegionFromNode(t));return e},e.prototype.readRegionFromDocument=function(t){for(var e=[],r=t.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&Object(M.c)(e,this.readRegionFromNode(r));return e},e.prototype.readRegionFromNode=function(t){for(var e=[],r=t.firstElementChild;r;r=r.nextElementSibling)if(Object(M.f)(Ze,r.namespaceURI)&&"Region"==r.localName){var n=$({},Je,r,[]);e.push(n)}for(r=t.firstElementChild;r;r=r.nextElementSibling){var o=r.localName;!Object(M.f)(Ze,r.namespaceURI)||"Document"!=o&&"Folder"!=o&&"kml"!=o||Object(M.c)(e,this.readRegionFromNode(r))}return e},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var r=A(Ze[4],"kml"),n="http://www.w3.org/2000/xmlns/";r.setAttributeNS(n,"xmlns:gx",ze[0]),r.setAttributeNS(n,"xmlns:xsi",F),r.setAttributeNS(F,"xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var o={node:r},a={};t.length>1?a.Document=t:1==t.length&&(a.Placemark=t[0]);var i=$e[r.namespaceURI],s=q(a,i);return Q(o,Ke,W,s,[e],i,this),r},e}(ot);function lr(t){var e=C(t,!1),r=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(e);if(r){var n=r[1];return[parseInt(n.substr(6,2),16),parseInt(n.substr(4,2),16),parseInt(n.substr(2,2),16),parseInt(n.substr(0,2),16)/255]}}function fr(t){var e=C(t,!1),r=[];e=e.replace(/\s*,\s*/g,",");for(var n,o=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i;n=o.exec(e);){var a=parseFloat(n[1]),i=parseFloat(n[2]),s=n[3]?parseFloat(n[3]):0;r.push(a,i,s),e=e.substr(n[0].length)}if(""===e)return r}function hr(t){var e=C(t,!1).trim(),r=t.baseURI;return r&&"about:blank"!=r||(r=window.location.href),r?new URL(e,r).href:e}function vr(t){var e=C(t,!1).trim().replace(/^(?!.*#)/,"#"),r=t.baseURI;return r&&"about:blank"!=r||(r=window.location.href),r?new URL(e,r).href:e}function _r(t){return vt(t)}var yr=H(Ze,{Pair:function(t,e){var r=$({},Zr,t,e,this);if(!r)return;var n=r.key;if(n&&"normal"==n){var o=r.styleUrl;o&&(e[e.length-1]=o);var a=r.Style;a&&(e[e.length-1]=a)}}});function dr(t,e){return $(void 0,yr,t,e,this)}var gr=H(Ze,{Icon:V((function(t,e){var r=$({},Nr,t,e);return r||null})),color:V(lr),heading:V(vt),hotSpot:V((function(t){var e,r=t.getAttribute("xunits"),n=t.getAttribute("yunits");return e="insetPixels"!==r?"insetPixels"!==n?Ce.a.BOTTOM_LEFT:Ce.a.TOP_LEFT:"insetPixels"!==n?Ce.a.BOTTOM_RIGHT:Ce.a.TOP_RIGHT,{x:parseFloat(t.getAttribute("x")),xunits:Xe[r],y:parseFloat(t.getAttribute("y")),yunits:Xe[n],origin:e}})),scale:V(_r)});var mr=H(Ze,{color:V(lr),scale:V(_r)});var wr=H(Ze,{color:V(lr),width:V(vt)});var br=H(Ze,{color:V(lr),fill:V(lt),outline:V(lt)});var Or=H(Ze,{coordinates:D(fr)});function Sr(t,e){return $(null,Or,t,e)}var kr=H(ze,{Track:B(Pr)});var Er=H(Ze,{when:function(t,e){var r=e[e.length-1].whens,n=C(t,!1),o=Date.parse(n);r.push(isNaN(o)?0:o)}},H(ze,{coord:function(t,e){var r=e[e.length-1].coordinates,n=C(t,!1),o=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(n);if(o){var a=parseFloat(o[1]),i=parseFloat(o[2]),s=parseFloat(o[3]);r.push([a,i,s])}else r.push([])}}));function Pr(t,e){var r=$({coordinates:[],whens:[]},Er,t,e);if(r){for(var n=[],o=r.coordinates,i=r.whens,s=0,u=Math.min(o.length,i.length);s<u;++s)3==o[s].length&&n.push(o[s][0],o[s][1],o[s][2],i[s]);return new p.a(n,a.a.XYZM)}}var Nr=H(Ze,{href:V(hr)},H(ze,{x:V(vt),y:V(vt),w:V(vt),h:V(vt)}));var Ir=H(Ze,{coordinates:D(fr)});function Tr(t,e){return $(null,Ir,t,e)}var Rr=H(Ze,{extrude:V(lt),tessellate:V(lt),altitudeMode:V(gt)});function xr(t,e){var r=$({},Rr,t,e),n=Tr(t,e);if(n){var o=new p.a(n,a.a.XYZ);return o.setProperties(r,!0),o}}function Lr(t,e){var r=$({},Rr,t,e),n=Tr(t,e);if(n){var o=new v.b(n,a.a.XYZ,[n.length]);return o.setProperties(r,!0),o}}var Mr=H(Ze,{LineString:B(xr),LinearRing:B(Lr),MultiGeometry:B(Fr),Point:B(Ar),Polygon:B(jr)});function Fr(t,e){var r,n=$([],Mr,t,e);if(!n)return null;if(0===n.length)return new Me.a(n);for(var o,a=!0,s=n[0].getType(),p=1,u=n.length;p<u;++p)if((o=n[p]).getType()!=s){a=!1;break}if(a){var h=void 0,v=void 0;if(s==i.a.POINT){var y=n[0];h=y.getLayout(),v=y.getFlatCoordinates();for(p=1,u=n.length;p<u;++p)o=n[p],Object(M.c)(v,o.getFlatCoordinates());Br(r=new l.a(v,h),n)}else s==i.a.LINE_STRING?Br(r=new c.a(n),n):s==i.a.POLYGON?Br(r=new f.a(n),n):s==i.a.GEOMETRY_COLLECTION?r=new Me.a(n):Object(_.a)(!1,37)}else r=new Me.a(n);return r}function Ar(t,e){var r=$({},Rr,t,e),n=Tr(t,e);if(n){var o=new h.a(n,a.a.XYZ);return o.setProperties(r,!0),o}}var Cr=H(Ze,{innerBoundaryIs:function(t,e){var r=$([],Hr,t,e);if(r.length>0){var n=e[e.length-1];n.push.apply(n,r)}},outerBoundaryIs:function(t,e){var r=$(void 0,Jr,t,e);if(r){e[e.length-1][0]=r}}});function jr(t,e){var r=$({},Rr,t,e),n=$([null],Cr,t,e);if(n&&n[0]){for(var o=n[0],i=[o.length],s=1,p=n.length;s<p;++s)Object(M.c)(o,n[s]),i.push(o.length);var u=new v.b(o,a.a.XYZ,i);return u.setProperties(r,!0),u}}var Gr=H(Ze,{IconStyle:function(t,e){var r=$({},gr,t,e);if(r){var n,o,a,i,s=e[e.length-1],p="Icon"in r?r.Icon:{},u=!("Icon"in r)||Object.keys(p).length>0,c=p.href;c?n=c:u&&(n=me);var l,f=Ce.a.BOTTOM_LEFT,h=r.hotSpot;h?(o=[h.x,h.y],a=h.xunits,i=h.yunits,f=h.origin):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(n)&&(/pushpin/.test(n)?(o=_e,a=ye,i=de):/arrow-reverse/.test(n)?(o=[54,42],a=ye,i=de):/paddle/.test(n)&&(o=[32,1],a=ye,i=de));var v,_=p.x,y=p.y;void 0!==_&&void 0!==y&&(l=[_,y]);var d,g=p.w,m=p.h;void 0!==g&&void 0!==m&&(v=[g,m]);var w=r.heading;void 0!==w&&(d=Object(Ye.m)(w));var b=r.scale,O=r.color;if(u){n==me&&(v=ge);var S=new Fe.a({anchor:o,anchorOrigin:f,anchorXUnits:a,anchorYUnits:i,crossOrigin:this.crossOrigin_,offset:l,offsetOrigin:Ce.a.BOTTOM_LEFT,rotation:d,scale:b,size:v,src:this.iconUrlFunction_(n),color:O}),k=S.getScaleArray()[0],E=S.getSize();if(null===E){var P=S.getImageState();if(P===je.a.IDLE||P===je.a.LOADING){var N=function(){var t=S.getImageState();if(t!==je.a.IDLE&&t!==je.a.LOADING){var e=S.getSize();if(e&&2==e.length){var r=pr(e);S.setScale(k*r)}S.unlistenImageChange(N)}};S.listenImageChange(N),P===je.a.IDLE&&S.load()}}else if(2==E.length){var I=pr(E);S.setScale(k*I)}s.imageStyle=S}else s.imageStyle=tr}},LabelStyle:function(t,e){var r=$({},mr,t,e);if(r){var n=e[e.length-1],o=new Be.a({fill:new Le.a({color:"color"in r?r.color:ve}),scale:r.scale});n.textStyle=o}},LineStyle:function(t,e){var r=$({},wr,t,e);if(r){var n=e[e.length-1],o=new Ge.a({color:"color"in r?r.color:ve,width:"width"in r?r.width:1});n.strokeStyle=o}},PolyStyle:function(t,e){var r=$({},br,t,e);if(r){var n=e[e.length-1],o=new Le.a({color:"color"in r?r.color:ve});n.fillStyle=o;var a=r.fill;void 0!==a&&(n.fill=a);var i=r.outline;void 0!==i&&(n.outline=i)}}});function Ur(t,e){var r=$({},Gr,t,e,this);if(!r)return null;var n,o="fillStyle"in r?r.fillStyle:Qe,a=r.fill;void 0===a||a||(o=null),"imageStyle"in r?r.imageStyle!=tr&&(n=r.imageStyle):n=er;var s="textStyle"in r?r.textStyle:or,p="strokeStyle"in r?r.strokeStyle:nr,u=r.outline;return void 0===u||u?[new Ue.c({fill:o,image:n,stroke:p,text:s,zIndex:void 0})]:[new Ue.c({geometry:function(t){var e=t.getGeometry(),r=e.getType();if(r===i.a.GEOMETRY_COLLECTION){var n=e;return new Me.a(n.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e!==i.a.POLYGON&&e!==i.a.MULTI_POLYGON})))}if(r!==i.a.POLYGON&&r!==i.a.MULTI_POLYGON)return e},fill:o,image:n,stroke:p,text:s,zIndex:void 0}),new Ue.c({geometry:function(t){var e=t.getGeometry(),r=e.getType();if(r===i.a.GEOMETRY_COLLECTION){var n=e;return new Me.a(n.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===i.a.POLYGON||e===i.a.MULTI_POLYGON})))}if(r===i.a.POLYGON||r===i.a.MULTI_POLYGON)return e},fill:o,stroke:null,zIndex:void 0})]}function Br(t,e){var r,n,o,a=e.length,i=new Array(e.length),s=new Array(e.length),p=new Array(e.length);r=!1,n=!1,o=!1;for(var u=0;u<a;++u){var c=e[u];i[u]=c.get("extrude"),s[u]=c.get("tessellate"),p[u]=c.get("altitudeMode"),r=r||void 0!==i[u],n=n||void 0!==s[u],o=o||p[u]}r&&t.set("extrude",i),n&&t.set("tessellate",s),o&&t.set("altitudeMode",p)}var Dr=H(Ze,{displayName:V(gt),value:V(gt)});var Yr=H(Ze,{Data:function(t,e){var r=t.getAttribute("name");J(Dr,t,e);var n=e[e.length-1];r&&n.displayName?n[r]={value:n.value,displayName:n.displayName,toString:function(){return n.value}}:null!==r?n[r]=n.value:null!==n.displayName&&(n[n.displayName]=n.value),delete n.value},SchemaData:function(t,e){J(Xr,t,e)}});function Vr(t,e){J(Yr,t,e)}function zr(t,e){J(Je,t,e)}var Zr=H(Ze,{Style:V(Ur),key:V(gt),styleUrl:V(vr)});var Xr=H(Ze,{SimpleData:function(t,e){var r=t.getAttribute("name");if(null!==r){var n=gt(t);e[e.length-1][r]=n}}});var Wr=H(Ze,{altitudeMode:V(gt),minAltitude:V(vt),maxAltitude:V(vt),north:V(vt),south:V(vt),east:V(vt),west:V(vt)});var qr=H(Ze,{minLodPixels:V(vt),maxLodPixels:V(vt),minFadeExtent:V(vt),maxFadeExtent:V(vt)});var Hr=H(Ze,{LinearRing:B(Sr)});var Jr=H(Ze,{LinearRing:D(Sr)});function $r(t,e){for(var r=Object(De.a)(e),n=[255*(4==r.length?r[3]:1),r[2],r[1],r[0]],o=0;o<4;++o){var a=Math.floor(n[o]).toString(16);n[o]=1==a.length?"0"+a:a}Ot(t,n.join(""))}var Kr=H(Ze,{Data:z((function(t,e,r){t.setAttribute("name",e.name);var n={node:t},o=e.value;"object"==typeof o?(null!==o&&o.displayName&&Q(n,Kr,W,[o.displayName],r,["displayName"]),null!==o&&o.value&&Q(n,Kr,W,[o.value],r,["value"])):Q(n,Kr,W,[o],r,["value"])})),value:z((function(t,e){Ot(t,e)})),displayName:z((function(t,e){!function(t,e){t.appendChild(rt().createCDATASection(e))}(t,e)}))});var Qr=H(Ze,{Placemark:z(En)}),tn=function(t,e,r){return A(e[e.length-1].node.namespaceURI,"Placemark")};var en=X("Data");var rn=H(Ze,["href"],H(ze,["x","y","w","h"])),nn=H(Ze,{href:z(Ot)},H(ze,{x:z(wt),y:z(wt),w:z(wt),h:z(wt)})),on=function(t,e,r){return A(ze[0],"gx:"+r)};var an=H(Ze,["scale","heading","Icon","color","hotSpot"]),sn=H(Ze,{Icon:z((function(t,e,r){var n={node:t},o=r[r.length-1].node,a=rn[o.namespaceURI],i=q(e,a);Q(n,nn,W,i,r,a),i=q(e,a=rn[ze[0]]),Q(n,nn,on,i,r,a)})),color:z($r),heading:z(wt),hotSpot:z((function(t,e){t.setAttribute("x",String(e.x)),t.setAttribute("y",String(e.y)),t.setAttribute("xunits",e.xunits),t.setAttribute("yunits",e.yunits)})),scale:z(An)});var pn=H(Ze,["color","scale"]),un=H(Ze,{color:z($r),scale:z(An)});var cn=H(Ze,["color","width"]),ln=H(Ze,{color:z($r),width:z(wt)});var fn={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},hn=function(t,e,r){if(t)return A(e[e.length-1].node.namespaceURI,fn[t.getType()])},vn=X("Point"),_n=X("LineString"),yn=X("LinearRing"),dn=X("Polygon"),gn=H(Ze,{LineString:z(In),Point:z(In),Polygon:z(Mn),GeometryCollection:z(mn)});function mn(t,e,r){var n,o={node:t},a=e.getType(),s=[];a===i.a.GEOMETRY_COLLECTION?(e.getGeometriesArrayRecursive().forEach((function(t){var e=t.getType();e===i.a.MULTI_POINT?s=s.concat(t.getPoints()):e===i.a.MULTI_LINE_STRING?s=s.concat(t.getLineStrings()):e===i.a.MULTI_POLYGON?s=s.concat(t.getPolygons()):e===i.a.POINT||e===i.a.LINE_STRING||e===i.a.POLYGON?s.push(t):Object(_.a)(!1,39)})),n=hn):a===i.a.MULTI_POINT?(s=e.getPoints(),n=vn):a===i.a.MULTI_LINE_STRING?(s=e.getLineStrings(),n=_n):a===i.a.MULTI_POLYGON?(s=e.getPolygons(),n=dn):Object(_.a)(!1,39),Q(o,gn,n,s,r)}var wn=H(Ze,{LinearRing:z(In)});function bn(t,e,r){Q({node:t},wn,yn,[e],r)}var On=H(Ze,{ExtendedData:z((function(t,e,r){for(var n={node:t},o=e.names,a=e.values,i=o.length,s=0;s<i;s++)Q(n,Kr,en,[{name:o[s],value:a[s]}],r)})),MultiGeometry:z(mn),LineString:z(In),LinearRing:z(In),Point:z(In),Polygon:z(Mn),Style:z((function(t,e,r){var n={node:t},o={};if(e.pointStyles.length){var a=e.pointStyles[0].getText();a&&(o.LabelStyle=a);var i=e.pointStyles[0].getImage();i&&"function"==typeof i.getSrc&&(o.IconStyle=i)}if(e.lineStyles.length){(s=e.lineStyles[0].getStroke())&&(o.LineStyle=s)}if(e.polyStyles.length){var s;(s=e.polyStyles[0].getStroke())&&!o.LineStyle&&(o.LineStyle=s),o.PolyStyle=e.polyStyles[0]}var p=r[r.length-1].node,u=Cn[p.namespaceURI],c=q(o,u);Q(n,jn,W,c,r,u)})),address:z(Ot),description:z(Ot),name:z(Ot),open:z(mt),phoneNumber:z(Ot),styleUrl:z(Ot),visibility:z(mt)}),Sn=H(Ze,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),kn=X("ExtendedData");function En(t,e,r){var n={node:t};e.getId()&&t.setAttribute("id",e.getId());var o=e.getProperties(),a={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};a[e.getGeometryName()]=1;var s=Object.keys(o||{}).sort().filter((function(t){return!a[t]})),p=e.getStyleFunction();if(p){var u=p(e,0);if(u){var c=Array.isArray(u)?u:[u],l=c;if(e.getGeometry()&&(l=c.filter((function(t){var r=t.getGeometryFunction()(e);if(r){var n=r.getType();return n===i.a.GEOMETRY_COLLECTION?r.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===i.a.POINT||e===i.a.MULTI_POINT})).length:n===i.a.POINT||n===i.a.MULTI_POINT}}))),this.writeStyles_){var f=c,h=c;e.getGeometry()&&(f=c.filter((function(t){var r=t.getGeometryFunction()(e);if(r){var n=r.getType();return n===i.a.GEOMETRY_COLLECTION?r.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===i.a.LINE_STRING||e===i.a.MULTI_LINE_STRING})).length:n===i.a.LINE_STRING||n===i.a.MULTI_LINE_STRING}})),h=c.filter((function(t){var r=t.getGeometryFunction()(e);if(r){var n=r.getType();return n===i.a.GEOMETRY_COLLECTION?r.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===i.a.POLYGON||e===i.a.MULTI_POLYGON})).length:n===i.a.POLYGON||n===i.a.MULTI_POLYGON}}))),o.Style={pointStyles:l,lineStyles:f,polyStyles:h}}if(l.length&&void 0===o.name){var v=l[0].getText();v&&(o.name=v.getText())}}}var _=r[r.length-1].node,y=Sn[_.namespaceURI],d=q(o,y);if(Q(n,On,W,d,r,y),s.length>0){var g=q(o,s);Q(n,On,kn,[{names:s,values:g}],r)}var m=r[0],w=e.getGeometry();w&&(w=Object(b.c)(w,!0,m)),Q(n,On,hn,[w],r)}var Pn=H(Ze,["extrude","tessellate","altitudeMode","coordinates"]),Nn=H(Ze,{extrude:z(mt),tessellate:z(mt),altitudeMode:z(Ot),coordinates:z((function(t,e,r){var n,o=r[r.length-1],i=o.layout,s=o.stride;i==a.a.XY||i==a.a.XYM?n=2:i==a.a.XYZ||i==a.a.XYZM?n=3:Object(_.a)(!1,34);var p=e.length,u="";if(p>0){u+=e[0];for(var c=1;c<n;++c)u+=","+e[c];for(var l=s;l<p;l+=s){u+=" "+e[l];for(c=1;c<n;++c)u+=","+e[l+c]}}Ot(t,u)}))});function In(t,e,r){var n=e.getFlatCoordinates(),o={node:t};o.layout=e.getLayout(),o.stride=e.getStride();var a=e.getProperties();a.coordinates=n;var i=r[r.length-1].node,s=Pn[i.namespaceURI],p=q(a,s);Q(o,Nn,W,p,r,s)}var Tn=H(Ze,["color","fill","outline"]),Rn=H(Ze,{outerBoundaryIs:z(bn),innerBoundaryIs:z(bn)}),xn=X("innerBoundaryIs"),Ln=X("outerBoundaryIs");function Mn(t,e,r){var n=e.getLinearRings(),o=n.shift(),a={node:t};Q(a,Rn,xn,n,r),Q(a,Rn,Ln,[o],r)}var Fn=H(Ze,{color:z($r),fill:z(mt),outline:z(mt)});function An(t,e){wt(t,Math.round(1e6*e)/1e6)}var Cn=H(Ze,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),jn=H(Ze,{IconStyle:z((function(t,e,r){var n={node:t},o={},a=e.getSrc(),i=e.getSize(),s=e.getImageSize(),p={href:a};if(i){p.w=i[0],p.h=i[1];var u=e.getAnchor(),c=e.getOrigin();if(c&&s&&0!==c[0]&&c[1]!==i[1]&&(p.x=c[0],p.y=s[1]-(c[1]+i[1])),u&&(u[0]!==i[0]/2||u[1]!==i[1]/2)){var l={x:u[0],xunits:Ae.a.PIXELS,y:i[1]-u[1],yunits:Ae.a.PIXELS};o.hotSpot=l}}o.Icon=p;var f=e.getScaleArray()[0],h=i;null===h&&(h=ge),2==h.length&&(f/=pr(h)),1!==f&&(o.scale=f);var v=e.getRotation();0!==v&&(o.heading=v);var _=e.getColor();_&&(o.color=_);var y=r[r.length-1].node,d=an[y.namespaceURI],g=q(o,d);Q(n,sn,W,g,r,d)})),LabelStyle:z((function(t,e,r){var n={node:t},o={},a=e.getFill();a&&(o.color=a.getColor());var i=e.getScale();i&&1!==i&&(o.scale=i);var s=r[r.length-1].node,p=pn[s.namespaceURI],u=q(o,p);Q(n,un,W,u,r,p)})),LineStyle:z((function(t,e,r){var n={node:t},o={color:e.getColor(),width:Number(e.getWidth())||1},a=r[r.length-1].node,i=cn[a.namespaceURI],s=q(o,i);Q(n,ln,W,s,r,i)})),PolyStyle:z((function(t,e,r){var n={node:t},o=e.getFill(),a=e.getStroke(),i={color:o?o.getColor():void 0,fill:!!o&&void 0,outline:!!a&&void 0},s=r[r.length-1].node,p=Tn[s.namespaceURI],u=q(i,p);Q(n,Fn,W,u,r,p)}))});var Gn=cr,Un=r(278),Bn=function(){function t(){}return t.prototype.read=function(t){if(t){if("string"==typeof t){var e=G(t);return this.readFromDocument(e)}return j(t)?this.readFromDocument(t):this.readFromNode(t)}return null},t.prototype.readFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null},t.prototype.readFromNode=function(t){},t}();function Dn(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}var Yn=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vn=[null,"http://www.opengis.net/ows/1.1"],zn=H(Vn,{ServiceIdentification:V((function(t,e){return $({},no,t,e)})),ServiceProvider:V((function(t,e){return $({},oo,t,e)})),OperationsMetadata:V((function(t,e){return $({},Qn,t,e)}))}),Zn=function(t){function e(){return t.call(this)||this}return Yn(e,t),e.prototype.readFromNode=function(t){var e=$({},zn,t,[]);return e||null},e}(Bn),Xn=H(Vn,{DeliveryPoint:V(gt),City:V(gt),AdministrativeArea:V(gt),PostalCode:V(gt),Country:V(gt),ElectronicMailAddress:V(gt)}),Wn=H(Vn,{Value:Y((function(t,e){return gt(t)}))}),qn=H(Vn,{AllowedValues:V((function(t,e){return $({},Wn,t,e)}))}),Hn=H(Vn,{Phone:V((function(t,e){return $({},to,t,e)})),Address:V((function(t,e){return $({},Xn,t,e)}))}),Jn=H(Vn,{HTTP:V((function(t,e){return $({},$n,t,e)}))}),$n=H(Vn,{Get:Y((function(t,e){var r=Dn(t);if(!r)return;return $({href:r},eo,t,e)})),Post:void 0}),Kn=H(Vn,{DCP:V((function(t,e){return $({},Jn,t,e)}))}),Qn=H(Vn,{Operation:function(t,e){var r=t.getAttribute("name"),n=$({},Kn,t,e);if(!n)return;e[e.length-1][r]=n}}),to=H(Vn,{Voice:V(gt),Facsimile:V(gt)}),eo=H(Vn,{Constraint:Y((function(t,e){var r=t.getAttribute("name");if(!r)return;return $({name:r},qn,t,e)}))}),ro=H(Vn,{IndividualName:V(gt),PositionName:V(gt),ContactInfo:V((function(t,e){return $({},Hn,t,e)}))}),no=H(Vn,{Abstract:V(gt),AccessConstraints:V(gt),Fees:V(gt),Title:V(gt),ServiceTypeVersion:V(gt),ServiceType:V(gt)}),oo=H(Vn,{ProviderName:V(gt),ProviderSite:V(Dn),ServiceContact:V((function(t,e){return $({},ro,t,e)}))});var ao=Zn;function io(t,e,r,n,o,a){var i,s;void 0!==o?(i=o,s=void 0!==a?a:0):(i=[],s=0);for(var p=e;p<r;){var u=t[p++];i[s++]=t[p++],i[s++]=u;for(var c=2;c<n;++c)i[s++]=t[p++]}return i.length=s,i}var so=r(289),po=r(319),uo=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function co(t){for(var e,r="";t>=32;)e=63+(32|31&t),r+=String.fromCharCode(e),t>>=5;return e=t+63,r+=String.fromCharCode(e)}var lo=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.dataProjection=Object(m.l)("EPSG:4326"),r.factor_=n.factor?n.factor:1e5,r.geometryLayout_=n.geometryLayout?n.geometryLayout:a.a.XY,r}return uo(e,t),e.prototype.readFeatureFromText=function(t,e){var r=this.readGeometryFromText(t,e);return new o.a(r)},e.prototype.readFeaturesFromText=function(t,e){return[this.readFeatureFromText(t,e)]},e.prototype.readGeometryFromText=function(t,e){var r=Object(so.b)(this.geometryLayout_),n=function(t,e,r){var n,o=r||1e5,a=new Array(e);for(n=0;n<e;++n)a[n]=0;for(var i=function(t,e){for(var r=e||1e5,n=function(t){for(var e=function(t){for(var e=[],r=0,n=0,o=0,a=t.length;o<a;++o){var i=t.charCodeAt(o)-63;r|=(31&i)<<n,i<32?(e.push(r),r=0,n=0):n+=5}return e}(t),r=0,n=e.length;r<n;++r){var o=e[r];e[r]=1&o?~(o>>1):o>>1}return e}(t),o=0,a=n.length;o<a;++o)n[o]/=r;return n}(t,o),s=0,p=i.length;s<p;)for(n=0;n<e;++n,++s)a[n]+=i[s],i[s]=a[n];return i}(t,r,this.factor_);io(n,0,n.length,r,n);var o=Object(po.a)(n,0,n.length,r),a=new p.a(o,this.geometryLayout_);return Object(b.c)(a,!1,this.adaptOptions(e))},e.prototype.writeFeatureText=function(t,e){var r=t.getGeometry();return r?this.writeGeometryText(r,e):(Object(_.a)(!1,40),"")},e.prototype.writeFeaturesText=function(t,e){return this.writeFeatureText(t[0],e)},e.prototype.writeGeometryText=function(t,e){var r=(t=Object(b.c)(t,!0,this.adaptOptions(e))).getFlatCoordinates(),n=t.getStride();return io(r,0,r.length,n,r),function(t,e,r){var n,o=r||1e5,a=new Array(e);for(n=0;n<e;++n)a[n]=0;for(var i=0,s=t.length;i<s;)for(n=0;n<e;++n,++i){var p=t[i],u=p-a[n];a[n]=p,t[i]=u}return function(t,e){for(var r=e||1e5,n=0,o=t.length;n<o;++n)t[n]=Math.round(t[n]*r);return function(t){for(var e=0,r=t.length;e<r;++e){var n=t[e];t[e]=n<0?~(n<<1):n<<1}return function(t){for(var e="",r=0,n=t.length;r<n;++r)e+=co(t[r]);return e}(t)}(t)}(t,o)}(r,n,this.factor_)},e}(be.a),fo=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ho=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.layerName_=n.layerName,r.layers_=n.layers?n.layers:null,r.dataProjection=Object(m.l)(n.dataProjection?n.dataProjection:"EPSG:4326"),r}return fo(e,t),e.prototype.readFeaturesFromObject=function(t,e){if("Topology"==t.type){var r=t,n=void 0,o=null,a=null;r.transform&&(o=(n=r.transform).scale,a=n.translate);var i=r.arcs;n&&function(t,e,r){for(var n=0,o=t.length;n<o;++n)mo(t[n],e,r)}(i,o,a);var s=[],p=r.objects,u=this.layerName_,c=void 0;for(var l in p)this.layers_&&-1==this.layers_.indexOf(l)||("GeometryCollection"===p[l].type?(c=p[l],s.push.apply(s,yo(c,i,o,a,u,l,e))):(c=p[l],s.push(go(c,i,o,a,u,l,e))));return s}return[]},e.prototype.readProjectionFromObject=function(t){return this.dataProjection},e}(s.a),vo={Point:function(t,e,r){var n=t.coordinates;e&&r&&wo(n,e,r);return new h.a(n)},LineString:function(t,e){var r=_o(t.arcs,e);return new p.a(r)},Polygon:function(t,e){for(var r=[],n=0,o=t.arcs.length;n<o;++n)r[n]=_o(t.arcs[n],e);return new v.b(r)},MultiPoint:function(t,e,r){var n=t.coordinates;if(e&&r)for(var o=0,a=n.length;o<a;++o)wo(n[o],e,r);return new l.a(n)},MultiLineString:function(t,e){for(var r=[],n=0,o=t.arcs.length;n<o;++n)r[n]=_o(t.arcs[n],e);return new c.a(r)},MultiPolygon:function(t,e){for(var r=[],n=0,o=t.arcs.length;n<o;++n){for(var a=t.arcs[n],i=[],s=0,p=a.length;s<p;++s)i[s]=_o(a[s],e);r[n]=i}return new f.a(r)}};function _o(t,e){for(var r,n=[],o=0,a=t.length;o<a;++o)if(r=t[o],o>0&&n.pop(),r>=0)for(var i=0,s=(p=e[r]).length;i<s;++i)n.push(p[i].slice(0));else{var p;for(i=(p=e[~r]).length-1;i>=0;--i)n.push(p[i].slice(0))}return n}function yo(t,e,r,n,o,a,i){for(var s=t.geometries,p=[],u=0,c=s.length;u<c;++u)p[u]=go(s[u],e,r,n,o,a,i);return p}function go(t,e,r,n,a,i,s){var p=null,u=t.type;if(u){var c=vo[u];p="Point"===u||"MultiPoint"===u?c(t,r,n):c(t,e),p=Object(b.c)(p,!1,s)}var l=new o.a({geometry:p});void 0!==t.id&&l.setId(t.id);var f=t.properties;return a&&(f||(f={}),f[a]=i),f&&l.setProperties(f,!0),l}function mo(t,e,r){for(var n=0,o=0,a=0,i=t.length;a<i;++a){var s=t[a];n+=s[0],o+=s[1],s[0]=n,s[1]=o,wo(s,e,r)}}function wo(t,e,r){t[0]=t[0]*e[0]+r[0],t[1]=t[1]*e[1]+r[1]}var bo=ho,Oo=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),So=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this,n)||this).schemaLocation=n.schemaLocation?n.schemaLocation:r.namespace+" http://schemas.opengis.net/gml/3.2.1/gml.xsd",r}return Oo(e,t),e}(Rt);So.prototype.namespace="http://www.opengis.net/gml/3.2",So.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml/3.2":{pos:D(Rt.prototype.readFlatPos),posList:D(Rt.prototype.readFlatPosList),coordinates:D(Pt.prototype.readFlatCoordinates)}},So.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml/3.2":{interior:Rt.prototype.interiorParser,exterior:Rt.prototype.exteriorParser}},So.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml/3.2":{Point:D(ut.prototype.readPoint),MultiPoint:D(ut.prototype.readMultiPoint),LineString:D(ut.prototype.readLineString),MultiLineString:D(ut.prototype.readMultiLineString),LinearRing:D(ut.prototype.readLinearRing),Polygon:D(ut.prototype.readPolygon),MultiPolygon:D(ut.prototype.readMultiPolygon),Surface:D(So.prototype.readSurface),MultiSurface:D(Rt.prototype.readMultiSurface),Curve:D(So.prototype.readCurve),MultiCurve:D(Rt.prototype.readMultiCurve),Envelope:D(So.prototype.readEnvelope)}},So.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml/3.2":{curveMember:B(Rt.prototype.curveMemberParser),curveMembers:B(Rt.prototype.curveMemberParser)}},So.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{surfaceMember:B(Rt.prototype.surfaceMemberParser),surfaceMembers:B(Rt.prototype.surfaceMemberParser)}},So.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:B(ut.prototype.readLineString),Curve:B(Rt.prototype.readCurve)}},So.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:B(ut.prototype.readPolygon),Surface:B(Rt.prototype.readSurface)}},So.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{patches:D(Rt.prototype.readPatch)}},So.prototype.CURVE_PARSERS={"http://www.opengis.net/gml/3.2":{segments:D(Rt.prototype.readSegment)}},So.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml/3.2":{lowerCorner:B(Rt.prototype.readFlatPosList),upperCorner:B(Rt.prototype.readFlatPosList)}},So.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml/3.2":{PolygonPatch:D(Rt.prototype.readPolygonPatch)}},So.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml/3.2":{LineStringSegment:D(Rt.prototype.readLineStringSegment)}},So.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml/3.2":{pointMember:B(ut.prototype.pointMemberParser),pointMembers:B(ut.prototype.pointMemberParser)}},So.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml/3.2":{lineStringMember:B(ut.prototype.lineStringMemberParser),lineStringMembers:B(ut.prototype.lineStringMemberParser)}},So.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml/3.2":{polygonMember:B(ut.prototype.polygonMemberParser),polygonMembers:B(ut.prototype.polygonMemberParser)}},So.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Point:B(ut.prototype.readFlatCoordinatesFromNode)}},So.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:B(ut.prototype.readLineString)}},So.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:B(ut.prototype.readPolygon)}},So.prototype.RING_PARSERS={"http://www.opengis.net/gml/3.2":{LinearRing:D(ut.prototype.readFlatLinearRing)}},So.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml/3.2":{exterior:z(Rt.prototype.writeRing),interior:z(Rt.prototype.writeRing)}},So.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lowerCorner:z(Ot),upperCorner:z(Ot)}},So.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{surfaceMember:z(Rt.prototype.writeSurfaceOrPolygonMember),polygonMember:z(Rt.prototype.writeSurfaceOrPolygonMember)}},So.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{pointMember:z(Rt.prototype.writePointMember)}},So.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lineStringMember:z(Rt.prototype.writeLineStringOrCurveMember),curveMember:z(Rt.prototype.writeLineStringOrCurveMember)}},So.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml/3.2":{Curve:z(Rt.prototype.writeCurveOrLineString),MultiCurve:z(Rt.prototype.writeMultiCurveOrLineString),Point:z(So.prototype.writePoint),MultiPoint:z(Rt.prototype.writeMultiPoint),LineString:z(Rt.prototype.writeCurveOrLineString),MultiLineString:z(Rt.prototype.writeMultiCurveOrLineString),LinearRing:z(Rt.prototype.writeLinearRing),Polygon:z(Rt.prototype.writeSurfaceOrPolygon),MultiPolygon:z(Rt.prototype.writeMultiSurfaceOrPolygon),Surface:z(Rt.prototype.writeSurfaceOrPolygon),MultiSurface:z(Rt.prototype.writeMultiSurfaceOrPolygon),Envelope:z(Rt.prototype.writeEnvelope)}};var ko=So,Eo=function(){function t(t){this.tagName_=t}return t.prototype.getTagName=function(){return this.tagName_},t}(),Po=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),No=function(t){function e(e,r){var n=t.call(this,e)||this;return n.conditions=r,Object(_.a)(n.conditions.length>=2,57),n}return Po(e,t),e}(Eo),Io=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),To=function(t){function e(e){return t.call(this,"And",Array.prototype.slice.call(arguments))||this}return Io(e,t),e}(No),Ro=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),xo=function(t){function e(e,r,n){var o=t.call(this,"BBOX")||this;if(o.geometryName=e,o.extent=r,4!==r.length)throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])");return o.srsName=n,o}return Ro(e,t),e}(Eo),Lo=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mo=function(t){function e(e,r,n,o){var a=t.call(this,e)||this;return a.geometryName=r||"the_geom",a.geometry=n,a.srsName=o,a}return Lo(e,t),e}(Eo),Fo=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ao=(function(t){function e(e,r,n){return t.call(this,"Contains",e,r,n)||this}Fo(e,t)}(Mo),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Co=(function(t){function e(e,r,n,o,a){var i=t.call(this,"DWithin",e,r,a)||this;return i.distance=n,i.unit=o,i}Ao(e,t)}(Mo),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),jo=(function(t){function e(e,r,n){return t.call(this,"Disjoint",e,r,n)||this}Co(e,t)}(Mo),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Go=function(t){function e(e,r){var n=t.call(this,e)||this;return n.propertyName=r,n}return jo(e,t),e}(Eo),Uo=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bo=(function(t){function e(e,r,n){var o=t.call(this,"During",e)||this;return o.begin=r,o.end=n,o}Uo(e,t)}(Go),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Do=function(t){function e(e,r,n,o){var a=t.call(this,e,r)||this;return a.expression=n,a.matchCase=o,a}return Bo(e,t),e}(Go),Yo=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vo=(function(t){function e(e,r,n){return t.call(this,"PropertyIsEqualTo",e,r,n)||this}Yo(e,t)}(Do),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),zo=(function(t){function e(e,r){return t.call(this,"PropertyIsGreaterThan",e,r)||this}Vo(e,t)}(Do),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Zo=(function(t){function e(e,r){return t.call(this,"PropertyIsGreaterThanOrEqualTo",e,r)||this}zo(e,t)}(Do),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Xo=(function(t){function e(e,r,n){return t.call(this,"Intersects",e,r,n)||this}Zo(e,t)}(Mo),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Wo=(function(t){function e(e,r,n){var o=t.call(this,"PropertyIsBetween",e)||this;return o.lowerBoundary=r,o.upperBoundary=n,o}Xo(e,t)}(Go),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),qo=(function(t){function e(e,r,n,o,a,i){var s=t.call(this,"PropertyIsLike",e)||this;return s.pattern=r,s.wildCard=void 0!==n?n:"*",s.singleChar=void 0!==o?o:".",s.escapeChar=void 0!==a?a:"!",s.matchCase=i,s}Wo(e,t)}(Go),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Ho=(function(t){function e(e){return t.call(this,"PropertyIsNull",e)||this}qo(e,t)}(Go),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Jo=(function(t){function e(e,r){return t.call(this,"PropertyIsLessThan",e,r)||this}Ho(e,t)}(Do),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),$o=(function(t){function e(e,r){return t.call(this,"PropertyIsLessThanOrEqualTo",e,r)||this}Jo(e,t)}(Do),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Ko=(function(t){function e(e){var r=t.call(this,"Not")||this;return r.condition=e,r}$o(e,t)}(Eo),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Qo=(function(t){function e(e,r,n){return t.call(this,"PropertyIsNotEqualTo",e,r,n)||this}Ko(e,t)}(Do),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),ta=(function(t){function e(e){return t.call(this,"Or",Array.prototype.slice.call(arguments))||this}Qo(e,t)}(No),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),ea=(function(t){function e(e){var r=t.call(this,"ResourceId")||this;return r.rid=e,r}ta(e,t)}(Eo),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}());!function(t){function e(e,r,n){return t.call(this,"Within",e,r,n)||this}ea(e,t)}(Mo);var ra=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),na={"http://www.opengis.net/gml":{boundedBy:V(ut.prototype.readExtentElement,"bounds")},"http://www.opengis.net/wfs/2.0":{member:B(ut.prototype.readFeaturesInternal)}},oa={"http://www.opengis.net/wfs":{totalInserted:V(yt),totalUpdated:V(yt),totalDeleted:V(yt)},"http://www.opengis.net/wfs/2.0":{totalInserted:V(yt),totalUpdated:V(yt),totalDeleted:V(yt)}},aa={"http://www.opengis.net/wfs":{TransactionSummary:V(ya,"transactionSummary"),InsertResults:V(wa,"insertIds")},"http://www.opengis.net/wfs/2.0":{TransactionSummary:V(ya,"transactionSummary"),InsertResults:V(wa,"insertIds")}},ia={"http://www.opengis.net/wfs":{PropertyName:z(Ot)},"http://www.opengis.net/wfs/2.0":{PropertyName:z(Ot)}},sa={"http://www.opengis.net/wfs":{Insert:z(ba),Update:z(Ea),Delete:z(ka),Property:z(Pa),Native:z(Na)},"http://www.opengis.net/wfs/2.0":{Insert:z(ba),Update:z(Ea),Delete:z(ka),Property:z(Pa),Native:z(Na)}},pa="http://www.w3.org/2000/xmlns/",ua={"2.0.0":"http://www.opengis.net/ogc/1.1","1.1.0":"http://www.opengis.net/ogc","1.0.0":"http://www.opengis.net/ogc"},ca={"2.0.0":"http://www.opengis.net/wfs/2.0","1.1.0":"http://www.opengis.net/wfs","1.0.0":"http://www.opengis.net/wfs"},la={"2.0.0":"http://www.opengis.net/fes/2.0","1.1.0":"http://www.opengis.net/fes","1.0.0":"http://www.opengis.net/fes"},fa={"2.0.0":"http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd","1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},ha={"2.0.0":ko,"1.1.0":Rt,"1.0.0":Pt},va=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.version_=n.version?n.version:"1.1.0",r.featureType_=n.featureType,r.featureNS_=n.featureNS,r.gmlFormat_=n.gmlFormat?n.gmlFormat:new ha[r.version_],r.schemaLocation_=n.schemaLocation?n.schemaLocation:fa[r.version_],r}return ra(e,t),e.prototype.getFeatureType=function(){return this.featureType_},e.prototype.setFeatureType=function(t){this.featureType_=t},e.prototype.readFeaturesFromNode=function(t,e){var r={node:t};Object(y.a)(r,{featureType:this.featureType_,featureNS:this.featureNS_}),Object(y.a)(r,this.getReadOptions(t,e||{}));var n=[r],o=$([],"2.0.0"===this.version_?na:this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,n,this.gmlFormat_);return o||(o=[]),o},e.prototype.readTransactionResponse=function(t){if(t){if("string"==typeof t){var e=G(t);return this.readTransactionResponseFromDocument(e)}return j(t)?this.readTransactionResponseFromDocument(t):this.readTransactionResponseFromNode(t)}},e.prototype.readFeatureCollectionMetadata=function(t){if(t){if("string"==typeof t){var e=G(t);return this.readFeatureCollectionMetadataFromDocument(e)}return j(t)?this.readFeatureCollectionMetadataFromDocument(t):this.readFeatureCollectionMetadataFromNode(t)}},e.prototype.readFeatureCollectionMetadataFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(e)},e.prototype.readFeatureCollectionMetadataFromNode=function(t){var e={},r=dt(t.getAttribute("numberOfFeatures"));return e.numberOfFeatures=r,$(e,na,t,[],this.gmlFormat_)},e.prototype.readTransactionResponseFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(e)},e.prototype.readTransactionResponseFromNode=function(t){return $({},aa,t,[])},e.prototype.writeGetFeature=function(t){var e=this,r=A(ca[this.version_],"GetFeature");r.setAttribute("service","WFS"),r.setAttribute("version",this.version_),t.handle&&r.setAttribute("handle",t.handle),t.outputFormat&&r.setAttribute("outputFormat",t.outputFormat),void 0!==t.maxFeatures&&r.setAttribute("maxFeatures",String(t.maxFeatures)),t.resultType&&r.setAttribute("resultType",t.resultType),void 0!==t.startIndex&&r.setAttribute("startIndex",String(t.startIndex)),void 0!==t.count&&r.setAttribute("count",String(t.count)),void 0!==t.viewParams&&r.setAttribute("viewParams",t.viewParams),r.setAttributeNS(F,"xsi:schemaLocation",this.schemaLocation_);var n={node:r};if(Object(y.a)(n,{version:this.version_,srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.featureNS_,featurePrefix:t.featurePrefix,propertyNames:t.propertyNames?t.propertyNames:[]}),Object(_.a)(Array.isArray(t.featureTypes),11),"string"==typeof t.featureTypes[0]){var o=t.filter;t.bbox&&(Object(_.a)(t.geometryName,12),o=this.combineBboxAndFilter(t.geometryName,t.bbox,t.srsName,o)),Object(y.a)(n,{geometryName:t.geometryName,filter:o}),Za(r,t.featureTypes,[n])}else t.featureTypes.forEach((function(o){var a=e.combineBboxAndFilter(o.geometryName,o.bbox,t.srsName,t.filter);Object(y.a)(n,{geometryName:o.geometryName,filter:a}),Za(r,[o.name],[n])}));return r},e.prototype.combineBboxAndFilter=function(t,e,r,n){var o=function(t,e,r){return new xo(t,e,r)}(t,e,r);return n?function(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(To,e))}(n,o):o},e.prototype.writeTransaction=function(t,e,r,n){var o,a=[],i=n.version?n.version:this.version_,s=A(ca[i],"Transaction");s.setAttribute("service","WFS"),s.setAttribute("version",i),n&&(o=n.gmlOptions?n.gmlOptions:{},n.handle&&s.setAttribute("handle",n.handle)),s.setAttributeNS(F,"xsi:schemaLocation",fa[i]);var p=function(t,e,r,n){var o,a=n.featurePrefix?n.featurePrefix:"feature";"1.0.0"===r?o=2:"1.1.0"===r?o=3:"2.0.0"===r&&(o=3.2);return Object(y.a)({node:t},{version:r,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:a,gmlVersion:o,hasZ:n.hasZ,srsName:n.srsName},e)}(s,o,i,n);return t&&_a("Insert",t,a,p),e&&_a("Update",e,a,p),r&&_a("Delete",r,a,p),n.nativeElements&&_a("Native",n.nativeElements,a,p),s},e.prototype.readProjectionFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(e);return null},e.prototype.readProjectionFromNode=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild)for(var e=(t=t.firstElementChild.firstElementChild).firstElementChild;e;e=e.nextElementSibling)if(0!==e.childNodes.length&&(1!==e.childNodes.length||3!==e.firstChild.nodeType)){var r=[{}];return this.gmlFormat_.readGeometryElement(e,r),Object(m.l)(r.pop().srsName)}return null},e}(ot);function _a(t,e,r,n){Q(n,sa,X(t),e,r)}function ya(t,e){return $({},oa,t,e)}var da={"http://www.opengis.net/ogc":{FeatureId:B((function(t,e){return t.getAttribute("fid")}))},"http://www.opengis.net/ogc/1.1":{FeatureId:B((function(t,e){return t.getAttribute("fid")}))}};function ga(t,e){J(da,t,e)}var ma={"http://www.opengis.net/wfs":{Feature:ga},"http://www.opengis.net/wfs/2.0":{Feature:ga}};function wa(t,e){return $([],ma,t,e)}function ba(t,e,r){var n=r[r.length-1],o=n.featureType,a=n.featureNS,i=n.gmlVersion,s=A(a,o);t.appendChild(s),2===i?Pt.prototype.writeFeatureElement(s,e,r):3===i?Rt.prototype.writeFeatureElement(s,e,r):ko.prototype.writeFeatureElement(s,e,r)}function Oa(t,e,r){var n=r[r.length-1].version,o=ua[n],a=A(o,"Filter"),i=A(o,"FeatureId");a.appendChild(i),i.setAttribute("fid",e),t.appendChild(a)}function Sa(t,e){var r=(t=t||"feature")+":";return 0===e.indexOf(r)?e:r+e}function ka(t,e,r){var n=r[r.length-1];Object(_.a)(void 0!==e.getId(),26);var o=n.featureType,a=n.featurePrefix,i=n.featureNS,s=Sa(a,o);t.setAttribute("typeName",s),t.setAttributeNS(pa,"xmlns:"+a,i);var p=e.getId();void 0!==p&&Oa(t,p,r)}function Ea(t,e,r){var n=r[r.length-1];Object(_.a)(void 0!==e.getId(),27);var o=n.version,a=n.featureType,i=n.featurePrefix,s=n.featureNS,p=Sa(i,a),u=e.getGeometryName();t.setAttribute("typeName",p),t.setAttributeNS(pa,"xmlns:"+i,s);var c=e.getId();if(void 0!==c){for(var l=e.getKeys(),f=[],h=0,v=l.length;h<v;h++){var y=e.get(l[h]);if(void 0!==y){var d=l[h];y&&"function"==typeof y.getSimplifiedGeometry&&(d=u),f.push({name:d,value:y})}}Q({version:o,gmlVersion:n.gmlVersion,node:t,hasZ:n.hasZ,srsName:n.srsName},sa,X("Property"),f,r),Oa(t,c,r)}}function Pa(t,e,r){var n=r[r.length-1],o=n.version,a=ca[o],i=A(a,"Name"),s=n.gmlVersion;if(t.appendChild(i),Ot(i,e.name),void 0!==e.value&&null!==e.value){var p=A(a,"Value");t.appendChild(p),e.value&&"function"==typeof e.value.getSimplifiedGeometry?2===s?Pt.prototype.writeGeometryElement(p,e.value,r):3===s?Rt.prototype.writeGeometryElement(p,e.value,r):ko.prototype.writeGeometryElement(p,e.value,r):Ot(p,e.value)}}function Na(t,e,r){e.vendorId&&t.setAttribute("vendorId",e.vendorId),void 0!==e.safeToIgnore&&t.setAttribute("safeToIgnore",String(e.safeToIgnore)),void 0!==e.value&&Ot(t,e.value)}var Ia={"http://www.opengis.net/wfs":{Query:z(Ta)},"http://www.opengis.net/wfs/2.0":{Query:z(Ta)},"http://www.opengis.net/ogc":{During:z(Fa),And:z(Aa),Or:z(Aa),Not:z(Ca),BBOX:z(xa),Contains:z(La),Intersects:z(La),Within:z(La),DWithin:z(Ma),PropertyIsEqualTo:z(ja),PropertyIsNotEqualTo:z(ja),PropertyIsLessThan:z(ja),PropertyIsLessThanOrEqualTo:z(ja),PropertyIsGreaterThan:z(ja),PropertyIsGreaterThanOrEqualTo:z(ja),PropertyIsNull:z(Ga),PropertyIsBetween:z(Ua),PropertyIsLike:z(Ba)},"http://www.opengis.net/fes/2.0":{During:z(Fa),And:z(Aa),Or:z(Aa),Not:z(Ca),BBOX:z(xa),Contains:z(La),Disjoint:z(La),Intersects:z(La),ResourceId:z((function(t,e,r){t.setAttribute("rid",e.rid)})),Within:z(La),DWithin:z(Ma),PropertyIsEqualTo:z(ja),PropertyIsNotEqualTo:z(ja),PropertyIsLessThan:z(ja),PropertyIsLessThanOrEqualTo:z(ja),PropertyIsGreaterThan:z(ja),PropertyIsGreaterThanOrEqualTo:z(ja),PropertyIsNull:z(Ga),PropertyIsBetween:z(Ua),PropertyIsLike:z(Ba)}};function Ta(t,e,r){var n,o,a=r[r.length-1],i=a.version,s=a.featurePrefix,p=a.featureNS,u=a.propertyNames,c=a.srsName;n=s?Sa(s,e):e,o="2.0.0"===i?"typeNames":"typeName",t.setAttribute(o,n),c&&t.setAttribute("srsName",c),p&&t.setAttributeNS(pa,"xmlns:"+s,p);var l=Object(y.a)({},a);l.node=t,Q(l,ia,X("PropertyName"),u,r);var f=a.filter;if(f){var h=A(Xa(i),"Filter");t.appendChild(h),Ra(h,f,r)}}function Ra(t,e,r){var n=r[r.length-1],o={node:t};Object(y.a)(o,{context:n}),Q(o,Ia,X(e.getTagName()),[e],r)}function xa(t,e,r){var n=r[r.length-1],o=n.context.version;n.srsName=e.srsName;var a=ha[o];Va(o,t,e.geometryName),a.prototype.writeGeometryElement(t,e.extent,r)}function La(t,e,r){var n=r[r.length-1],o=n.context.version;n.srsName=e.srsName;var a=ha[o];Va(o,t,e.geometryName),a.prototype.writeGeometryElement(t,e.geometry,r)}function Ma(t,e,r){var n=r[r.length-1].context.version;La(t,e,r);var o=A(Xa(n),"Distance");Ot(o,e.distance.toString()),"2.0.0"===n?o.setAttribute("uom",e.unit):o.setAttribute("units",e.unit),t.appendChild(o)}function Fa(t,e,r){var n=r[r.length-1].context.version;Da(la[n],"ValueReference",t,e.propertyName);var o=A(it,"TimePeriod");t.appendChild(o);var a=A(it,"begin");o.appendChild(a),za(a,e.begin);var i=A(it,"end");o.appendChild(i),za(i,e.end)}function Aa(t,e,r){var n=r[r.length-1].context,o={node:t};Object(y.a)(o,{context:n});for(var a=e.conditions,i=0,s=a.length;i<s;++i){var p=a[i];Q(o,Ia,X(p.getTagName()),[p],r)}}function Ca(t,e,r){var n=r[r.length-1].context,o={node:t};Object(y.a)(o,{context:n});var a=e.condition;Q(o,Ia,X(a.getTagName()),[a],r)}function ja(t,e,r){var n=r[r.length-1].context.version;void 0!==e.matchCase&&t.setAttribute("matchCase",e.matchCase.toString()),Va(n,t,e.propertyName),Ya(n,t,""+e.expression)}function Ga(t,e,r){Va(r[r.length-1].context.version,t,e.propertyName)}function Ua(t,e,r){var n=r[r.length-1].context.version,o=Xa(n);Va(n,t,e.propertyName);var a=A(o,"LowerBoundary");t.appendChild(a),Ya(n,a,""+e.lowerBoundary);var i=A(o,"UpperBoundary");t.appendChild(i),Ya(n,i,""+e.upperBoundary)}function Ba(t,e,r){var n=r[r.length-1].context.version;t.setAttribute("wildCard",e.wildCard),t.setAttribute("singleChar",e.singleChar),t.setAttribute("escapeChar",e.escapeChar),void 0!==e.matchCase&&t.setAttribute("matchCase",e.matchCase.toString()),Va(n,t,e.propertyName),Ya(n,t,""+e.pattern)}function Da(t,e,r,n){var o=A(t,e);Ot(o,n),r.appendChild(o)}function Ya(t,e,r){Da(Xa(t),"Literal",e,r)}function Va(t,e,r){"2.0.0"===t?Da(la[t],"ValueReference",e,r):Da(ua[t],"PropertyName",e,r)}function za(t,e){var r=A(it,"TimeInstant");t.appendChild(r);var n=A(it,"timePosition");r.appendChild(n),Ot(n,e)}function Za(t,e,r){var n=r[r.length-1],o=Object(y.a)({},n);o.node=t,Q(o,Ia,X("Query"),e,r)}function Xa(t){return"2.0.0"===t?la[t]:ua[t]}var Wa=va,qa=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ha=1,Ja=2,$a=3,Ka=4,Qa=5,ti=6,ei=7,ri=15,ni=16,oi=17,ai=function(){function t(t){this.view_=t,this.pos_=0,this.initialized_=!1,this.isLittleEndian_=!1,this.hasZ_=!1,this.hasM_=!1,this.srid_=null,this.layout_=a.a.XY}return t.prototype.readUint8=function(){return this.view_.getUint8(this.pos_++)},t.prototype.readUint32=function(t){return this.view_.getUint32((this.pos_+=4)-4,void 0!==t?t:this.isLittleEndian_)},t.prototype.readDouble=function(t){return this.view_.getFloat64((this.pos_+=8)-8,void 0!==t?t:this.isLittleEndian_)},t.prototype.readPoint=function(){var t=[];return t.push(this.readDouble()),t.push(this.readDouble()),this.hasZ_&&t.push(this.readDouble()),this.hasM_&&t.push(this.readDouble()),t},t.prototype.readLineString=function(){for(var t=this.readUint32(),e=[],r=0;r<t;r++)e.push(this.readPoint());return e},t.prototype.readPolygon=function(){for(var t=this.readUint32(),e=[],r=0;r<t;r++)e.push(this.readLineString());return e},t.prototype.readWkbHeader=function(t){var e=this.readUint8()>0,r=this.readUint32(e),n=Math.floor((268435455&r)/1e3),o=Boolean(2147483648&r)||1===n||3===n,a=Boolean(1073741824&r)||2===n||3===n,i=Boolean(536870912&r),s=(268435455&r)%1e3,p=["XY",o?"Z":"",a?"M":""].join(""),u=i?this.readUint32(e):null;if(void 0!==t&&t!==s)throw new Error("Unexpected WKB geometry type "+s);if(this.initialized_){if(this.isLittleEndian_!==e)throw new Error("Inconsistent endian");if(this.layout_!==p)throw new Error("Inconsistent geometry layout");if(u&&this.srid_!==u)throw new Error("Inconsistent coordinate system (SRID)")}else this.isLittleEndian_=e,this.hasZ_=o,this.hasM_=a,this.layout_=p,this.srid_=u,this.initialized_=!0;return s},t.prototype.readWkbPayload=function(t){switch(t){case Ha:return this.readPoint();case Ja:return this.readLineString();case $a:case oi:return this.readPolygon();case Ka:return this.readMultiPoint();case Qa:return this.readMultiLineString();case ti:case ri:case ni:return this.readMultiPolygon();case ei:return this.readGeometryCollection();default:throw new Error("Unsupported WKB geometry type "+t+" is found")}},t.prototype.readWkbBlock=function(t){return this.readWkbPayload(this.readWkbHeader(t))},t.prototype.readWkbCollection=function(t,e){for(var r=this.readUint32(),n=[],o=0;o<r;o++){var a=t.call(this,e);a&&n.push(a)}return n},t.prototype.readMultiPoint=function(){return this.readWkbCollection(this.readWkbBlock,Ha)},t.prototype.readMultiLineString=function(){return this.readWkbCollection(this.readWkbBlock,Ja)},t.prototype.readMultiPolygon=function(){return this.readWkbCollection(this.readWkbBlock,$a)},t.prototype.readGeometryCollection=function(){return this.readWkbCollection(this.readGeometry)},t.prototype.readGeometry=function(){var t=this.readWkbHeader(),e=this.readWkbPayload(t);switch(t){case Ha:return new h.a(e,this.layout_);case Ja:return new p.a(e,this.layout_);case $a:case oi:return new v.b(e,this.layout_);case Ka:return new l.a(e,this.layout_);case Qa:return new c.a(e,this.layout_);case ti:case ri:case ni:return new f.a(e,this.layout_);case ei:return new Me.a(e);default:return null}},t.prototype.getSrid=function(){return this.srid_},t}(),ii=function(){function t(t){t=t||{},this.layout_=t.layout,this.isLittleEndian_=!1!==t.littleEndian,this.isEWKB_=!1!==t.ewkb,this.writeQueue_=[],this.nodata_=Object(y.a)({X:0,Y:0,Z:0,M:0},t.nodata)}return t.prototype.writeUint8=function(t){this.writeQueue_.push([1,t])},t.prototype.writeUint32=function(t){this.writeQueue_.push([4,t])},t.prototype.writeDouble=function(t){this.writeQueue_.push([8,t])},t.prototype.writePoint=function(t,e){for(var r=y.a.apply(null,e.split("").map((function(e,r){var n;return(n={})[e]=t[r],n}))),n=0,o=this.layout_;n<o.length;n++){var a=o[n];this.writeDouble(a in r?r[a]:this.nodata_[a])}},t.prototype.writeLineString=function(t,e){this.writeUint32(t.length);for(var r=0;r<t.length;r++)this.writePoint(t[r],e)},t.prototype.writePolygon=function(t,e){this.writeUint32(t.length);for(var r=0;r<t.length;r++)this.writeLineString(t[r],e)},t.prototype.writeWkbHeader=function(t,e){t%=1e3,this.layout_.indexOf("Z")>=0&&(t+=this.isEWKB_?2147483648:1e3),this.layout_.indexOf("M")>=0&&(t+=this.isEWKB_?1073741824:2e3),this.isEWKB_&&Number.isInteger(e)&&(t|=536870912),this.writeUint8(this.isLittleEndian_?1:0),this.writeUint32(t),this.isEWKB_&&Number.isInteger(e)&&this.writeUint32(e)},t.prototype.writeMultiPoint=function(t,e){this.writeUint32(t.length);for(var r=0;r<t.length;r++)this.writeWkbHeader(1),this.writePoint(t[r],e)},t.prototype.writeMultiLineString=function(t,e){this.writeUint32(t.length);for(var r=0;r<t.length;r++)this.writeWkbHeader(2),this.writeLineString(t[r],e)},t.prototype.writeMultiPolygon=function(t,e){this.writeUint32(t.length);for(var r=0;r<t.length;r++)this.writeWkbHeader(3),this.writePolygon(t[r],e)},t.prototype.writeGeometryCollection=function(t){this.writeUint32(t.length);for(var e=0;e<t.length;e++)this.writeGeometry(t[e])},t.prototype.findMinimumLayout=function(t,e){void 0===e&&(e=a.a.XYZM);var r,n;if(t instanceof so.a)return(r=t.getLayout())===(n=e)?r:r===a.a.XYZM?n:n===a.a.XYZM?r:a.a.XY;if(t instanceof Me.a)for(var o=t.getGeometriesArray(),i=0;i<o.length&&e!==a.a.XY;i++)e=this.findMinimumLayout(o[i],e);return e},t.prototype.writeGeometry=function(t,e){var r,n,o=((r={})[i.a.POINT]=Ha,r[i.a.LINE_STRING]=Ja,r[i.a.POLYGON]=$a,r[i.a.MULTI_POINT]=Ka,r[i.a.MULTI_LINE_STRING]=Qa,r[i.a.MULTI_POLYGON]=ti,r[i.a.GEOMETRY_COLLECTION]=ei,r),a=t.getType(),s=o[a];if(!s)throw new Error("GeometryType "+a+" is not supported");(this.layout_||(this.layout_=this.findMinimumLayout(t)),this.writeWkbHeader(s,e),t instanceof so.a)?((n={})[i.a.POINT]=this.writePoint,n[i.a.LINE_STRING]=this.writeLineString,n[i.a.POLYGON]=this.writePolygon,n[i.a.MULTI_POINT]=this.writeMultiPoint,n[i.a.MULTI_LINE_STRING]=this.writeMultiLineString,n[i.a.MULTI_POLYGON]=this.writeMultiPolygon,n)[a].call(this,t.getCoordinates(),t.getLayout()):t instanceof Me.a&&this.writeGeometryCollection(t.getGeometriesArray())},t.prototype.getBuffer=function(){var t=this,e=this.writeQueue_.reduce((function(t,e){return t+e[0]}),0),r=new ArrayBuffer(e),n=new DataView(r),o=0;return this.writeQueue_.forEach((function(e){switch(e[0]){case 1:n.setUint8(o,e[1]);break;case 4:n.setUint32(o,e[1],t.isLittleEndian_);break;case 8:n.setFloat64(o,e[1],t.isLittleEndian_)}o+=e[0]})),r},t}();function si(t){return"string"==typeof t?function(t){for(var e=new Uint8Array(t.length/2),r=0;r<t.length/2;r++)e[r]=parseInt(t.substr(2*r,2),16);return new DataView(e.buffer)}(t):ArrayBuffer.isView(t)?t instanceof DataView?t:new DataView(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer?new DataView(t):null}var pi=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.splitCollection=Boolean(n.splitCollection),r.viewCache_=null,r.hex_=!1!==n.hex,r.littleEndian_=!1!==n.littleEndian,r.ewkb_=!1!==n.ewkb,r.layout_=n.geometryLayout,r.nodataZ_=n.nodataZ||0,r.nodataM_=n.nodataM||0,r.srid_=n.srid,r}return qa(e,t),e.prototype.getType=function(){return this.hex_?x.a.TEXT:x.a.ARRAY_BUFFER},e.prototype.readFeature=function(t,e){return new o.a({geometry:this.readGeometry(t,e)})},e.prototype.readFeatures=function(t,e){var r=this.readGeometry(t,e);return(this.splitCollection&&r instanceof Me.a?r.getGeometriesArray():[r]).map((function(t){return new o.a({geometry:t})}))},e.prototype.readGeometry=function(t,e){var r=si(t);if(!r)return null;var n=new ai(r).readGeometry();this.viewCache_=r;var o=this.getReadOptions(t,e);return this.viewCache_=null,Object(b.c)(n,!1,o)},e.prototype.readProjection=function(t){var e=this.viewCache_||si(t);if(e){var r=new ai(e);return r.readWkbHeader(),r.getSrid()&&Object(m.l)("EPSG:"+r.getSrid())||void 0}},e.prototype.writeFeature=function(t,e){return this.writeGeometry(t.getGeometry(),e)},e.prototype.writeFeatures=function(t,e){return this.writeGeometry(new Me.a(t.map((function(t){return t.getGeometry()}))),e)},e.prototype.writeGeometry=function(t,e){var r=this.adaptOptions(e),n=new ii({layout:this.layout_,littleEndian:this.littleEndian_,ewkb:this.ewkb_,nodata:{Z:this.nodataZ_,M:this.nodataM_}}),o=Number.isInteger(this.srid_)?Number(this.srid_):null;if(!1!==this.srid_&&!Number.isInteger(this.srid_)){var a=r.dataProjection&&Object(m.l)(r.dataProjection);if(a){var i=a.getCode();0===i.indexOf("EPSG:")&&(o=Number(i.substring(5)))}}n.writeGeometry(Object(b.c)(t,!0,r),o);var s=n.getBuffer();return this.hex_?function(t){var e=new Uint8Array(t);return Array.from(e.values()).map((function(t){return(t<16?"0":"")+Number(t).toString(16).toUpperCase()})).join("")}(s):s},e}(b.a),ui=r(280),ci=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),li=[null,"http://www.opengis.net/wms"],fi=H(li,{Service:V((function(t,e){return $({},_i,t,e)})),Capability:V((function(t,e){return $({},hi,t,e)}))}),hi=H(li,{Request:V((function(t,e){return $({},Si,t,e)})),Exception:V((function(t,e){return $([],mi,t,e)})),Layer:V((function(t,e){var r=$({},wi,t,e);if(void 0===r.Layer)return Object.assign(r,Ri(t,e));return r}))}),vi=function(t){function e(){var e=t.call(this)||this;return e.version=void 0,e}return ci(e,t),e.prototype.readFromNode=function(t){this.version=t.getAttribute("version").trim();var e=$({version:this.version},fi,t,[]);return e||null},e}(Bn),_i=H(li,{Name:V(gt),Title:V(gt),Abstract:V(gt),KeywordList:V(Fi),OnlineResource:V(Dn),ContactInformation:V((function(t,e){return $({},yi,t,e)})),Fees:V(gt),AccessConstraints:V(gt),LayerLimit:V(yt),MaxWidth:V(yt),MaxHeight:V(yt)}),yi=H(li,{ContactPersonPrimary:V((function(t,e){return $({},di,t,e)})),ContactPosition:V(gt),ContactAddress:V((function(t,e){return $({},gi,t,e)})),ContactVoiceTelephone:V(gt),ContactFacsimileTelephone:V(gt),ContactElectronicMailAddress:V(gt)}),di=H(li,{ContactPerson:V(gt),ContactOrganization:V(gt)}),gi=H(li,{AddressType:V(gt),Address:V(gt),City:V(gt),StateOrProvince:V(gt),PostCode:V(gt),Country:V(gt)}),mi=H(li,{Format:B(gt)}),wi=H(li,{Name:V(gt),Title:V(gt),Abstract:V(gt),KeywordList:V(Fi),CRS:Y(gt),EX_GeographicBoundingBox:V((function(t,e){var r=$({},Oi,t,e);if(!r)return;var n=r.westBoundLongitude,o=r.southBoundLatitude,a=r.eastBoundLongitude,i=r.northBoundLatitude;if(void 0===n||void 0===o||void 0===a||void 0===i)return;return[n,o,a,i]})),BoundingBox:Y((function(t,e){var r=[_t(t.getAttribute("minx")),_t(t.getAttribute("miny")),_t(t.getAttribute("maxx")),_t(t.getAttribute("maxy"))],n=[_t(t.getAttribute("resx")),_t(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:r,res:n}})),Dimension:Y((function(t,e){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:ft(t.getAttribute("multipleValues")),nearestValue:ft(t.getAttribute("nearestValue")),current:ft(t.getAttribute("current")),values:gt(t)}})),Attribution:V((function(t,e){return $({},bi,t,e)})),AuthorityURL:Y((function(t,e){var r=xi(t,e);if(r)return r.name=t.getAttribute("name"),r;return})),Identifier:Y(gt),MetadataURL:Y((function(t,e){var r=xi(t,e);if(r)return r.type=t.getAttribute("type"),r;return})),DataURL:Y(xi),FeatureListURL:Y(xi),Style:Y((function(t,e){return $({},Ni,t,e)})),MinScaleDenominator:V(vt),MaxScaleDenominator:V(vt),Layer:Y(Ri)}),bi=H(li,{Title:V(gt),OnlineResource:V(Dn),LogoURL:V(Mi)}),Oi=H(li,{westBoundLongitude:V(vt),eastBoundLongitude:V(vt),southBoundLatitude:V(vt),northBoundLatitude:V(vt)}),Si=H(li,{GetCapabilities:V(Li),GetMap:V(Li),GetFeatureInfo:V(Li)}),ki=H(li,{Format:Y(gt),DCPType:Y((function(t,e){return $({},Ei,t,e)}))}),Ei=H(li,{HTTP:V((function(t,e){return $({},Pi,t,e)}))}),Pi=H(li,{Get:V(xi),Post:V(xi)}),Ni=H(li,{Name:V(gt),Title:V(gt),Abstract:V(gt),LegendURL:Y(Mi),StyleSheetURL:V(xi),StyleURL:V(xi)}),Ii=H(li,{Format:V(gt),OnlineResource:V(Dn)}),Ti=H(li,{Keyword:B(gt)});function Ri(t,e){var r=e[e.length-1],n=$({},wi,t,e);if(n){var o=ft(t.getAttribute("queryable"));void 0===o&&(o=r.queryable),n.queryable=void 0!==o&&o;var a=dt(t.getAttribute("cascaded"));void 0===a&&(a=r.cascaded),n.cascaded=a;var i=ft(t.getAttribute("opaque"));void 0===i&&(i=r.opaque),n.opaque=void 0!==i&&i;var s=ft(t.getAttribute("noSubsets"));void 0===s&&(s=r.noSubsets),n.noSubsets=void 0!==s&&s;var p=_t(t.getAttribute("fixedWidth"));p||(p=r.fixedWidth),n.fixedWidth=p;var u=_t(t.getAttribute("fixedHeight"));u||(u=r.fixedHeight),n.fixedHeight=u;["Style","CRS","AuthorityURL"].forEach((function(t){if(t in r){var e=n[t]||[];n[t]=e.concat(r[t])}}));return["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"].forEach((function(t){if(!(t in n)){var e=r[t];n[t]=e}})),n}}function xi(t,e){return $({},Ii,t,e)}function Li(t,e){return $({},ki,t,e)}function Mi(t,e){var r=xi(t,e);if(r){var n=[dt(t.getAttribute("width")),dt(t.getAttribute("height"))];return r.size=n,r}}function Fi(t,e){return $([],Ti,t,e)}var Ai=vi,Ci=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ji=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.featureNS_="http://mapserver.gis.umn.edu/mapserver",r.gmlFormat_=new Pt,r.layers_=n.layers?n.layers:null,r}return Ci(e,t),e.prototype.getLayers=function(){return this.layers_},e.prototype.setLayers=function(t){this.layers_=t},e.prototype.readFeatures_=function(t,e){t.setAttribute("namespaceURI",this.featureNS_);var r=t.localName,n=[];if(0===t.childNodes.length)return n;if("msGMLOutput"==r)for(var o=0,a=t.childNodes.length;o<a;o++){var i=t.childNodes[o];if(i.nodeType===Node.ELEMENT_NODE){var s=i,p=e[0],u=s.localName.replace("_layer","");if(!this.layers_||Object(M.f)(this.layers_,u)){var c=u+"_feature";p.featureType=c,p.featureNS=this.featureNS_;var l={};l[c]=B(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var f=H([p.featureNS,null],l);s.setAttribute("namespaceURI",this.featureNS_);var h=$([],f,s,e,this.gmlFormat_);h&&Object(M.c)(n,h)}}}if("FeatureCollection"==r){var v=$([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,[{}],this.gmlFormat_);v&&(n=v)}return n},e.prototype.readFeaturesFromNode=function(t,e){var r={};return e&&Object(y.a)(r,this.getReadOptions(t,e)),this.readFeatures_(t,[r])},e}(ot),Gi=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ui=[null,"http://www.opengis.net/wmts/1.0"],Bi=[null,"http://www.opengis.net/ows/1.1"],Di=H(Ui,{Contents:V((function(t,e){return $({},Vi,t,e)}))}),Yi=function(t){function e(){var e=t.call(this)||this;return e.owsParser_=new ao,e}return Gi(e,t),e.prototype.readFromNode=function(t){var e=t.getAttribute("version");e&&(e=e.trim());var r=this.owsParser_.readFromNode(t);return r?(r.version=e,(r=$(r,Di,t,[]))||null):null},e}(Bn),Vi=H(Ui,{Layer:Y((function(t,e){return $({},zi,t,e)})),TileMatrixSet:Y((function(t,e){return $({},$i,t,e)}))}),zi=H(Ui,{Style:Y((function(t,e){var r=$({},Zi,t,e);if(!r)return;var n="true"===t.getAttribute("isDefault");return r.isDefault=n,r})),Format:Y(gt),TileMatrixSetLink:Y((function(t,e){return $({},Xi,t,e)})),Dimension:Y((function(t,e){return $({},Hi,t,e)})),ResourceURL:Y((function(t,e){var r=t.getAttribute("format"),n=t.getAttribute("template"),o=t.getAttribute("resourceType"),a={};r&&(a.format=r);n&&(a.template=n);o&&(a.resourceType=o);return a}))},H(Bi,{Title:V(gt),Abstract:V(gt),WGS84BoundingBox:V(Qi),Identifier:V(gt)})),Zi=H(Ui,{LegendURL:Y((function(t,e){var r={};return r.format=t.getAttribute("format"),r.href=Dn(t),r}))},H(Bi,{Title:V(gt),Identifier:V(gt)})),Xi=H(Ui,{TileMatrixSet:V(gt),TileMatrixSetLimits:V((function(t,e){return $([],Wi,t,e)}))}),Wi=H(Ui,{TileMatrixLimits:B((function(t,e){return $({},qi,t,e)}))}),qi=H(Ui,{TileMatrix:V(gt),MinTileRow:V(yt),MaxTileRow:V(yt),MinTileCol:V(yt),MaxTileCol:V(yt)}),Hi=H(Ui,{Default:V(gt),Value:Y(gt)},H(Bi,{Identifier:V(gt)})),Ji=H(Bi,{LowerCorner:B(ts),UpperCorner:B(ts)}),$i=H(Ui,{WellKnownScaleSet:V(gt),TileMatrix:Y((function(t,e){return $({},Ki,t,e)}))},H(Bi,{SupportedCRS:V(gt),Identifier:V(gt),BoundingBox:V(Qi)})),Ki=H(Ui,{TopLeftCorner:V(ts),ScaleDenominator:V(vt),TileWidth:V(yt),TileHeight:V(yt),MatrixWidth:V(yt),MatrixHeight:V(yt)},H(Bi,{Identifier:V(gt)}));function Qi(t,e){var r=$([],Ji,t,e);if(2==r.length)return Object(d.c)(r)}function ts(t,e){var r=gt(t).split(/\s+/);if(r&&2==r.length){var n=+r[0],o=+r[1];if(!isNaN(n)&&!isNaN(o))return[n,o]}}var es=Yi},284:function(t,e,r){"use strict";r.d(e,"b",(function(){return f}));var n,o=r(263),a=r(286),i=r(265),s=r(308),p=r(258),u=r(298),c=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),l=function(t){function e(e,r,n,o,a,s){var p=t.call(this,e,r,n,i.a.IDLE)||this;return p.src_=o,p.image_=new Image,null!==a&&(p.image_.crossOrigin=a),p.unlisten_=null,p.state=i.a.IDLE,p.imageLoadFunction_=s,p}return c(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=i.a.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Object(p.A)(this.extent)/this.image_.height),this.state=i.a.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=i.a.IDLE&&this.state!=i.a.ERROR||(this.state=i.a.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=f(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t,this.resolution=Object(p.A)(this.extent)/this.image_.height},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(a.a);function f(t,e,r){var n=t,a=!0,i=!1,p=!1,c=[Object(u.b)(n,o.a.LOAD,(function(){p=!0,i||e()}))];return n.src&&s.c?(i=!0,n.decode().then((function(){a&&e()})).catch((function(t){a&&(p?e():r())}))):c.push(Object(u.b)(n,o.a.ERROR,r)),function(){a=!1,c.forEach(u.c)}}e.a=l},286:function(t,e,r){"use strict";var n,o=r(288),a=r(263),i=r(264),s=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),p=function(t){function e(e,r,n,o){var a=t.call(this)||this;return a.extent=e,a.pixelRatio_=n,a.resolution=r,a.state=o,a}return s(e,t),e.prototype.changed=function(){this.dispatchEvent(a.a.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Object(i.b)()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Object(i.b)()},e}(o.a);e.a=p},293:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(266),o=function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var r=this.cache_[e];0!=(3&t++)||r.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},t.prototype.get=function(t,e,r){var n=a(t,e,r);return n in this.cache_?this.cache_[n]:null},t.prototype.set=function(t,e,r,n){var o=a(t,e,r);this.cache_[o]=n,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}();function a(t,e,r){return e+":"+t+":"+(r?Object(n.b)(r):"null")}var i=new o},294:function(t,e,r){"use strict";e.a={POINT:"point",LINE:"line"}},301:function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,r,n,o){var a,i,s=8*o-n-1,p=(1<<s)-1,u=p>>1,c=-7,l=r?o-1:0,f=r?-1:1,h=t[e+l];for(l+=f,a=h&(1<<-c)-1,h>>=-c,c+=s;c>0;a=256*a+t[e+l],l+=f,c-=8);for(i=a&(1<<-c)-1,a>>=-c,c+=n;c>0;i=256*i+t[e+l],l+=f,c-=8);if(0===a)a=1-u;else{if(a===p)return i?NaN:1/0*(h?-1:1);i+=Math.pow(2,n),a-=u}return(h?-1:1)*i*Math.pow(2,a-n)},e.write=function(t,e,r,n,o,a){var i,s,p,u=8*a-o-1,c=(1<<u)-1,l=c>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,v=n?1:-1,_=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,i=c):(i=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-i))<1&&(i--,p*=2),(e+=i+l>=1?f/p:f*Math.pow(2,1-l))*p>=2&&(i++,p/=2),i+l>=c?(s=0,i=c):i+l>=1?(s=(e*p-1)*Math.pow(2,o),i+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,o),i=0));o>=8;t[r+h]=255&s,h+=v,s/=256,o-=8);for(i=i<<o|s,u+=o;u>0;t[r+h]=255&i,h+=v,i/=256,u-=8);t[r+h-v]|=128*_}},302:function(t,e,r){"use strict";r(252),r(251);var n=r(261),o=(r(259),r(262),r(250),r(255),r(260),r(256),r(305)),a=r(258),i=r(253),s=r(323),p=r(248),u=(r(277),r(322)),c=r(325),l=r(309),f=Object(o.c)(),h=function(){function t(t,e,r,n,o){this.styleFunction,this.extent_,this.id_=o,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=r,this.properties_=n}return t.prototype.get=function(t){return this.properties_[t]},t.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_===n.a.POINT?Object(a.n)(this.flatCoordinates_):Object(a.o)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},t.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var t=Object(a.x)(this.getExtent());this.flatInteriorPoints_=Object(s.a)(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_},t.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var t=Object(c.a)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=Object(s.b)(this.flatCoordinates_,0,this.ends_,2,t)}return this.flatInteriorPoints_},t.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=Object(u.a)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},t.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var t=this.flatCoordinates_,e=0,r=this.ends_,n=0,o=r.length;n<o;++n){var a=r[n],s=Object(u.a)(t,e,a,2,.5);Object(i.c)(this.flatMidpoints_,s),e=a}}return this.flatMidpoints_},t.prototype.getId=function(){return this.id_},t.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},t.prototype.getGeometry=function(){return this},t.prototype.getSimplifiedGeometry=function(t){return this},t.prototype.simplifyTransformed=function(t,e){return this},t.prototype.getProperties=function(){return this.properties_},t.prototype.getStride=function(){return 2},t.prototype.getStyleFunction=function(){return this.styleFunction},t.prototype.getType=function(){return this.type_},t.prototype.transform=function(t){var e=(t=Object(p.l)(t)).getExtent(),r=t.getWorldExtent();if(e&&r){var n=Object(a.A)(r)/Object(a.A)(e);Object(o.b)(f,r[0],r[3],n,-n,0,0,0),Object(l.c)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,f,this.flatCoordinates_)}},t.prototype.getEnds=function(){return this.ends_},t}();h.prototype.getEndss=h.prototype.getEnds,h.prototype.getFlatCoordinates=h.prototype.getOrientedFlatCoordinates,e.a=h},303:function(t,e,r){"use strict";t.exports=o;var n=r(301);function o(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}o.Varint=0,o.Fixed64=1,o.Bytes=2,o.Fixed32=5;var a="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function i(t){return t.type===o.Bytes?t.readVarint()+t.pos:t.pos+1}function s(t,e,r){return r?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function p(t,e,r){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));r.realloc(n);for(var o=r.pos-1;o>=t;o--)r.buf[o+n]=r.buf[o]}function u(t,e){for(var r=0;r<t.length;r++)e.writeVarint(t[r])}function c(t,e){for(var r=0;r<t.length;r++)e.writeSVarint(t[r])}function l(t,e){for(var r=0;r<t.length;r++)e.writeFloat(t[r])}function f(t,e){for(var r=0;r<t.length;r++)e.writeDouble(t[r])}function h(t,e){for(var r=0;r<t.length;r++)e.writeBoolean(t[r])}function v(t,e){for(var r=0;r<t.length;r++)e.writeFixed32(t[r])}function _(t,e){for(var r=0;r<t.length;r++)e.writeSFixed32(t[r])}function y(t,e){for(var r=0;r<t.length;r++)e.writeFixed64(t[r])}function d(t,e){for(var r=0;r<t.length;r++)e.writeSFixed64(t[r])}function g(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function m(t,e,r){t[r]=e,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24}function w(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}o.prototype={destroy:function(){this.buf=null},readFields:function(t,e,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),o=n>>3,a=this.pos;this.type=7&n,t(o,e,this),this.pos===a&&this.skip(n)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=g(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=w(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=g(this.buf,this.pos)+4294967296*g(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=g(this.buf,this.pos)+4294967296*w(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=n.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=n.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,r,n=this.buf;return e=127&(r=n[this.pos++]),r<128?e:(e|=(127&(r=n[this.pos++]))<<7,r<128?e:(e|=(127&(r=n[this.pos++]))<<14,r<128?e:(e|=(127&(r=n[this.pos++]))<<21,r<128?e:function(t,e,r){var n,o,a=r.buf;if(o=a[r.pos++],n=(112&o)>>4,o<128)return s(t,n,e);if(o=a[r.pos++],n|=(127&o)<<3,o<128)return s(t,n,e);if(o=a[r.pos++],n|=(127&o)<<10,o<128)return s(t,n,e);if(o=a[r.pos++],n|=(127&o)<<17,o<128)return s(t,n,e);if(o=a[r.pos++],n|=(127&o)<<24,o<128)return s(t,n,e);if(o=a[r.pos++],n|=(1&o)<<31,o<128)return s(t,n,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(r=n[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&a?function(t,e,r){return a.decode(t.subarray(e,r))}(this.buf,e,t):function(t,e,r){var n="",o=e;for(;o<r;){var a,i,s,p=t[o],u=null,c=p>239?4:p>223?3:p>191?2:1;if(o+c>r)break;1===c?p<128&&(u=p):2===c?128==(192&(a=t[o+1]))&&(u=(31&p)<<6|63&a)<=127&&(u=null):3===c?(a=t[o+1],i=t[o+2],128==(192&a)&&128==(192&i)&&((u=(15&p)<<12|(63&a)<<6|63&i)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(a=t[o+1],i=t[o+2],s=t[o+3],128==(192&a)&&128==(192&i)&&128==(192&s)&&((u=(15&p)<<18|(63&a)<<12|(63&i)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,n+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),n+=String.fromCharCode(u),o+=c}return n}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==o.Bytes)return t.push(this.readVarint(e));var r=i(this);for(t=t||[];this.pos<r;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==o.Bytes)return t.push(this.readSVarint());var e=i(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==o.Bytes)return t.push(this.readBoolean());var e=i(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==o.Bytes)return t.push(this.readFloat());var e=i(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==o.Bytes)return t.push(this.readDouble());var e=i(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==o.Bytes)return t.push(this.readFixed32());var e=i(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==o.Bytes)return t.push(this.readSFixed32());var e=i(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==o.Bytes)return t.push(this.readFixed64());var e=i(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==o.Bytes)return t.push(this.readSFixed64());var e=i(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===o.Varint)for(;this.buf[this.pos++]>127;);else if(e===o.Bytes)this.pos=this.readVarint()+this.pos;else if(e===o.Fixed32)this.pos+=4;else{if(e!==o.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var r=new Uint8Array(e);r.set(this.buf),this.buf=r,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),m(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),m(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),m(this.buf,-1&t,this.pos),m(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),m(this.buf,-1&t,this.pos),m(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var r,n;t>=0?(r=t%4294967296|0,n=t/4294967296|0):(n=~(-t/4294967296),4294967295^(r=~(-t%4294967296))?r=r+1|0:(r=0,n=n+1|0));if(t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,r){r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos]=127&t}(r,0,e),function(t,e){var r=(7&t)<<4;if(e.buf[e.pos++]|=r|((t>>>=3)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;e.buf[e.pos++]=127&t}(n,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,r){for(var n,o,a=0;a<e.length;a++){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){n>56319||a+1===e.length?(t[r++]=239,t[r++]=191,t[r++]=189):o=n;continue}if(n<56320){t[r++]=239,t[r++]=191,t[r++]=189,o=n;continue}n=o-55296<<10|n-56320|65536,o=null}else o&&(t[r++]=239,t[r++]=191,t[r++]=189,o=null);n<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:(n<65536?t[r++]=n>>12|224:(t[r++]=n>>18|240,t[r++]=n>>12&63|128),t[r++]=n>>6&63|128),t[r++]=63&n|128)}return r}(this.buf,t,this.pos);var r=this.pos-e;r>=128&&p(e,r,this),this.pos=e-1,this.writeVarint(r),this.pos+=r},writeFloat:function(t){this.realloc(4),n.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),n.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var r=0;r<e;r++)this.buf[this.pos++]=t[r]},writeRawMessage:function(t,e){this.pos++;var r=this.pos;t(e,this);var n=this.pos-r;n>=128&&p(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function(t,e,r){this.writeTag(t,o.Bytes),this.writeRawMessage(e,r)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,u,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,c,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,h,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,l,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,f,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,v,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,_,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,y,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,d,e)},writeBytesField:function(t,e){this.writeTag(t,o.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,o.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,o.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,o.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,o.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,o.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,o.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,o.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,o.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,o.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}}}]);