(window.webpackJsonp=window.webpackJsonp||[]).push([[72,5],{1799:function(t,e,r){"use strict";r.r(e);var n=r(313),o=r(282),i=r(295),a={name:"component-doc",components:{"render-demo-0":function(){const t=n,{GeoJSON:e}=o,{Style:r,Stroke:a}=i;return{render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[[r("div",{staticStyle:{position:"relative",width:"100%",height:"400px",overflow:"hidden"}},[r("a-button",{attrs:{type:"primary"},on:{click:function(){t.visible=!0}}},[t._v("打开")]),t._v(" "),r("drawer",{attrs:{visible:t.visible,code:t.code},on:{"update:visible":function(e){t.visible=e}}},[r("a-row",[r("a-space",[t._v("要被转换的长度数值："),r("a-input-number",{model:{value:t.origin,callback:function(e){t.origin=e},expression:"origin"}})],1)],1),t._v(" "),r("a-row",[r("a-space",[t._v("单位："),r("length-units",{attrs:{value:t.unit},on:{"update:value":function(e){t.unit=e}}})],1)],1),t._v(" "),r("a-row",[r("a-space",[t._v("转换后的角度："),r("a-input-number",{staticStyle:{width:"100%"},attrs:{value:t.dest,disabled:""}})],1)],1),t._v(" "),r("a-row",[t._v(" "+t._s(t.result))])],1)],1)]],2)},staticRenderFns:[],...{data:()=>({origin:1,unit:"kilometers",result:null,visible:!0}),computed:{code(){return`let result = turf.lengthToDegrees(${this.origin}, '${this.unit}');`},dest(){return t.lengthToDegrees(this.origin,this.unit)}}}}}()}},s=r(11),u=Object(s.a)(a,(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"长度转角度-lengthtodegrees"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#长度转角度-lengthtodegrees"}},[t._v("#")]),t._v(" 长度转角度(lengthToDegrees)")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("> npm install @turf/helpers\n")])])]),e("blockquote",[e("p",[t._v("Convert a distance measurement (assuming a spherical Earth) from a real-world unit into degrees Valid units: miles, nauticalmiles, inches, yards, meters, metres, centimeters, kilometres, feet")]),t._v(" "),e("p",[t._v("接收一个真实单位的距离测量数值(假设是球形地球)，返回其指定单位的数值。单位有 miles(英里), nauticalmiles(海里), inches(英寸), yards(码), meters(米), metres(米), kilometers(千米), centimeters(厘米), feet(英尺)")])]),t._v(" "),e("p",[e("strong",[t._v("参数")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("distance")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("number")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("测量数值")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("units")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("传入值单位。单位有 miles(英里), nauticalmiles(海里), inches(英寸), yards(码), meters(米), metres(米), kilometers(千米), centimeters(厘米), feet(英尺)")])])])]),t._v(" "),e("p",[e("strong",[t._v("返回")])]),t._v(" "),e("p",[t._v("number - degrees")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("turf"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("lengthToDegrees")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6671704.814011974")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'meters'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 60")]),t._v("\n")])])]),e("p",[e("strong",[t._v("基础用法")])]),t._v(" "),e("demo-block",{attrs:{options:JSON.parse(decodeURI("%7B%7D"))}},[e("template",{slot:"demo"},[[e("render-demo-0")]],2),t._v(" "),e("template",{slot:"source"},[e("div",{staticClass:"language-vue extra-class"},[e("pre",{pre:!0,attrs:{class:"language-vue"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token special-attr"}},[e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),e("span",{pre:!0,attrs:{class:"token value css language-css"}},[e("span",{pre:!0,attrs:{class:"token property"}},[t._v("position")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("relative"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("100%"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("400px"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("overflow")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" hidden"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a-button")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("primary"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@click")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("\n        () => {\n          visible = true;\n        }\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("打开"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a-button")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("drawer")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":visible.sync")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("visible"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":code")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("code"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a-row")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a-space")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("要被转换的长度数值："),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a-input-number")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-model")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("origin"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a-input-number")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a-space")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a-row")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a-row")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a-space")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("单位："),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("length-units")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":value.sync")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("unit"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("length-units")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a-space")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a-row")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a-row")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a-space")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("转换后的角度："),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a-input-number")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token special-attr"}},[e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),e("span",{pre:!0,attrs:{class:"token value css language-css"}},[e("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("100%")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])])]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":value")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("dest"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("disabled")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a-input-number")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a-space")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a-row")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a-row")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" {{ result }}"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a-row")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("drawer")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token script"}},[e("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" turf "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@turf/turf"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" GeoJSON "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ol/format"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Style"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Stroke "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ol/style"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("origin")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("unit")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"kilometers"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("result")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("visible")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("computed")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("code")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token template-string"}},[e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("let result = turf.lengthToDegrees(")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("origin"),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v(", '")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("unit"),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("');")]),e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("dest")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" turf"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("lengthToDegrees")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("origin"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("unit"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])])],2)],1)}),[],!1,null,null,null);e.default=u.exports},269:function(t,e,r){"use strict";var n,o=r(249),i=r(267),a=r(264),s=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),u=function(t){function e(){return t.call(this)||this}return s(e,t),e.prototype.getType=function(){return i.a.TEXT},e.prototype.readFeature=function(t,e){return this.readFeatureFromText(p(t),this.adaptOptions(e))},e.prototype.readFeatureFromText=function(t,e){return Object(a.b)()},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromText(p(t),this.adaptOptions(e))},e.prototype.readFeaturesFromText=function(t,e){return Object(a.b)()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromText(p(t),this.adaptOptions(e))},e.prototype.readGeometryFromText=function(t,e){return Object(a.b)()},e.prototype.readProjection=function(t){return this.readProjectionFromText(p(t))},e.prototype.readProjectionFromText=function(t){return this.dataProjection},e.prototype.writeFeature=function(t,e){return this.writeFeatureText(t,this.adaptOptions(e))},e.prototype.writeFeatureText=function(t,e){return Object(a.b)()},e.prototype.writeFeatures=function(t,e){return this.writeFeaturesText(t,this.adaptOptions(e))},e.prototype.writeFeaturesText=function(t,e){return Object(a.b)()},e.prototype.writeGeometry=function(t,e){return this.writeGeometryText(t,this.adaptOptions(e))},e.prototype.writeGeometryText=function(t,e){return Object(a.b)()},e}(o.a);function p(t){return"string"==typeof t?t:""}e.a=u},271:function(t,e,r){"use strict";r.d(e,"b",(function(){return d}));var n,o=r(288),i=r(263),a=r(265),s=r(266),u=r(297),p=r(293),c=r(284),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),f=null,h=function(t){function e(e,r,n,o,i,a){var s=t.call(this)||this;return s.hitDetectionImage_=null,s.image_=e||new Image,null!==o&&(s.image_.crossOrigin=o),s.canvas_={},s.color_=a,s.unlisten_=null,s.imageState_=i,s.size_=n,s.src_=r,s.tainted_,s}return l(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===a.a.LOADED){f||(f=Object(u.a)(1,1)),f.drawImage(this.image_,0,0);try{f.getImageData(0,0,1,1),this.tainted_=!1}catch(t){f=null,this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(i.a.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=a.a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=a.a.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],r=Object(u.a)(t,e);r.fillRect(0,0,t,e),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==a.a.IDLE){this.imageState_=a.a.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Object(c.b)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]&&this.imageState_===a.a.LOADED){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var r=e.getContext("2d");if(r.scale(t,t),r.drawImage(this.image_,0,0),r.globalCompositeOperation="multiply","multiply"===r.globalCompositeOperation||this.isTainted_())r.fillStyle=Object(s.b)(this.color_),r.fillRect(0,0,e.width/t,e.height/t),r.globalCompositeOperation="destination-in",r.drawImage(this.image_,0,0);else{for(var n=r.getImageData(0,0,e.width,e.height),o=n.data,i=this.color_[0]/255,u=this.color_[1]/255,p=this.color_[2]/255,c=this.color_[3],l=0,f=o.length;l<f;l+=4)o[l]*=i,o[l+1]*=u,o[l+2]*=p,o[l+3]*=c;r.putImageData(n,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(o.a);function d(t,e,r,n,o,i){var a=p.a.get(e,n,i);return a||(a=new h(t,e,r,n,o,i),p.a.set(e,n,i,a)),a}e.a=h},272:function(t,e,r){"use strict";var n=r(270),o=r(294),i=r(311),a=function(){function t(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=Object(i.d)(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new n.a({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:o.a.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){var e=this.getScale();return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(t){this.overflow_=t},t.prototype.setFont=function(t){this.font_=t},t.prototype.setMaxAngle=function(t){this.maxAngle_=t},t.prototype.setOffsetX=function(t){this.offsetX_=t},t.prototype.setOffsetY=function(t){this.offsetY_=t},t.prototype.setPlacement=function(t){this.placement_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setFill=function(t){this.fill_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=Object(i.d)(void 0!==t?t:1)},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.setText=function(t){this.text_=t},t.prototype.setTextAlign=function(t){this.textAlign_=t},t.prototype.setTextBaseline=function(t){this.textBaseline_=t},t.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},t.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},t.prototype.setPadding=function(t){this.padding_=t},t}();e.a=a},273:function(t,e,r){"use strict";var n,o=r(263),i=r(274),a=r(275),s=r(265),u=r(290),p=r(266),c=r(254),l=r(271),f=r(264),h=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),d=function(t){function e(e){var r=this,n=e||{},o=void 0!==n.opacity?n.opacity:1,u=void 0!==n.rotation?n.rotation:0,h=void 0!==n.scale?n.scale:1,d=void 0!==n.rotateWithView&&n.rotateWithView;(r=t.call(this,{opacity:o,rotation:u,scale:h,displacement:void 0!==n.displacement?n.displacement:[0,0],rotateWithView:d})||this).anchor_=void 0!==n.anchor?n.anchor:[.5,.5],r.normalizedAnchor_=null,r.anchorOrigin_=void 0!==n.anchorOrigin?n.anchorOrigin:a.a.TOP_LEFT,r.anchorXUnits_=void 0!==n.anchorXUnits?n.anchorXUnits:i.a.FRACTION,r.anchorYUnits_=void 0!==n.anchorYUnits?n.anchorYUnits:i.a.FRACTION,r.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null;var y=void 0!==n.img?n.img:null;r.imgSize_=n.imgSize;var g=n.src;Object(c.a)(!(void 0!==g&&y),4),Object(c.a)(!y||y&&r.imgSize_,5),void 0!==g&&0!==g.length||!y||(g=y.src||Object(f.c)(y)),Object(c.a)(void 0!==g&&g.length>0,6);var v=void 0!==n.src?s.a.IDLE:s.a.LOADED;return r.color_=void 0!==n.color?Object(p.a)(n.color):null,r.iconImage_=Object(l.b)(y,g,void 0!==r.imgSize_?r.imgSize_:null,r.crossOrigin_,v,r.color_),r.offset_=void 0!==n.offset?n.offset:[0,0],r.offsetOrigin_=void 0!==n.offsetOrigin?n.offsetOrigin:a.a.TOP_LEFT,r.origin_=null,r.size_=void 0!==n.size?n.size:null,r}return h(e,t),e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc()})},e.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var e=this.getSize();if(this.anchorXUnits_==i.a.FRACTION||this.anchorYUnits_==i.a.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==i.a.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==i.a.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=a.a.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=a.a.TOP_RIGHT&&this.anchorOrigin_!=a.a.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=a.a.BOTTOM_LEFT&&this.anchorOrigin_!=a.a.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}var r=this.getDisplacement();return[t[0]-r[0],t[1]+r[1]]},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=a.a.TOP_LEFT){var e=this.getSize(),r=this.iconImage_.getSize();if(!e||!r)return null;t=t.slice(),this.offsetOrigin_!=a.a.TOP_RIGHT&&this.offsetOrigin_!=a.a.BOTTOM_RIGHT||(t[0]=r[0]-e[0]-t[0]),this.offsetOrigin_!=a.a.BOTTOM_LEFT&&this.offsetOrigin_!=a.a.BOTTOM_RIGHT||(t[1]=r[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(o.a.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(o.a.CHANGE,t)},e}(u.a);e.a=d},274:function(t,e,r){"use strict";e.a={FRACTION:"fraction",PIXELS:"pixels"}},275:function(t,e,r){"use strict";e.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},278:function(t,e,r){"use strict";var n,o=r(249),i=r(267),a=r(251),s=r(261),u=r(250),p=r(255),c=r(262),l=r(260),f=r(303),h=r.n(f),d=r(259),y=r(256),g=r(320),v=r(302),_=r(316),m=r(254),w=r(248),O=r(277),S=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),b=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.dataProjection=new g.a({code:"",units:_.b.TILE_PIXELS}),r.featureClass_=n.featureClass?n.featureClass:v.a,r.geometryName_=n.geometryName,r.layerName_=n.layerName?n.layerName:"layer",r.layers_=n.layers?n.layers:null,r.idProperty_=n.idProperty,r.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"],r}return S(e,t),e.prototype.readRawGeometry_=function(t,e,r,n){t.pos=e.geometry;for(var o=t.readVarint()+t.pos,i=1,a=0,s=0,u=0,p=0,c=0;t.pos<o;){if(!a){var l=t.readVarint();i=7&l,a=l>>3}a--,1===i||2===i?(s+=t.readSVarint(),u+=t.readSVarint(),1===i&&p>c&&(n.push(p),c=p),r.push(s,u),p+=2):7===i?p>c&&(r.push(r[c],r[c+1]),p+=2):Object(m.a)(!1,59)}p>c&&(n.push(p),c=p)},e.prototype.createFeature_=function(t,e,r){var n,i=e.type;if(0===i)return null;var f,h=e.properties;this.idProperty_?(f=h[this.idProperty_],delete h[this.idProperty_]):f=e.id,h[this.layerName_]=e.layer.name;var g=[],_=[];this.readRawGeometry_(t,e,g,_);var m=function(t,e){var r;1===t?r=1===e?s.a.POINT:s.a.MULTI_POINT:2===t?r=1===e?s.a.LINE_STRING:s.a.MULTI_LINE_STRING:3===t&&(r=s.a.POLYGON);return r}(i,_.length);if(this.featureClass_===v.a)(n=new this.featureClass_(m,g,_,h,f)).transform(r.dataProjection);else{var w=void 0;if(m==s.a.POLYGON){var S=Object(O.a)(g,_);w=S.length>1?new l.a(g,a.a.XY,S):new y.b(g,a.a.XY,_)}else w=m===s.a.POINT?new d.a(g,a.a.XY):m===s.a.LINE_STRING?new u.a(g,a.a.XY):m===s.a.POLYGON?new y.b(g,a.a.XY,_):m===s.a.MULTI_POINT?new c.a(g,a.a.XY):m===s.a.MULTI_LINE_STRING?new p.a(g,a.a.XY,_):null;n=new(0,this.featureClass_),this.geometryName_&&n.setGeometryName(this.geometryName_);var b=Object(o.c)(w,!1,r);n.setGeometry(b),void 0!==f&&n.setId(f),n.setProperties(h,!0)}return n},e.prototype.getType=function(){return i.a.ARRAY_BUFFER},e.prototype.readFeatures=function(t,e){var r=this.layers_,n=this.adaptOptions(e),o=Object(w.l)(n.dataProjection);o.setWorldExtent(n.extent),n.dataProjection=o;var i=new h.a(t),a=i.readFields(E,{}),s=[];for(var u in a)if(!r||-1!=r.indexOf(u)){var p=a[u],c=p?[0,0,p.extent,p.extent]:null;o.setExtent(c);for(var l=0,f=p.length;l<f;++l){var d=N(i,p,l),y=this.createFeature_(i,d,n);null!==y&&s.push(y)}}return s},e.prototype.readProjection=function(t){return this.dataProjection},e.prototype.setLayers=function(t){this.layers_=t},e}(o.a);function E(t,e,r){if(3===t){var n={keys:[],values:[],features:[]},o=r.readVarint()+r.pos;r.readFields(P,n,o),n.length=n.features.length,n.length&&(e[n.name]=n)}}function P(t,e,r){if(15===t)e.version=r.readVarint();else if(1===t)e.name=r.readString();else if(5===t)e.extent=r.readVarint();else if(2===t)e.features.push(r.pos);else if(3===t)e.keys.push(r.readString());else if(4===t){for(var n=null,o=r.readVarint()+r.pos;r.pos<o;)n=1===(t=r.readVarint()>>3)?r.readString():2===t?r.readFloat():3===t?r.readDouble():4===t?r.readVarint64():5===t?r.readVarint():6===t?r.readSVarint():7===t?r.readBoolean():null;e.values.push(n)}}function I(t,e,r){if(1==t)e.id=r.readVarint();else if(2==t)for(var n=r.readVarint()+r.pos;r.pos<n;){var o=e.layer.keys[r.readVarint()],i=e.layer.values[r.readVarint()];e.properties[o]=i}else 3==t?e.type=r.readVarint():4==t&&(e.geometry=r.pos)}function N(t,e,r){t.pos=e.features[r];var n=t.readVarint()+t.pos,o={layer:e,type:0,properties:{}};return t.readFields(I,o,n),o}e.a=b},279:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r(254),o=r(253),i=function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))},a={VERSION1:"version1",VERSION2:"version2",VERSION3:"version3"},s={};s[a.VERSION1]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}},s[a.VERSION2]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByDistortedWh","sizeByWh"],formats:["jpg","png"],qualities:["default","bitonal"]}},s[a.VERSION3]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionSquare","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["default"]}},s.none={none:{supports:[],formats:[],qualities:[]}};var u=/^https?:\/\/library\.stanford\.edu\/iiif\/image-api\/(?:1\.1\/)?compliance\.html#level[0-2]$/,p=/^https?:\/\/iiif\.io\/api\/image\/2\/level[0-2](?:\.json)?$/,c=/(^https?:\/\/iiif\.io\/api\/image\/3\/level[0-2](?:\.json)?$)|(^level[0-2]$)/;var l={};l[a.VERSION1]=function(t){var e=t.getComplianceLevelSupportedFeatures();return void 0===e&&(e=s[a.VERSION1].level0),{url:void 0===t.imageInfo["@id"]?void 0:t.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),supports:e.supports,formats:i(i([],e.formats,!0),[void 0===t.imageInfo.formats?[]:t.imageInfo.formats],!1),qualities:i(i([],e.qualities,!0),[void 0===t.imageInfo.qualities?[]:t.imageInfo.qualities],!1),resolutions:t.imageInfo.scale_factors,tileSize:void 0!==t.imageInfo.tile_width?void 0!==t.imageInfo.tile_height?[t.imageInfo.tile_width,t.imageInfo.tile_height]:[t.imageInfo.tile_width,t.imageInfo.tile_width]:null!=t.imageInfo.tile_height?[t.imageInfo.tile_height,t.imageInfo.tile_height]:void 0}},l[a.VERSION2]=function(t){var e=t.getComplianceLevelSupportedFeatures(),r=Array.isArray(t.imageInfo.profile)&&t.imageInfo.profile.length>1,n=r&&t.imageInfo.profile[1].supports?t.imageInfo.profile[1].supports:[],o=r&&t.imageInfo.profile[1].formats?t.imageInfo.profile[1].formats:[],a=r&&t.imageInfo.profile[1].qualities?t.imageInfo.profile[1].qualities:[];return{url:t.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),sizes:void 0===t.imageInfo.sizes?void 0:t.imageInfo.sizes.map((function(t){return[t.width,t.height]})),tileSize:void 0===t.imageInfo.tiles?void 0:[t.imageInfo.tiles.map((function(t){return t.width}))[0],t.imageInfo.tiles.map((function(t){return void 0===t.height?t.width:t.height}))[0]],resolutions:void 0===t.imageInfo.tiles?void 0:t.imageInfo.tiles.map((function(t){return t.scaleFactors}))[0],supports:i(i([],e.supports,!0),n,!0),formats:i(i([],e.formats,!0),o,!0),qualities:i(i([],e.qualities,!0),a,!0)}},l[a.VERSION3]=function(t){var e=t.getComplianceLevelSupportedFeatures(),r=void 0===t.imageInfo.extraFormats?e.formats:i(i([],e.formats,!0),t.imageInfo.extraFormats,!0),n=void 0!==t.imageInfo.preferredFormats&&Array.isArray(t.imageInfo.preferredFormats)&&t.imageInfo.preferredFormats.length>0?t.imageInfo.preferredFormats.filter((function(t){return Object(o.f)(["jpg","png","gif"],t)})).reduce((function(t,e){return void 0===t&&Object(o.f)(r,e)?e:t}),void 0):void 0;return{url:t.imageInfo.id,sizes:void 0===t.imageInfo.sizes?void 0:t.imageInfo.sizes.map((function(t){return[t.width,t.height]})),tileSize:void 0===t.imageInfo.tiles?void 0:[t.imageInfo.tiles.map((function(t){return t.width}))[0],t.imageInfo.tiles.map((function(t){return t.height}))[0]],resolutions:void 0===t.imageInfo.tiles?void 0:t.imageInfo.tiles.map((function(t){return t.scaleFactors}))[0],supports:void 0===t.imageInfo.extraFeatures?e.supports:i(i([],e.supports,!0),t.imageInfo.extraFeatures,!0),formats:r,qualities:void 0===t.imageInfo.extraQualities?e.qualities:i(i([],e.qualities,!0),t.imageInfo.extraQualities,!0),preferredFormat:n}};var f=function(){function t(t){this.setImageInfo(t)}return t.prototype.setImageInfo=function(t){this.imageInfo="string"==typeof t?JSON.parse(t):t},t.prototype.getImageApiVersion=function(){if(void 0!==this.imageInfo){var t=this.imageInfo["@context"]||"ol-no-context";"string"==typeof t&&(t=[t]);for(var e=0;e<t.length;e++)switch(t[e]){case"http://library.stanford.edu/iiif/image-api/1.1/context.json":case"http://iiif.io/api/image/1/context.json":return a.VERSION1;case"http://iiif.io/api/image/2/context.json":return a.VERSION2;case"http://iiif.io/api/image/3/context.json":return a.VERSION3;case"ol-no-context":if(this.getComplianceLevelEntryFromProfile(a.VERSION1)&&this.imageInfo.identifier)return a.VERSION1}Object(n.a)(!1,61)}},t.prototype.getComplianceLevelEntryFromProfile=function(t){if(void 0!==this.imageInfo&&void 0!==this.imageInfo.profile)switch(void 0===t&&(t=this.getImageApiVersion()),t){case a.VERSION1:if(u.test(this.imageInfo.profile))return this.imageInfo.profile;break;case a.VERSION3:if(c.test(this.imageInfo.profile))return this.imageInfo.profile;break;case a.VERSION2:if("string"==typeof this.imageInfo.profile&&p.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&this.imageInfo.profile.length>0&&"string"==typeof this.imageInfo.profile[0]&&p.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0]}},t.prototype.getComplianceLevelFromProfile=function(t){var e=this.getComplianceLevelEntryFromProfile(t);if(void 0!==e){var r=e.match(/level[0-2](?:\.json)?$/g);return Array.isArray(r)?r[0].replace(".json",""):void 0}},t.prototype.getComplianceLevelSupportedFeatures=function(){if(void 0!==this.imageInfo){var t=this.getImageApiVersion(),e=this.getComplianceLevelFromProfile(t);return void 0===e?s.none.none:s[t][e]}},t.prototype.getTileSourceOptions=function(t){var e=t||{},r=this.getImageApiVersion();if(void 0!==r){var n=void 0===r?void 0:l[r](this);if(void 0!==n)return{url:n.url,version:r,size:[this.imageInfo.width,this.imageInfo.height],sizes:n.sizes,format:void 0!==e.format&&Object(o.f)(n.formats,e.format)?e.format:void 0!==n.preferredFormat?n.preferredFormat:"jpg",supports:n.supports,quality:e.quality&&Object(o.f)(n.qualities,e.quality)?e.quality:Object(o.f)(n.qualities,"native")?"native":"default",resolutions:Array.isArray(n.resolutions)?n.resolutions.sort((function(t,e){return e-t})):void 0,tileSize:n.tileSize}}},t}();e.b=f},280:function(t,e,r){"use strict";var n,o=r(252),i=r(276),a=r(251),s=r(261),u=r(250),p=r(255),c=r(262),l=r(260),f=r(259),h=r(256),d=r(269),y=r(249),g=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),v={POINT:f.a,LINESTRING:u.a,POLYGON:h.b,MULTIPOINT:c.a,MULTILINESTRING:p.a,MULTIPOLYGON:l.a},_=0,m=1,w=2,O=3,S=4,b=5,E=6,P={};for(var I in s.a)P[I]=s.a[I].toUpperCase();var N=function(){function t(t){this.wkt=t,this.index_=-1}return t.prototype.isAlpha_=function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"},t.prototype.isNumeric_=function(t,e){return t>="0"&&t<="9"||"."==t&&!(void 0!==e&&e)},t.prototype.isWhiteSpace_=function(t){return" "==t||"\t"==t||"\r"==t||"\n"==t},t.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)},t.prototype.nextToken=function(){var t,e=this.nextChar_(),r=this.index_,n=e;if("("==e)t=w;else if(","==e)t=b;else if(")"==e)t=O;else if(this.isNumeric_(e)||"-"==e)t=S,n=this.readNumber_();else if(this.isAlpha_(e))t=m,n=this.readText_();else{if(this.isWhiteSpace_(e))return this.nextToken();if(""!==e)throw new Error("Unexpected character: "+e);t=E}return{position:r,value:n,type:t}},t.prototype.readNumber_=function(){var t,e=this.index_,r=!1,n=!1;do{"."==t?r=!0:"e"!=t&&"E"!=t||(n=!0),t=this.nextChar_()}while(this.isNumeric_(t,r)||!n&&("e"==t||"E"==t)||n&&("-"==t||"+"==t));return parseFloat(this.wkt.substring(e,this.index_--))},t.prototype.readText_=function(){var t,e=this.index_;do{t=this.nextChar_()}while(this.isAlpha_(t));return this.wkt.substring(e,this.index_--).toUpperCase()},t}(),T=function(){function t(t){this.lexer_=t,this.token_={position:0,type:_},this.layout_=a.a.XY}return t.prototype.consume_=function(){this.token_=this.lexer_.nextToken()},t.prototype.isTokenType=function(t){return this.token_.type==t},t.prototype.match=function(t){var e=this.isTokenType(t);return e&&this.consume_(),e},t.prototype.parse=function(){return this.consume_(),this.parseGeometry_()},t.prototype.parseGeometryLayout_=function(){var t=a.a.XY,e=this.token_;if(this.isTokenType(m)){var r=e.value;"Z"===r?t=a.a.XYZ:"M"===r?t=a.a.XYM:"ZM"===r&&(t=a.a.XYZM),t!==a.a.XY&&this.consume_()}return t},t.prototype.parseGeometryCollectionText_=function(){if(this.match(w)){var t=[];do{t.push(this.parseGeometry_())}while(this.match(b));if(this.match(O))return t}throw new Error(this.formatErrorMessage_())},t.prototype.parsePointText_=function(){if(this.match(w)){var t=this.parsePoint_();if(this.match(O))return t}throw new Error(this.formatErrorMessage_())},t.prototype.parseLineStringText_=function(){if(this.match(w)){var t=this.parsePointList_();if(this.match(O))return t}throw new Error(this.formatErrorMessage_())},t.prototype.parsePolygonText_=function(){if(this.match(w)){var t=this.parseLineStringTextList_();if(this.match(O))return t}throw new Error(this.formatErrorMessage_())},t.prototype.parseMultiPointText_=function(){if(this.match(w)){var t=void 0;if(t=this.token_.type==w?this.parsePointTextList_():this.parsePointList_(),this.match(O))return t}throw new Error(this.formatErrorMessage_())},t.prototype.parseMultiLineStringText_=function(){if(this.match(w)){var t=this.parseLineStringTextList_();if(this.match(O))return t}throw new Error(this.formatErrorMessage_())},t.prototype.parseMultiPolygonText_=function(){if(this.match(w)){var t=this.parsePolygonTextList_();if(this.match(O))return t}throw new Error(this.formatErrorMessage_())},t.prototype.parsePoint_=function(){for(var t=[],e=this.layout_.length,r=0;r<e;++r){var n=this.token_;if(!this.match(S))break;t.push(n.value)}if(t.length==e)return t;throw new Error(this.formatErrorMessage_())},t.prototype.parsePointList_=function(){for(var t=[this.parsePoint_()];this.match(b);)t.push(this.parsePoint_());return t},t.prototype.parsePointTextList_=function(){for(var t=[this.parsePointText_()];this.match(b);)t.push(this.parsePointText_());return t},t.prototype.parseLineStringTextList_=function(){for(var t=[this.parseLineStringText_()];this.match(b);)t.push(this.parseLineStringText_());return t},t.prototype.parsePolygonTextList_=function(){for(var t=[this.parsePolygonText_()];this.match(b);)t.push(this.parsePolygonText_());return t},t.prototype.isEmptyGeometry_=function(){var t=this.isTokenType(m)&&"EMPTY"==this.token_.value;return t&&this.consume_(),t},t.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"},t.prototype.parseGeometry_=function(){var t=this.token_;if(this.match(m)){var e=t.value;this.layout_=this.parseGeometryLayout_();var r=this.isEmptyGeometry_();if("GEOMETRYCOLLECTION"==e){if(r)return new i.a([]);var n=this.parseGeometryCollectionText_();return new i.a(n)}var o=v[e];if(!o)throw new Error("Invalid geometry type: "+e);var a=void 0;if(r)a="POINT"==e?[NaN,NaN]:[];else switch(e){case"POINT":a=this.parsePointText_();break;case"LINESTRING":a=this.parseLineStringText_();break;case"POLYGON":a=this.parsePolygonText_();break;case"MULTIPOINT":a=this.parseMultiPointText_();break;case"MULTILINESTRING":a=this.parseMultiLineStringText_();break;case"MULTIPOLYGON":a=this.parseMultiPolygonText_()}return new o(a,this.layout_)}throw new Error(this.formatErrorMessage_())},t}(),R=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.splitCollection_=void 0!==n.splitCollection&&n.splitCollection,r}return g(e,t),e.prototype.parse_=function(t){var e=new N(t);return new T(e).parse()},e.prototype.readFeatureFromText=function(t,e){var r=this.readGeometryFromText(t,e),n=new o.a;return n.setGeometry(r),n},e.prototype.readFeaturesFromText=function(t,e){for(var r=[],n=this.readGeometryFromText(t,e),i=[],a=0,u=(r=this.splitCollection_&&n.getType()==s.a.GEOMETRY_COLLECTION?n.getGeometriesArray():[n]).length;a<u;++a){var p=new o.a;p.setGeometry(r[a]),i.push(p)}return i},e.prototype.readGeometryFromText=function(t,e){var r=this.parse_(t);return Object(y.c)(r,!1,e)},e.prototype.writeFeatureText=function(t,e){var r=t.getGeometry();return r?this.writeGeometryText(r,e):""},e.prototype.writeFeaturesText=function(t,e){if(1==t.length)return this.writeFeatureText(t[0],e);for(var r=[],n=0,o=t.length;n<o;++n)r.push(t[n].getGeometry());var a=new i.a(r);return this.writeGeometryText(a,e)},e.prototype.writeGeometryText=function(t,e){return k(Object(y.c)(t,!0,e))},e}(d.a);function L(t){var e=t.getCoordinates();return 0===e.length?"":e.join(" ")}function M(t){for(var e=t.getCoordinates(),r=[],n=0,o=e.length;n<o;++n)r.push(e[n].join(" "));return r.join(",")}function x(t){for(var e=[],r=t.getLinearRings(),n=0,o=r.length;n<o;++n)e.push("("+M(r[n])+")");return e.join(",")}var F={Point:L,LineString:M,Polygon:x,MultiPoint:function(t){for(var e=[],r=t.getPoints(),n=0,o=r.length;n<o;++n)e.push("("+L(r[n])+")");return e.join(",")},MultiLineString:function(t){for(var e=[],r=t.getLineStrings(),n=0,o=r.length;n<o;++n)e.push("("+M(r[n])+")");return e.join(",")},MultiPolygon:function(t){for(var e=[],r=t.getPolygons(),n=0,o=r.length;n<o;++n)e.push("("+x(r[n])+")");return e.join(",")},GeometryCollection:function(t){for(var e=[],r=t.getGeometries(),n=0,o=r.length;n<o;++n)e.push(k(r[n]));return e.join(",")}};function k(t){var e=t.getType(),r=(0,F[e])(t);if(e=e.toUpperCase(),"function"==typeof t.getFlatCoordinates){var n=function(t){var e=t.getLayout(),r="";return e!==a.a.XYZ&&e!==a.a.XYZM||(r+="Z"),e!==a.a.XYM&&e!==a.a.XYZM||(r+="M"),r}(t);n.length>0&&(e+=" "+n)}return 0===r.length?e+" EMPTY":e+"("+r+")"}e.a=R},282:function(t,e,r){"use strict";r.r(e),r.d(e,"EsriJSON",(function(){return R})),r.d(e,"GeoJSON",(function(){return L.a})),r.d(e,"GML",(function(){return xt})),r.d(e,"GPX",(function(){return we})),r.d(e,"IGC",(function(){return Le})),r.d(e,"IIIFInfo",(function(){return Me.b})),r.d(e,"KML",(function(){return Gn})),r.d(e,"MVT",(function(){return Un.a})),r.d(e,"OWS",(function(){return io})),r.d(e,"Polyline",(function(){return lo})),r.d(e,"TopoJSON",(function(){return Oo})),r.d(e,"WFS",(function(){return Wi})),r.d(e,"WKB",(function(){return ua})),r.d(e,"WKT",(function(){return pa.a})),r.d(e,"WMSCapabilities",(function(){return Aa})),r.d(e,"WMSGetFeatureInfo",(function(){return ja})),r.d(e,"WMTSCapabilities",(function(){return es}));var n,o=r(252),i=r(251),a=r(261),s=r(299),u=r(250),p=r(296),c=r(255),l=r(262),f=r(260),h=r(259),d=r(256),y=r(254),g=r(257),v=r(258),_=r(318),m=r(248),w=r(277),O=r(249),S=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),b={};b[a.a.POINT]=function(t){var e;e=void 0!==t.m&&void 0!==t.z?new h.a([t.x,t.y,t.z,t.m],i.a.XYZM):void 0!==t.z?new h.a([t.x,t.y,t.z],i.a.XYZ):void 0!==t.m?new h.a([t.x,t.y,t.m],i.a.XYM):new h.a([t.x,t.y]);return e},b[a.a.LINE_STRING]=function(t){var e=I(t);return new u.a(t.paths[0],e)},b[a.a.POLYGON]=function(t){var e=I(t);return new d.b(t.rings,e)},b[a.a.MULTI_POINT]=function(t){var e=I(t);return new l.a(t.points,e)},b[a.a.MULTI_LINE_STRING]=function(t){var e=I(t);return new c.a(t.paths,e)},b[a.a.MULTI_POLYGON]=function(t){var e=I(t);return new f.a(t.rings,e)};var E={};function P(t,e){var r,n,o;if(!t)return null;if("number"==typeof t.x&&"number"==typeof t.y)o=a.a.POINT;else if(t.points)o=a.a.MULTI_POINT;else if(t.paths){o=1===t.paths.length?a.a.LINE_STRING:a.a.MULTI_LINE_STRING}else if(t.rings){var i=t,s=I(i),u=function(t,e){var r,n,o=[],i=[],a=[];for(r=0,n=t.length;r<n;++r){o.length=0,Object(_.b)(o,0,t[r],e.length),Object(w.b)(o,0,o.length,e.length)?i.push([t[r]]):a.push(t[r])}for(;a.length;){var s=a.shift(),u=!1;for(r=i.length-1;r>=0;r--){var c=i[r][0];if(Object(v.h)(new p.a(c).getExtent(),new p.a(s).getExtent())){i[r].push(s),u=!0;break}}u||i.push([s.reverse()])}return i}(i.rings,s);1===u.length?(o=a.a.POLYGON,t=Object(g.a)({},t,((r={}).rings=u[0],r))):(o=a.a.MULTI_POLYGON,t=Object(g.a)({},t,((n={}).rings=u,n)))}var c=b[o];return Object(O.c)(c(t),!1,e)}function I(t){var e=i.a.XY;return!0===t.hasZ&&!0===t.hasM?e=i.a.XYZM:!0===t.hasZ?e=i.a.XYZ:!0===t.hasM&&(e=i.a.XYM),e}function N(t){var e=t.getLayout();return{hasZ:e===i.a.XYZ||e===i.a.XYZM,hasM:e===i.a.XYM||e===i.a.XYZM}}function T(t,e){return(0,E[t.getType()])(Object(O.c)(t,!0,e),e)}E[a.a.POINT]=function(t,e){var r,n=t.getCoordinates(),o=t.getLayout();o===i.a.XYZ?r={x:n[0],y:n[1],z:n[2]}:o===i.a.XYM?r={x:n[0],y:n[1],m:n[2]}:o===i.a.XYZM?r={x:n[0],y:n[1],z:n[2],m:n[3]}:o===i.a.XY?r={x:n[0],y:n[1]}:Object(y.a)(!1,34);return r},E[a.a.LINE_STRING]=function(t,e){var r=N(t);return{hasZ:r.hasZ,hasM:r.hasM,paths:[t.getCoordinates()]}},E[a.a.POLYGON]=function(t,e){var r=N(t);return{hasZ:r.hasZ,hasM:r.hasM,rings:t.getCoordinates(!1)}},E[a.a.MULTI_POINT]=function(t,e){var r=N(t);return{hasZ:r.hasZ,hasM:r.hasM,points:t.getCoordinates()}},E[a.a.MULTI_LINE_STRING]=function(t,e){var r=N(t);return{hasZ:r.hasZ,hasM:r.hasM,paths:t.getCoordinates()}},E[a.a.MULTI_POLYGON]=function(t,e){for(var r=N(t),n=t.getCoordinates(!1),o=[],i=0;i<n.length;i++)for(var a=n[i].length-1;a>=0;a--)o.push(n[i][a]);return{hasZ:r.hasZ,hasM:r.hasM,rings:o}};var R=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this)||this).geometryName_=n.geometryName,r}return S(e,t),e.prototype.readFeatureFromObject=function(t,e,r){var n=t,i=P(n.geometry,e),a=new o.a;if(this.geometryName_&&a.setGeometryName(this.geometryName_),a.setGeometry(i),n.attributes){a.setProperties(n.attributes,!0);var s=n.attributes[r];void 0!==s&&a.setId(s)}return a},e.prototype.readFeaturesFromObject=function(t,e){var r=e||{};if(t.features){for(var n=[],o=t.features,i=0,a=o.length;i<a;++i)n.push(this.readFeatureFromObject(o[i],r,t.objectIdFieldName));return n}return[this.readFeatureFromObject(t,r)]},e.prototype.readGeometryFromObject=function(t,e){return P(t,e)},e.prototype.readProjectionFromObject=function(t){if(t.spatialReference&&void 0!==t.spatialReference.wkid){var e=t.spatialReference.wkid;return Object(m.l)("EPSG:"+e)}return null},e.prototype.writeGeometryObject=function(t,e){return T(t,this.adaptOptions(e))},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var r={};if(!t.hasProperties())return r.attributes={},r;var n=t.getProperties(),o=t.getGeometry();if(o){r.geometry=T(o,e);var i=e&&(e.dataProjection||e.featureProjection);i&&(r.geometry.spatialReference={wkid:Number(Object(m.l)(i).getCode().split(":").pop())}),delete n[t.getGeometryName()]}return Object(g.d)(n)?r.attributes={}:r.attributes=n,r},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var r=[],n=0,o=t.length;n<o;++n)r.push(this.writeFeatureObject(t[n],e));return{features:r}},e}(s.a),L=r(300),M=r(267),x=r(264),F=r(253),k="http://www.w3.org/2001/XMLSchema-instance";function A(t,e){return rt().createElementNS(t,e)}function C(t,e){return function t(e,r,n){if(e.nodeType==Node.CDATA_SECTION_NODE||e.nodeType==Node.TEXT_NODE)r?n.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(e.nodeValue);else{var o=void 0;for(o=e.firstChild;o;o=o.nextSibling)t(o,r,n)}return n}(t,e,[]).join("")}function j(t){return"documentElement"in t}function G(t){return(new DOMParser).parseFromString(t,"application/xml")}function U(t,e){return function(r,n){var o=t.call(void 0!==e?e:this,r,n);if(void 0!==o){var i=n[n.length-1];Object(F.c)(i,o)}}}function B(t,e){return function(r,n){var o=t.call(void 0!==e?e:this,r,n);void 0!==o&&n[n.length-1].push(o)}}function D(t,e){return function(r,n){var o=t.call(void 0!==e?e:this,r,n);void 0!==o&&(n[n.length-1]=o)}}function Y(t,e,r){return function(n,o){var i=t.call(void 0!==r?r:this,n,o);if(void 0!==i){var a=o[o.length-1],s=void 0!==e?e:n.localName,u=void 0;s in a?u=a[s]:(u=[],a[s]=u),u.push(i)}}}function V(t,e,r){return function(n,o){var i=t.call(void 0!==r?r:this,n,o);void 0!==i&&(o[o.length-1][void 0!==e?e:n.localName]=i)}}function z(t,e){return function(r,n,o){t.call(void 0!==e?e:this,r,n,o),o[o.length-1].node.appendChild(r)}}function Z(t,e){var r,n;return function(e,o,i){if(void 0===r){r={};var a={};a[e.localName]=t,r[e.namespaceURI]=a,n=X(e.localName)}Q(r,n,o,i)}}function X(t,e){var r=t;return function(t,n,o){var i=n[n.length-1].node,a=r;return void 0===a&&(a=o),A(void 0!==e?e:i.namespaceURI,a)}}var W=X();function q(t,e){for(var r=e.length,n=new Array(r),o=0;o<r;++o)n[o]=t[e[o]];return n}function H(t,e,r){var n,o,i=void 0!==r?r:{};for(n=0,o=t.length;n<o;++n)i[t[n]]=e;return i}function $(t,e,r,n){var o;for(o=e.firstElementChild;o;o=o.nextElementSibling){var i=t[o.namespaceURI];if(void 0!==i){var a=i[o.localName];void 0!==a&&a.call(n,o,r)}}}function K(t,e,r,n,o){return n.push(t),$(e,r,n,o),n.pop()}function Q(t,e,r,n,o,i){for(var a,s,u=(void 0!==o?o:r).length,p=0;p<u;++p)void 0!==(a=r[p])&&void 0!==(s=e.call(void 0!==i?i:this,a,n,void 0!==o?o[p]:void 0))&&t[s.namespaceURI][s.localName].call(i,s,a,n)}function J(t,e,r,n,o,i,a){return o.push(t),Q(e,r,n,o,i,a),o.pop()}var tt=void 0;var et=void 0;function rt(){return void 0===et&&"undefined"!=typeof document&&(et=document.implementation.createDocument("","",null)),et}var nt=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ot=function(t){function e(){var e=t.call(this)||this;return e.xmlSerializer_=(void 0===tt&&"undefined"!=typeof XMLSerializer&&(tt=new XMLSerializer),tt),e}return nt(e,t),e.prototype.getType=function(){return M.a.XML},e.prototype.readFeature=function(t,e){if(t){if("string"==typeof t){var r=G(t);return this.readFeatureFromDocument(r,e)}return j(t)?this.readFeatureFromDocument(t,e):this.readFeatureFromNode(t,e)}return null},e.prototype.readFeatureFromDocument=function(t,e){var r=this.readFeaturesFromDocument(t,e);return r.length>0?r[0]:null},e.prototype.readFeatureFromNode=function(t,e){return null},e.prototype.readFeatures=function(t,e){if(t){if("string"==typeof t){var r=G(t);return this.readFeaturesFromDocument(r,e)}return j(t)?this.readFeaturesFromDocument(t,e):this.readFeaturesFromNode(t,e)}return[]},e.prototype.readFeaturesFromDocument=function(t,e){for(var r=[],n=t.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&Object(F.c)(r,this.readFeaturesFromNode(n,e));return r},e.prototype.readFeaturesFromNode=function(t,e){return Object(x.b)()},e.prototype.readGeometry=function(t,e){if(t){if("string"==typeof t){var r=G(t);return this.readGeometryFromDocument(r,e)}return j(t)?this.readGeometryFromDocument(t,e):this.readGeometryFromNode(t,e)}return null},e.prototype.readGeometryFromDocument=function(t,e){return null},e.prototype.readGeometryFromNode=function(t,e){return null},e.prototype.readProjection=function(t){if(t){if("string"==typeof t){var e=G(t);return this.readProjectionFromDocument(e)}return j(t)?this.readProjectionFromDocument(t):this.readProjectionFromNode(t)}return null},e.prototype.readProjectionFromDocument=function(t){return this.dataProjection},e.prototype.readProjectionFromNode=function(t){return this.dataProjection},e.prototype.writeFeature=function(t,e){var r=this.writeFeatureNode(t,e);return this.xmlSerializer_.serializeToString(r)},e.prototype.writeFeatureNode=function(t,e){return null},e.prototype.writeFeatures=function(t,e){var r=this.writeFeaturesNode(t,e);return this.xmlSerializer_.serializeToString(r)},e.prototype.writeFeaturesNode=function(t,e){return null},e.prototype.writeGeometry=function(t,e){var r=this.writeGeometryNode(t,e);return this.xmlSerializer_.serializeToString(r)},e.prototype.writeGeometryNode=function(t,e){return null},e}(O.a),it=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),at="http://www.opengis.net/gml",st=/^[\s\xa0]*$/,ut=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.featureType=n.featureType,r.featureNS=n.featureNS,r.srsName=n.srsName,r.schemaLocation="",r.FEATURE_COLLECTION_PARSERS={},r.FEATURE_COLLECTION_PARSERS[r.namespace]={featureMember:B(r.readFeaturesInternal),featureMembers:D(r.readFeaturesInternal)},r.supportedMediaTypes=["application/gml+xml"],r}return it(e,t),e.prototype.readFeaturesInternal=function(t,e){var r=t.localName,n=null;if("FeatureCollection"==r)n=K([],this.FEATURE_COLLECTION_PARSERS,t,e,this);else if("featureMembers"==r||"featureMember"==r||"member"==r){var o=e[0],i=o.featureType,a=o.featureNS;if(!i&&t.childNodes){i=[],a={};for(var s=0,u=t.childNodes.length;s<u;++s){var p=t.childNodes[s];if(1===p.nodeType){var c=p.nodeName.split(":").pop();if(-1===i.indexOf(c)){var l="",f=0,h=p.namespaceURI;for(var d in a){if(a[d]===h){l=d;break}++f}l||(a[l="p"+f]=h),i.push(l+":"+c)}}}"featureMember"!=r&&(o.featureType=i,o.featureNS=a)}if("string"==typeof a){var y=a;(a={}).p0=y}var g={},v=Array.isArray(i)?i:[i];for(var _ in a){var m={};for(s=0,u=v.length;s<u;++s){(-1===v[s].indexOf(":")?"p0":v[s].split(":")[0])===_&&(m[v[s].split(":").pop()]="featureMembers"==r?B(this.readFeatureElement,this):D(this.readFeatureElement,this))}g[a[_]]=m}n=K("featureMember"==r||"member"==r?void 0:[],g,t,e)}return null===n&&(n=[]),n},e.prototype.readGeometryOrExtent=function(t,e){var r=e[0];return r.srsName=t.firstElementChild.getAttribute("srsName"),r.srsDimension=t.firstElementChild.getAttribute("srsDimension"),K(null,this.GEOMETRY_PARSERS,t,e,this)},e.prototype.readExtentElement=function(t,e){var r=e[0],n=this.readGeometryOrExtent(t,e);return n?Object(O.b)(n,r):void 0},e.prototype.readGeometryElement=function(t,e){var r=e[0],n=this.readGeometryOrExtent(t,e);return n?Object(O.c)(n,!1,r):void 0},e.prototype.readFeatureElementInternal=function(t,e,r){for(var n,i={},a=t.firstElementChild;a;a=a.nextElementSibling){var s=void 0,u=a.localName;0===a.childNodes.length||1===a.childNodes.length&&(3===a.firstChild.nodeType||4===a.firstChild.nodeType)?(s=C(a,!1),st.test(s)&&(s=void 0)):(r&&(s="boundedBy"===u?this.readExtentElement(a,e):this.readGeometryElement(a,e)),s?"boundedBy"!==u&&(n=u):s=this.readFeatureElementInternal(a,e,!1)),i[u]?(i[u]instanceof Array||(i[u]=[i[u]]),i[u].push(s)):i[u]=s;var p=a.attributes.length;if(p>0){i[u]={_content_:i[u]};for(var c=0;c<p;c++){var l=a.attributes[c].name;i[u][l]=a.attributes[c].value}}}if(r){var f=new o.a(i);n&&f.setGeometryName(n);var h=t.getAttribute("fid")||function(t,e,r){return t.getAttributeNS(e,r)||""}(t,this.namespace,"id");return h&&f.setId(h),f}return i},e.prototype.readFeatureElement=function(t,e){return this.readFeatureElementInternal(t,e,!0)},e.prototype.readPoint=function(t,e){var r=this.readFlatCoordinatesFromNode(t,e);if(r)return new h.a(r,i.a.XYZ)},e.prototype.readMultiPoint=function(t,e){var r=K([],this.MULTIPOINT_PARSERS,t,e,this);return r?new l.a(r):void 0},e.prototype.readMultiLineString=function(t,e){var r=K([],this.MULTILINESTRING_PARSERS,t,e,this);if(r)return new c.a(r)},e.prototype.readMultiPolygon=function(t,e){var r=K([],this.MULTIPOLYGON_PARSERS,t,e,this);if(r)return new f.a(r)},e.prototype.pointMemberParser=function(t,e){$(this.POINTMEMBER_PARSERS,t,e,this)},e.prototype.lineStringMemberParser=function(t,e){$(this.LINESTRINGMEMBER_PARSERS,t,e,this)},e.prototype.polygonMemberParser=function(t,e){$(this.POLYGONMEMBER_PARSERS,t,e,this)},e.prototype.readLineString=function(t,e){var r=this.readFlatCoordinatesFromNode(t,e);return r?new u.a(r,i.a.XYZ):void 0},e.prototype.readFlatLinearRing=function(t,e){var r=K(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this);return r||void 0},e.prototype.readLinearRing=function(t,e){var r=this.readFlatCoordinatesFromNode(t,e);if(r)return new p.a(r,i.a.XYZ)},e.prototype.readPolygon=function(t,e){var r=K([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this);if(r&&r[0]){var n,o=r[0],a=[o.length],s=void 0;for(s=1,n=r.length;s<n;++s)Object(F.c)(o,r[s]),a.push(o.length);return new d.b(o,i.a.XYZ,a)}},e.prototype.readFlatCoordinatesFromNode=function(t,e){return K(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},e.prototype.readGeometryFromNode=function(t,e){var r=this.readGeometryElement(t,[this.getReadOptions(t,e||{})]);return r||null},e.prototype.readFeaturesFromNode=function(t,e){var r={featureType:this.featureType,featureNS:this.featureNS};return e&&Object(g.a)(r,this.getReadOptions(t,e)),this.readFeaturesInternal(t,[r])||[]},e.prototype.readProjectionFromNode=function(t){return Object(m.l)(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},e}(ot);ut.prototype.namespace=at,ut.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},ut.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},ut.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},ut.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:B(ut.prototype.pointMemberParser),pointMembers:B(ut.prototype.pointMemberParser)}},ut.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:B(ut.prototype.lineStringMemberParser),lineStringMembers:B(ut.prototype.lineStringMemberParser)}},ut.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:B(ut.prototype.polygonMemberParser),polygonMembers:B(ut.prototype.polygonMemberParser)}},ut.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:B(ut.prototype.readFlatCoordinatesFromNode)}},ut.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:B(ut.prototype.readLineString)}},ut.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:B(ut.prototype.readPolygon)}},ut.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:D(ut.prototype.readFlatLinearRing)}};var pt=ut,ct=r(321);function lt(t){return ft(C(t,!1))}function ft(t){var e=/^\s*(true|1)|(false|0)\s*$/.exec(t);return e?void 0!==e[1]||!1:void 0}function ht(t){var e=C(t,!1),r=Date.parse(e);return isNaN(r)?void 0:r/1e3}function dt(t){return yt(C(t,!1))}function yt(t){var e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);return e?parseFloat(e[1]):void 0}function gt(t){return vt(C(t,!1))}function vt(t){var e=/^\s*(\d+)\s*$/.exec(t);return e?parseInt(e[1],10):void 0}function _t(t){return C(t,!1).trim()}function mt(t,e){St(t,e?"1":"0")}function wt(t,e){var r=e.toPrecision();t.appendChild(rt().createTextNode(r))}function Ot(t,e){var r=e.toString();t.appendChild(rt().createTextNode(r))}function St(t,e){t.appendChild(rt().createTextNode(e))}var bt=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Et={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},Pt=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this,n)||this).FEATURE_COLLECTION_PARSERS[at].featureMember=B(r.readFeaturesInternal),r.schemaLocation=n.schemaLocation?n.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd",r}return bt(e,t),e.prototype.readFlatCoordinates=function(t,e){var r=C(t,!1).replace(/^\s*|\s*$/g,""),n=e[0].srsName,o="enu";if(n){var i=Object(m.l)(n);i&&(o=i.getAxisOrientation())}for(var a=r.trim().split(/\s+/),s=[],u=0,p=a.length;u<p;u++){var c=a[u].split(/,+/),l=parseFloat(c[0]),f=parseFloat(c[1]),h=3===c.length?parseFloat(c[2]):0;"en"===o.substr(0,2)?s.push(l,f,h):s.push(f,l,h)}return s},e.prototype.readBox=function(t,e){var r=K([null],this.BOX_PARSERS_,t,e,this);return Object(v.l)(r[1][0],r[1][1],r[1][3],r[1][4])},e.prototype.innerBoundaryIsParser=function(t,e){var r=K(void 0,this.RING_PARSERS,t,e,this);r&&e[e.length-1].push(r)},e.prototype.outerBoundaryIsParser=function(t,e){var r=K(void 0,this.RING_PARSERS,t,e,this);r&&(e[e.length-1][0]=r)},e.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,r){var n,o=e[e.length-1],i=o.multiSurface,a=o.surface,s=o.multiCurve;return Array.isArray(t)?n="Envelope":"MultiPolygon"===(n=t.getType())&&!0===i?n="MultiSurface":"Polygon"===n&&!0===a?n="Surface":"MultiLineString"===n&&!0===s&&(n="MultiCurve"),A("http://www.opengis.net/gml",n)},e.prototype.writeFeatureElement=function(t,e,r){var n=e.getId();n&&t.setAttribute("fid",n);var o=r[r.length-1],i=o.featureNS,a=e.getGeometryName();o.serializers||(o.serializers={},o.serializers[i]={});var s=[],u=[];if(e.hasProperties()){var p=e.getProperties();for(var c in p){var l=p[c];null!==l&&(s.push(c),u.push(l),c==a||"function"==typeof l.getSimplifiedGeometry?c in o.serializers[i]||(o.serializers[i][c]=z(this.writeGeometryElement,this)):c in o.serializers[i]||(o.serializers[i][c]=z(St)))}}var f=Object(g.a)({},o);f.node=t,J(f,o.serializers,X(void 0,i),u,r,s)},e.prototype.writeCurveOrLineString=function(t,e,r){var n=r[r.length-1].srsName;if("LineStringSegment"!==t.nodeName&&n&&t.setAttribute("srsName",n),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){var o=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(o),this.writeCoordinates_(o,e,r)}else if("Curve"===t.nodeName){var i=A(t.namespaceURI,"segments");t.appendChild(i),this.writeCurveSegments_(i,e,r)}},e.prototype.writeLineStringOrCurveMember=function(t,e,r){var n=this.GEOMETRY_NODE_FACTORY_(e,r);n&&(t.appendChild(n),this.writeCurveOrLineString(n,e,r))},e.prototype.writeMultiCurveOrLineString=function(t,e,r){var n=r[r.length-1],o=n.hasZ,i=n.srsName,a=n.curve;i&&t.setAttribute("srsName",i);var s=e.getLineStrings();J({node:t,hasZ:o,srsName:i,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},e.prototype.writeGeometryElement=function(t,e,r){var n,o=r[r.length-1],i=Object(g.a)({},o);i.node=t,n=Array.isArray(e)?Object(O.b)(e,o):Object(O.c)(e,!0,o),J(i,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[n],r,void 0,this)},e.prototype.createCoordinatesNode_=function(t){var e=A(t,"coordinates");return e.setAttribute("decimal","."),e.setAttribute("cs",","),e.setAttribute("ts"," "),e},e.prototype.writeCoordinates_=function(t,e,r){for(var n=r[r.length-1],o=n.hasZ,i=n.srsName,a=e.getCoordinates(),s=a.length,u=new Array(s),p=0;p<s;++p){var c=a[p];u[p]=this.getCoords_(c,i,o)}St(t,u.join(" "))},e.prototype.writeCurveSegments_=function(t,e,r){var n=A(t.namespaceURI,"LineStringSegment");t.appendChild(n),this.writeCurveOrLineString(n,e,r)},e.prototype.writeSurfaceOrPolygon=function(t,e,r){var n=r[r.length-1],o=n.hasZ,i=n.srsName;if("PolygonPatch"!==t.nodeName&&i&&t.setAttribute("srsName",i),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){var a=e.getLinearRings();J({node:t,hasZ:o,srsName:i},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,a,r,void 0,this)}else if("Surface"===t.nodeName){var s=A(t.namespaceURI,"patches");t.appendChild(s),this.writeSurfacePatches_(s,e,r)}},e.prototype.RING_NODE_FACTORY_=function(t,e,r){var n=e[e.length-1],o=n.node,i=n.exteriorWritten;return void 0===i&&(n.exteriorWritten=!0),A(o.namespaceURI,void 0!==i?"innerBoundaryIs":"outerBoundaryIs")},e.prototype.writeSurfacePatches_=function(t,e,r){var n=A(t.namespaceURI,"PolygonPatch");t.appendChild(n),this.writeSurfaceOrPolygon(n,e,r)},e.prototype.writeRing=function(t,e,r){var n=A(t.namespaceURI,"LinearRing");t.appendChild(n),this.writeLinearRing(n,e,r)},e.prototype.getCoords_=function(t,e,r){var n="enu";e&&(n=Object(m.l)(e).getAxisOrientation());var o="en"===n.substr(0,2)?t[0]+","+t[1]:t[1]+","+t[0];r&&(o+=","+(t[2]||0));return o},e.prototype.writePoint=function(t,e,r){var n=r[r.length-1],o=n.hasZ,i=n.srsName;i&&t.setAttribute("srsName",i);var a=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(a);var s=e.getCoordinates();St(a,this.getCoords_(s,i,o))},e.prototype.writeMultiPoint=function(t,e,r){var n=r[r.length-1],o=n.hasZ,i=n.srsName;i&&t.setAttribute("srsName",i);var a=e.getPoints();J({node:t,hasZ:o,srsName:i},this.POINTMEMBER_SERIALIZERS,X("pointMember"),a,r,void 0,this)},e.prototype.writePointMember=function(t,e,r){var n=A(t.namespaceURI,"Point");t.appendChild(n),this.writePoint(n,e,r)},e.prototype.writeLinearRing=function(t,e,r){var n=r[r.length-1].srsName;n&&t.setAttribute("srsName",n);var o=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(o),this.writeCoordinates_(o,e,r)},e.prototype.writeMultiSurfaceOrPolygon=function(t,e,r){var n=r[r.length-1],o=n.hasZ,i=n.srsName,a=n.surface;i&&t.setAttribute("srsName",i);var s=e.getPolygons();J({node:t,hasZ:o,srsName:i,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},e.prototype.writeSurfaceOrPolygonMember=function(t,e,r){var n=this.GEOMETRY_NODE_FACTORY_(e,r);n&&(t.appendChild(n),this.writeSurfaceOrPolygon(n,e,r))},e.prototype.writeEnvelope=function(t,e,r){var n=r[r.length-1].srsName;n&&t.setAttribute("srsName",n);var o=[e[0]+" "+e[1],e[2]+" "+e[3]];J({node:t},this.ENVELOPE_SERIALIZERS,W,o,r,["lowerCorner","upperCorner"],this)},e.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,r){var n=e[e.length-1].node;return A("http://www.opengis.net/gml",Et[n.nodeName])},e}(pt);Pt.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:D(Pt.prototype.readFlatCoordinates)}},Pt.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:Pt.prototype.innerBoundaryIsParser,outerBoundaryIs:Pt.prototype.outerBoundaryIsParser}},Pt.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:B(Pt.prototype.readFlatCoordinates)}},Pt.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:D(pt.prototype.readPoint),MultiPoint:D(pt.prototype.readMultiPoint),LineString:D(pt.prototype.readLineString),MultiLineString:D(pt.prototype.readMultiLineString),LinearRing:D(pt.prototype.readLinearRing),Polygon:D(pt.prototype.readPolygon),MultiPolygon:D(pt.prototype.readMultiPolygon),Box:D(Pt.prototype.readBox)}},Pt.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:z(Pt.prototype.writeCurveOrLineString),MultiCurve:z(Pt.prototype.writeMultiCurveOrLineString),Point:z(Pt.prototype.writePoint),MultiPoint:z(Pt.prototype.writeMultiPoint),LineString:z(Pt.prototype.writeCurveOrLineString),MultiLineString:z(Pt.prototype.writeMultiCurveOrLineString),LinearRing:z(Pt.prototype.writeLinearRing),Polygon:z(Pt.prototype.writeSurfaceOrPolygon),MultiPolygon:z(Pt.prototype.writeMultiSurfaceOrPolygon),Surface:z(Pt.prototype.writeSurfaceOrPolygon),MultiSurface:z(Pt.prototype.writeMultiSurfaceOrPolygon),Envelope:z(Pt.prototype.writeEnvelope)}},Pt.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:z(Pt.prototype.writeLineStringOrCurveMember),curveMember:z(Pt.prototype.writeLineStringOrCurveMember)}},Pt.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:z(Pt.prototype.writeRing),innerBoundaryIs:z(Pt.prototype.writeRing)}},Pt.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:z(Pt.prototype.writePointMember)}},Pt.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:z(Pt.prototype.writeSurfaceOrPolygonMember),polygonMember:z(Pt.prototype.writeSurfaceOrPolygonMember)}},Pt.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:z(St),upperCorner:z(St)}};var It=Pt,Nt=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tt={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},Rt=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this,n)||this).surface_=void 0!==n.surface&&n.surface,r.curve_=void 0!==n.curve&&n.curve,r.multiCurve_=void 0===n.multiCurve||n.multiCurve,r.multiSurface_=void 0===n.multiSurface||n.multiSurface,r.schemaLocation=n.schemaLocation?n.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",r.hasZ=void 0!==n.hasZ&&n.hasZ,r}return Nt(e,t),e.prototype.readMultiCurve=function(t,e){var r=K([],this.MULTICURVE_PARSERS,t,e,this);return r?new c.a(r):void 0},e.prototype.readMultiSurface=function(t,e){var r=K([],this.MULTISURFACE_PARSERS,t,e,this);if(r)return new f.a(r)},e.prototype.curveMemberParser=function(t,e){$(this.CURVEMEMBER_PARSERS,t,e,this)},e.prototype.surfaceMemberParser=function(t,e){$(this.SURFACEMEMBER_PARSERS,t,e,this)},e.prototype.readPatch=function(t,e){return K([null],this.PATCHES_PARSERS,t,e,this)},e.prototype.readSegment=function(t,e){return K([null],this.SEGMENTS_PARSERS,t,e,this)},e.prototype.readPolygonPatch=function(t,e){return K([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this)},e.prototype.readLineStringSegment=function(t,e){return K([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},e.prototype.interiorParser=function(t,e){var r=K(void 0,this.RING_PARSERS,t,e,this);r&&e[e.length-1].push(r)},e.prototype.exteriorParser=function(t,e){var r=K(void 0,this.RING_PARSERS,t,e,this);r&&(e[e.length-1][0]=r)},e.prototype.readSurface=function(t,e){var r=K([null],this.SURFACE_PARSERS,t,e,this);if(r&&r[0]){var n,o=r[0],a=[o.length],s=void 0;for(s=1,n=r.length;s<n;++s)Object(F.c)(o,r[s]),a.push(o.length);return new d.b(o,i.a.XYZ,a)}},e.prototype.readCurve=function(t,e){var r=K([null],this.CURVE_PARSERS,t,e,this);return r?new u.a(r,i.a.XYZ):void 0},e.prototype.readEnvelope=function(t,e){var r=K([null],this.ENVELOPE_PARSERS,t,e,this);return Object(v.l)(r[1][0],r[1][1],r[2][0],r[2][1])},e.prototype.readFlatPos=function(t,e){for(var r,n=C(t,!1),o=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,i=[];r=o.exec(n);)i.push(parseFloat(r[1])),n=n.substr(r[0].length);if(""===n){var a=e[0].srsName,s="enu";if(a)s=Object(m.l)(a).getAxisOrientation();if("neu"===s){var u,p=void 0;for(p=0,u=i.length;p<u;p+=3){var c=i[p],l=i[p+1];i[p]=l,i[p+1]=c}}var f=i.length;if(2==f&&i.push(0),0!==f)return i}},e.prototype.readFlatPosList=function(t,e){var r=C(t,!1).replace(/^\s*|\s*$/g,""),n=e[0],o=n.srsName,i=n.srsDimension,a="enu";o&&(a=Object(m.l)(o).getAxisOrientation());var s,u,p,c=r.split(/\s+/),l=2;t.getAttribute("srsDimension")?l=vt(t.getAttribute("srsDimension")):t.getAttribute("dimension")?l=vt(t.getAttribute("dimension")):t.parentNode.getAttribute("srsDimension")?l=vt(t.parentNode.getAttribute("srsDimension")):i&&(l=vt(i));for(var f=[],h=0,d=c.length;h<d;h+=l)s=parseFloat(c[h]),u=parseFloat(c[h+1]),p=3===l?parseFloat(c[h+2]):0,"en"===a.substr(0,2)?f.push(s,u,p):f.push(u,s,p);return f},e.prototype.writePos_=function(t,e,r){var n=r[r.length-1],o=n.hasZ,i=o?"3":"2";t.setAttribute("srsDimension",i);var a=n.srsName,s="enu";a&&(s=Object(m.l)(a).getAxisOrientation());var u,p=e.getCoordinates();(u="en"===s.substr(0,2)?p[0]+" "+p[1]:p[1]+" "+p[0],o)&&(u+=" "+(p[2]||0));St(t,u)},e.prototype.getCoords_=function(t,e,r){var n="enu";e&&(n=Object(m.l)(e).getAxisOrientation());var o="en"===n.substr(0,2)?t[0]+" "+t[1]:t[1]+" "+t[0];r&&(o+=" "+(t[2]||0));return o},e.prototype.writePosList_=function(t,e,r){var n=r[r.length-1],o=n.hasZ,i=o?"3":"2";t.setAttribute("srsDimension",i);for(var a,s=n.srsName,u=e.getCoordinates(),p=u.length,c=new Array(p),l=0;l<p;++l)a=u[l],c[l]=this.getCoords_(a,s,o);St(t,c.join(" "))},e.prototype.writePoint=function(t,e,r){var n=r[r.length-1].srsName;n&&t.setAttribute("srsName",n);var o=A(t.namespaceURI,"pos");t.appendChild(o),this.writePos_(o,e,r)},e.prototype.writeEnvelope=function(t,e,r){var n=r[r.length-1].srsName;n&&t.setAttribute("srsName",n);var o=[e[0]+" "+e[1],e[2]+" "+e[3]];J({node:t},this.ENVELOPE_SERIALIZERS,W,o,r,["lowerCorner","upperCorner"],this)},e.prototype.writeLinearRing=function(t,e,r){var n=r[r.length-1].srsName;n&&t.setAttribute("srsName",n);var o=A(t.namespaceURI,"posList");t.appendChild(o),this.writePosList_(o,e,r)},e.prototype.RING_NODE_FACTORY_=function(t,e,r){var n=e[e.length-1],o=n.node,i=n.exteriorWritten;return void 0===i&&(n.exteriorWritten=!0),A(o.namespaceURI,void 0!==i?"interior":"exterior")},e.prototype.writeSurfaceOrPolygon=function(t,e,r){var n=r[r.length-1],o=n.hasZ,i=n.srsName;if("PolygonPatch"!==t.nodeName&&i&&t.setAttribute("srsName",i),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){var a=e.getLinearRings();J({node:t,hasZ:o,srsName:i},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,a,r,void 0,this)}else if("Surface"===t.nodeName){var s=A(t.namespaceURI,"patches");t.appendChild(s),this.writeSurfacePatches_(s,e,r)}},e.prototype.writeCurveOrLineString=function(t,e,r){var n=r[r.length-1].srsName;if("LineStringSegment"!==t.nodeName&&n&&t.setAttribute("srsName",n),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){var o=A(t.namespaceURI,"posList");t.appendChild(o),this.writePosList_(o,e,r)}else if("Curve"===t.nodeName){var i=A(t.namespaceURI,"segments");t.appendChild(i),this.writeCurveSegments_(i,e,r)}},e.prototype.writeMultiSurfaceOrPolygon=function(t,e,r){var n=r[r.length-1],o=n.hasZ,i=n.srsName,a=n.surface;i&&t.setAttribute("srsName",i);var s=e.getPolygons();J({node:t,hasZ:o,srsName:i,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},e.prototype.writeMultiPoint=function(t,e,r){var n=r[r.length-1],o=n.srsName,i=n.hasZ;o&&t.setAttribute("srsName",o);var a=e.getPoints();J({node:t,hasZ:i,srsName:o},this.POINTMEMBER_SERIALIZERS,X("pointMember"),a,r,void 0,this)},e.prototype.writeMultiCurveOrLineString=function(t,e,r){var n=r[r.length-1],o=n.hasZ,i=n.srsName,a=n.curve;i&&t.setAttribute("srsName",i);var s=e.getLineStrings();J({node:t,hasZ:o,srsName:i,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},e.prototype.writeRing=function(t,e,r){var n=A(t.namespaceURI,"LinearRing");t.appendChild(n),this.writeLinearRing(n,e,r)},e.prototype.writeSurfaceOrPolygonMember=function(t,e,r){var n=this.GEOMETRY_NODE_FACTORY_(e,r);n&&(t.appendChild(n),this.writeSurfaceOrPolygon(n,e,r))},e.prototype.writePointMember=function(t,e,r){var n=A(t.namespaceURI,"Point");t.appendChild(n),this.writePoint(n,e,r)},e.prototype.writeLineStringOrCurveMember=function(t,e,r){var n=this.GEOMETRY_NODE_FACTORY_(e,r);n&&(t.appendChild(n),this.writeCurveOrLineString(n,e,r))},e.prototype.writeSurfacePatches_=function(t,e,r){var n=A(t.namespaceURI,"PolygonPatch");t.appendChild(n),this.writeSurfaceOrPolygon(n,e,r)},e.prototype.writeCurveSegments_=function(t,e,r){var n=A(t.namespaceURI,"LineStringSegment");t.appendChild(n),this.writeCurveOrLineString(n,e,r)},e.prototype.writeGeometryElement=function(t,e,r){var n,o=r[r.length-1],i=Object(g.a)({},o);i.node=t,n=Array.isArray(e)?Object(O.b)(e,o):Object(O.c)(e,!0,o),J(i,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[n],r,void 0,this)},e.prototype.writeFeatureElement=function(t,e,r){var n=e.getId();n&&t.setAttribute("fid",n);var o=r[r.length-1],i=o.featureNS,a=e.getGeometryName();o.serializers||(o.serializers={},o.serializers[i]={});var s=[],u=[];if(e.hasProperties()){var p=e.getProperties();for(var c in p){var l=p[c];null!==l&&(s.push(c),u.push(l),c==a||"function"==typeof l.getSimplifiedGeometry?c in o.serializers[i]||(o.serializers[i][c]=z(this.writeGeometryElement,this)):c in o.serializers[i]||(o.serializers[i][c]=z(St)))}}var f=Object(g.a)({},o);f.node=t,J(f,o.serializers,X(void 0,i),u,r,s)},e.prototype.writeFeatureMembers_=function(t,e,r){var n=r[r.length-1],o=n.featureType,i=n.featureNS,a={};a[i]={},a[i][o]=z(this.writeFeatureElement,this);var s=Object(g.a)({},n);s.node=t,J(s,a,X(o,i),e,r)},e.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,r){var n=e[e.length-1].node;return A(this.namespace,Tt[n.nodeName])},e.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,r){var n,o=e[e.length-1],i=o.multiSurface,a=o.surface,s=o.curve,u=o.multiCurve;return Array.isArray(t)?n="Envelope":"MultiPolygon"===(n=t.getType())&&!0===i?n="MultiSurface":"Polygon"===n&&!0===a?n="Surface":"LineString"===n&&!0===s?n="Curve":"MultiLineString"===n&&!0===u&&(n="MultiCurve"),A(this.namespace,n)},e.prototype.writeGeometryNode=function(t,e){e=this.adaptOptions(e);var r=A(this.namespace,"geom"),n={node:r,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return e&&Object(g.a)(n,e),this.writeGeometryElement(r,t,[n]),r},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var r=A(this.namespace,"featureMembers");r.setAttributeNS(k,"xsi:schemaLocation",this.schemaLocation);var n={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return e&&Object(g.a)(n,e),this.writeFeatureMembers_(r,t,[n]),r},e}(pt);Rt.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:D(Rt.prototype.readFlatPos),posList:D(Rt.prototype.readFlatPosList),coordinates:D(It.prototype.readFlatCoordinates)}},Rt.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:Rt.prototype.interiorParser,exterior:Rt.prototype.exteriorParser}},Rt.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:D(pt.prototype.readPoint),MultiPoint:D(pt.prototype.readMultiPoint),LineString:D(pt.prototype.readLineString),MultiLineString:D(pt.prototype.readMultiLineString),LinearRing:D(pt.prototype.readLinearRing),Polygon:D(pt.prototype.readPolygon),MultiPolygon:D(pt.prototype.readMultiPolygon),Surface:D(Rt.prototype.readSurface),MultiSurface:D(Rt.prototype.readMultiSurface),Curve:D(Rt.prototype.readCurve),MultiCurve:D(Rt.prototype.readMultiCurve),Envelope:D(Rt.prototype.readEnvelope)}},Rt.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:B(Rt.prototype.curveMemberParser),curveMembers:B(Rt.prototype.curveMemberParser)}},Rt.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:B(Rt.prototype.surfaceMemberParser),surfaceMembers:B(Rt.prototype.surfaceMemberParser)}},Rt.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:B(pt.prototype.readLineString),Curve:B(Rt.prototype.readCurve)}},Rt.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:B(pt.prototype.readPolygon),Surface:B(Rt.prototype.readSurface)}},Rt.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:D(Rt.prototype.readPatch)}},Rt.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:D(Rt.prototype.readSegment)}},Rt.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:B(Rt.prototype.readFlatPosList),upperCorner:B(Rt.prototype.readFlatPosList)}},Rt.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:D(Rt.prototype.readPolygonPatch)}},Rt.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:D(Rt.prototype.readLineStringSegment)}},Rt.prototype.writeFeatures,Rt.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:z(Rt.prototype.writeRing),interior:z(Rt.prototype.writeRing)}},Rt.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:z(St),upperCorner:z(St)}},Rt.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:z(Rt.prototype.writeSurfaceOrPolygonMember),polygonMember:z(Rt.prototype.writeSurfaceOrPolygonMember)}},Rt.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:z(Rt.prototype.writePointMember)}},Rt.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:z(Rt.prototype.writeLineStringOrCurveMember),curveMember:z(Rt.prototype.writeLineStringOrCurveMember)}},Rt.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:z(Rt.prototype.writeCurveOrLineString),MultiCurve:z(Rt.prototype.writeMultiCurveOrLineString),Point:z(Rt.prototype.writePoint),MultiPoint:z(Rt.prototype.writeMultiPoint),LineString:z(Rt.prototype.writeCurveOrLineString),MultiLineString:z(Rt.prototype.writeMultiCurveOrLineString),LinearRing:z(Rt.prototype.writeLinearRing),Polygon:z(Rt.prototype.writeSurfaceOrPolygon),MultiPolygon:z(Rt.prototype.writeMultiSurfaceOrPolygon),Surface:z(Rt.prototype.writeSurfaceOrPolygon),MultiSurface:z(Rt.prototype.writeMultiSurfaceOrPolygon),Envelope:z(Rt.prototype.writeEnvelope)}};var Lt=Rt,Mt=Lt;Mt.prototype.writeFeatures,Mt.prototype.writeFeaturesNode;var xt=Mt,Ft=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),kt=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],At={rte:pe,trk:ce,wpt:le},Ct=H(kt,{rte:B(pe),trk:B(ce),wpt:B(le)}),jt=H(kt,{text:V(_t,"linkText"),type:V(_t,"linkType")}),Gt=H(kt,{rte:z((function(t,e,r){var n=r[0],o=e.getProperties(),i={node:t};i.properties=o;var s=e.getGeometry();if(s.getType()==a.a.LINE_STRING){var u=Object(O.c)(s,!0,n);i.geometryLayout=u.getLayout(),o.rtept=u.getCoordinates()}var p=r[r.length-1].node,c=qt[p.namespaceURI],l=q(o,c);J(i,Ht,W,l,r,c)})),trk:z((function(t,e,r){var n=r[0],o=e.getProperties(),i={node:t};i.properties=o;var s=e.getGeometry();if(s.getType()==a.a.MULTI_LINE_STRING){var u=Object(O.c)(s,!0,n);o.trkseg=u.getLineStrings()}var p=r[r.length-1].node,c=Kt[p.namespaceURI],l=q(o,c);J(i,Qt,W,l,r,c)})),wpt:z((function(t,e,r){var n=r[0],o=r[r.length-1];o.properties=e.getProperties();var i=e.getGeometry();if(i.getType()==a.a.POINT){var s=Object(O.c)(i,!0,n);o.geometryLayout=s.getLayout(),he(t,s.getCoordinates(),r)}}))}),Ut=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.dataProjection=Object(m.l)("EPSG:4326"),r.readExtensions_=n.readExtensions,r}return Ft(e,t),e.prototype.handleReadExtensions_=function(t){t||(t=[]);for(var e=0,r=t.length;e<r;++e){var n=t[e];if(this.readExtensions_){var o=n.get("extensionsNode_")||null;this.readExtensions_(n,o)}n.set("extensionsNode_",void 0)}},e.prototype.readFeatureFromNode=function(t,e){if(!Object(F.f)(kt,t.namespaceURI))return null;var r=At[t.localName];if(!r)return null;var n=r(t,[this.getReadOptions(t,e)]);return n?(this.handleReadExtensions_([n]),n):null},e.prototype.readFeaturesFromNode=function(t,e){if(!Object(F.f)(kt,t.namespaceURI))return[];if("gpx"==t.localName){var r=K([],Ct,t,[this.getReadOptions(t,e)]);return r?(this.handleReadExtensions_(r),r):[]}return[]},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var r=A("http://www.topografix.com/GPX/1/1","gpx");return r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi",k),r.setAttributeNS(k,"xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),r.setAttribute("version","1.1"),r.setAttribute("creator","OpenLayers"),J({node:r},Gt,oe,t,[e]),r},e}(ot),Bt=H(kt,{name:V(_t),cmt:V(_t),desc:V(_t),src:V(_t),link:se,number:V(gt),extensions:ue,type:V(_t),rtept:function(t,e){var r=K({},Dt,t,e);if(r){var n=e[e.length-1],o=n.flatCoordinates,i=n.layoutOptions;ie(o,i,t,r)}}}),Dt=H(kt,{ele:V(dt),time:V(ht)}),Yt=H(kt,{name:V(_t),cmt:V(_t),desc:V(_t),src:V(_t),link:se,number:V(gt),type:V(_t),extensions:ue,trkseg:function(t,e){var r=e[e.length-1];$(Vt,t,e);var n=r.flatCoordinates;r.ends.push(n.length)}}),Vt=H(kt,{trkpt:function(t,e){var r=K({},zt,t,e);if(r){var n=e[e.length-1],o=n.flatCoordinates,i=n.layoutOptions;ie(o,i,t,r)}}}),zt=H(kt,{ele:V(dt),time:V(ht)}),Zt=H(kt,{ele:V(dt),time:V(ht),magvar:V(dt),geoidheight:V(dt),name:V(_t),cmt:V(_t),desc:V(_t),src:V(_t),link:se,sym:V(_t),type:V(_t),fix:V(_t),sat:V(gt),hdop:V(dt),vdop:V(dt),pdop:V(dt),ageofdgpsdata:V(dt),dgpsid:V(gt),extensions:ue}),Xt=["text","type"],Wt=H(kt,{text:z(St),type:z(St)}),qt=H(kt,["name","cmt","desc","src","link","number","type","rtept"]),Ht=H(kt,{name:z(St),cmt:z(St),desc:z(St),src:z(St),link:z(fe),number:z(Ot),type:z(St),rtept:Z(z(he))}),$t=H(kt,["ele","time"]),Kt=H(kt,["name","cmt","desc","src","link","number","type","trkseg"]),Qt=H(kt,{name:z(St),cmt:z(St),desc:z(St),src:z(St),link:z(fe),number:z(Ot),type:z(St),trkseg:Z(z((function(t,e,r){var n={node:t};n.geometryLayout=e.getLayout(),n.properties={},J(n,te,Jt,e.getCoordinates(),r)})))}),Jt=X("trkpt"),te=H(kt,{trkpt:z(he)}),ee=H(kt,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),re=H(kt,{ele:z(wt),time:z((function(t,e){var r=new Date(1e3*e),n=r.getUTCFullYear()+"-"+Object(ct.b)(r.getUTCMonth()+1,2)+"-"+Object(ct.b)(r.getUTCDate(),2)+"T"+Object(ct.b)(r.getUTCHours(),2)+":"+Object(ct.b)(r.getUTCMinutes(),2)+":"+Object(ct.b)(r.getUTCSeconds(),2)+"Z";t.appendChild(rt().createTextNode(n))})),magvar:z(wt),geoidheight:z(wt),name:z(St),cmt:z(St),desc:z(St),src:z(St),link:z(fe),sym:z(St),type:z(St),fix:z(St),sat:z(Ot),hdop:z(wt),vdop:z(wt),pdop:z(wt),ageofdgpsdata:z(wt),dgpsid:z(Ot)}),ne={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function oe(t,e,r){var n=t.getGeometry();if(n){var o=ne[n.getType()];if(o)return A(e[e.length-1].node.namespaceURI,o)}}function ie(t,e,r,n){return t.push(parseFloat(r.getAttribute("lon")),parseFloat(r.getAttribute("lat"))),"ele"in n?(t.push(n.ele),delete n.ele,e.hasZ=!0):t.push(0),"time"in n?(t.push(n.time),delete n.time,e.hasM=!0):t.push(0),t}function ae(t,e,r){var n=i.a.XY,o=2;if(t.hasZ&&t.hasM?(n=i.a.XYZM,o=4):t.hasZ?(n=i.a.XYZ,o=3):t.hasM&&(n=i.a.XYM,o=3),4!==o){for(var a=0,s=e.length/4;a<s;a++)e[a*o]=e[4*a],e[a*o+1]=e[4*a+1],t.hasZ&&(e[a*o+2]=e[4*a+2]),t.hasM&&(e[a*o+2]=e[4*a+3]);if(e.length=e.length/4*o,r)for(a=0,s=r.length;a<s;a++)r[a]=r[a]/4*o}return n}function se(t,e){var r=e[e.length-1],n=t.getAttribute("href");null!==n&&(r.link=n),$(jt,t,e)}function ue(t,e){e[e.length-1].extensionsNode_=t}function pe(t,e){var r=e[0],n=K({flatCoordinates:[],layoutOptions:{}},Bt,t,e);if(n){var i=n.flatCoordinates;delete n.flatCoordinates;var a=n.layoutOptions;delete n.layoutOptions;var s=ae(a,i),p=new u.a(i,s);Object(O.c)(p,!1,r);var c=new o.a(p);return c.setProperties(n,!0),c}}function ce(t,e){var r=e[0],n=K({flatCoordinates:[],ends:[],layoutOptions:{}},Yt,t,e);if(n){var i=n.flatCoordinates;delete n.flatCoordinates;var a=n.ends;delete n.ends;var s=n.layoutOptions;delete n.layoutOptions;var u=ae(s,i,a),p=new c.a(i,u,a);Object(O.c)(p,!1,r);var l=new o.a(p);return l.setProperties(n,!0),l}}function le(t,e){var r=e[0],n=K({},Zt,t,e);if(n){var i={},a=ie([],i,t,n),s=ae(i,a),u=new h.a(a,s);Object(O.c)(u,!1,r);var p=new o.a(u);return p.setProperties(n,!0),p}}function fe(t,e,r){t.setAttribute("href",e);var n=r[r.length-1].properties,o=[n.linkText,n.linkType];J({node:t},Wt,W,o,r,Xt)}function he(t,e,r){var n=r[r.length-1],o=n.node.namespaceURI,a=n.properties;switch(t.setAttributeNS(null,"lat",String(e[1])),t.setAttributeNS(null,"lon",String(e[0])),n.geometryLayout){case i.a.XYZM:0!==e[3]&&(a.time=e[3]);case i.a.XYZ:0!==e[2]&&(a.ele=e[2]);break;case i.a.XYM:0!==e[2]&&(a.time=e[2])}var s="rtept"==t.nodeName?$t[o]:ee[o],u=q(a,s);J({node:t,properties:a},re,W,u,r,s)}var de,ye,ge,ve,_e,me,we=Ut,Oe=r(269),Se=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),be="barometric",Ee="gps",Pe="none",Ie=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,Ne=/^H.([A-Z]{3}).*?:(.*)/,Te=/^HFDTE(\d{2})(\d{2})(\d{2})/,Re=/\r\n|\r|\n/,Le=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.dataProjection=Object(m.l)("EPSG:4326"),r.altitudeMode_=n.altitudeMode?n.altitudeMode:Pe,r}return Se(e,t),e.prototype.readFeatureFromText=function(t,e){var r,n,a=this.altitudeMode_,s=t.split(Re),p={},c=[],l=2e3,f=0,h=1,d=-1;for(r=0,n=s.length;r<n;++r){var y=s[r],g=void 0;if("B"==y.charAt(0)){if(g=Ie.exec(y)){var v=parseInt(g[1],10),_=parseInt(g[2],10),m=parseInt(g[3],10),w=parseInt(g[4],10)+parseInt(g[5],10)/6e4;"S"==g[6]&&(w=-w);var S=parseInt(g[7],10)+parseInt(g[8],10)/6e4;if("W"==g[9]&&(S=-S),c.push(S,w),a!=Pe){var b=void 0;b=a==Ee?parseInt(g[11],10):a==be?parseInt(g[12],10):0,c.push(b)}var E=Date.UTC(l,f,h,v,_,m);E<d&&(E=Date.UTC(l,f,h+1,v,_,m)),c.push(E/1e3),d=E}}else"H"==y.charAt(0)&&((g=Te.exec(y))?(h=parseInt(g[1],10),f=parseInt(g[2],10)-1,l=2e3+parseInt(g[3],10)):(g=Ne.exec(y))&&(p[g[1]]=g[2].trim()))}if(0===c.length)return null;var P=a==Pe?i.a.XYM:i.a.XYZM,I=new u.a(c,P),N=new o.a(Object(O.c)(I,!1,e));return N.setProperties(p,!0),N},e.prototype.readFeaturesFromText=function(t,e){var r=this.readFeatureFromText(t,e);return r?[r]:[]},e}(Oe.a),Me=r(279),xe=r(270),Fe=r(276),ke=r(273),Ae=r(274),Ce=r(275),je=r(265),Ge=r(291),Ue=r(285),Be=r(272),De=r(266),Ye=r(292),Ve=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ze=["http://www.google.com/kml/ext/2.2"],Ze=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],Xe={fraction:Ae.a.FRACTION,pixels:Ae.a.PIXELS,insetPixels:Ae.a.PIXELS},We=H(Ze,{ExtendedData:Vr,Region:zr,MultiGeometry:V(kr,"geometry"),LineString:V(Mr,"geometry"),LinearRing:V(xr,"geometry"),Point:V(Ar,"geometry"),Polygon:V(jr,"geometry"),Style:V(Ur),StyleMap:function(t,e){var r=vr.call(this,t,e);if(!r)return;var n=e[e.length-1];Array.isArray(r)?n.Style=r:"string"==typeof r?n.styleUrl=r:Object(y.a)(!1,38)},address:V(_t),description:V(_t),name:V(_t),open:V(lt),phoneNumber:V(_t),styleUrl:V(dr),visibility:V(lt)},H(ze,{MultiTrack:V((function(t,e){var r=K([],Er,t,e);if(!r)return;return new c.a(r)}),"geometry"),Track:V(Ir,"geometry")})),qe=H(Ze,{ExtendedData:Vr,Region:zr,Link:function(t,e){$(He,t,e)},address:V(_t),description:V(_t),name:V(_t),open:V(lt),phoneNumber:V(_t),visibility:V(lt)}),He=H(Ze,{href:V(hr)}),$e=H(Ze,{LatLonAltBox:function(t,e){var r=K({},Wr,t,e);if(!r)return;var n=e[e.length-1],o=[parseFloat(r.west),parseFloat(r.south),parseFloat(r.east),parseFloat(r.north)];n.extent=o,n.altitudeMode=r.altitudeMode,n.minAltitude=parseFloat(r.minAltitude),n.maxAltitude=parseFloat(r.maxAltitude)},Lod:function(t,e){var r=K({},qr,t,e);if(!r)return;var n=e[e.length-1];n.minLodPixels=parseFloat(r.minLodPixels),n.maxLodPixels=parseFloat(r.maxLodPixels),n.minFadeExtent=parseFloat(r.minFadeExtent),n.maxFadeExtent=parseFloat(r.maxFadeExtent)}}),Ke=H(Ze,["Document","Placemark"]),Qe=H(Ze,{Document:z((function(t,e,r){J({node:t},Jr,tn,e,r,void 0,this)})),Placemark:z(Pn)}),Je=null;var tr,er=null;var rr,nr=null;var or=null;var ir=null;var ar,sr=null;function ur(t){return 32/Math.min(t[0],t[1])}function pr(t){return t}var cr=function(t){function e(e){var r=t.call(this)||this,n=e||{};return sr||(de=[255,255,255,1],Je=new xe.a({color:de}),ye=[20,2],ge=Ae.a.PIXELS,ve=Ae.a.PIXELS,_e=[64,64],me="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",er=new ke.a({anchor:ye,anchorOrigin:Ce.a.BOTTOM_LEFT,anchorXUnits:ge,anchorYUnits:ve,crossOrigin:"anonymous",rotation:0,scale:ur(_e),size:_e,src:me}),tr="NO_IMAGE",nr=new Ge.a({color:de,width:1}),rr=new Ge.a({color:[51,51,51,1],width:2}),or=new Be.a({font:"bold 16px Helvetica",fill:Je,stroke:rr,scale:.8}),ir=new Ue.c({fill:Je,image:er,text:or,stroke:nr,zIndex:0}),sr=[ir]),r.dataProjection=Object(m.l)("EPSG:4326"),r.defaultStyle_=n.defaultStyle?n.defaultStyle:sr,r.extractStyles_=void 0===n.extractStyles||n.extractStyles,r.writeStyles_=void 0===n.writeStyles||n.writeStyles,r.sharedStyles_={},r.showPointNames_=void 0===n.showPointNames||n.showPointNames,r.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:"anonymous",r.iconUrlFunction_=n.iconUrlFunction?n.iconUrlFunction:pr,r.supportedMediaTypes=["application/vnd.google-earth.kml+xml"],r}return Ve(e,t),e.prototype.readDocumentOrFolder_=function(t,e){var r=K([],H(Ze,{Document:U(this.readDocumentOrFolder_,this),Folder:U(this.readDocumentOrFolder_,this),Placemark:B(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),t,e,this);return r||void 0},e.prototype.readPlacemark_=function(t,e){var r=K({geometry:null},We,t,e,this);if(r){var n=new o.a,i=t.getAttribute("id");null!==i&&n.setId(i);var s=e[0],u=r.geometry;if(u&&Object(O.c)(u,!1,s),n.setGeometry(u),delete r.geometry,this.extractStyles_){var p=function(t,e,r,n,o){return function(i,s){var u=o,p="",c=[];if(u){var l=i.getGeometry();if(l)if(l instanceof Fe.a)u=(c=l.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===a.a.POINT||e===a.a.MULTI_POINT}))).length>0;else{var f=l.getType();u=f===a.a.POINT||f===a.a.MULTI_POINT}}u&&(p=i.get("name"),(u=u&&!!p)&&p.search(/&[^&]+;/)>-1&&(ar||(ar=document.createElement("textarea")),ar.innerHTML=p,p=ar.value));var h=r;if(t?h=t:e&&(h=function t(e,r,n){return Array.isArray(e)?e:"string"==typeof e?t(n[e],r,n):r}(e,r,n)),u){var d=function(t,e){var r=[0,0],n="start",o=t.getImage();if(o){var i=o.getSize();if(i&&2==i.length){var a=o.getScaleArray(),s=o.getAnchor();r[0]=a[0]*(i[0]-s[0]),r[1]=a[1]*(i[1]/2-s[1]),n="left"}}var u=t.getText();u?((u=u.clone()).setFont(u.getFont()||or.getFont()),u.setScale(u.getScale()||or.getScale()),u.setFill(u.getFill()||or.getFill()),u.setStroke(u.getStroke()||rr)):u=or.clone();return u.setText(e),u.setOffsetX(r[0]),u.setOffsetY(r[1]),u.setTextAlign(n),new Ue.c({image:o,text:u})}(h[0],p);return c.length>0?(d.setGeometry(new Fe.a(c)),[d,new Ue.c({geometry:h[0].getGeometry(),image:null,fill:h[0].getFill(),stroke:h[0].getStroke(),text:null})].concat(h.slice(1))):d}return h}}(r.Style,r.styleUrl,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);n.setStyle(p)}return delete r.Style,n.setProperties(r,!0),n}},e.prototype.readSharedStyle_=function(t,e){var r=t.getAttribute("id");if(null!==r){var n=Ur.call(this,t,e);if(n){var o=void 0,i=t.baseURI;if(i&&"about:blank"!=i||(i=window.location.href),i)o=new URL("#"+r,i).href;else o="#"+r;this.sharedStyles_[o]=n}}},e.prototype.readSharedStyleMap_=function(t,e){var r=t.getAttribute("id");if(null!==r){var n=vr.call(this,t,e);if(n){var o,i=t.baseURI;if(i&&"about:blank"!=i||(i=window.location.href),i)o=new URL("#"+r,i).href;else o="#"+r;this.sharedStyles_[o]=n}}},e.prototype.readFeatureFromNode=function(t,e){if(!Object(F.f)(Ze,t.namespaceURI))return null;var r=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return r||null},e.prototype.readFeaturesFromNode=function(t,e){if(!Object(F.f)(Ze,t.namespaceURI))return[];var r,n=t.localName;if("Document"==n||"Folder"==n)return(r=this.readDocumentOrFolder_(t,[this.getReadOptions(t,e)]))||[];if("Placemark"==n){var o=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return o?[o]:[]}if("kml"==n){r=[];for(var i=t.firstElementChild;i;i=i.nextElementSibling){var a=this.readFeaturesFromNode(i,e);a&&Object(F.c)(r,a)}return r}return[]},e.prototype.readName=function(t){if(t){if("string"==typeof t){var e=G(t);return this.readNameFromDocument(e)}return j(t)?this.readNameFromDocument(t):this.readNameFromNode(t)}},e.prototype.readNameFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE){var r=this.readNameFromNode(e);if(r)return r}},e.prototype.readNameFromNode=function(t){for(var e=t.firstElementChild;e;e=e.nextElementSibling)if(Object(F.f)(Ze,e.namespaceURI)&&"name"==e.localName)return _t(e);for(e=t.firstElementChild;e;e=e.nextElementSibling){var r=e.localName;if(Object(F.f)(Ze,e.namespaceURI)&&("Document"==r||"Folder"==r||"Placemark"==r||"kml"==r)){var n=this.readNameFromNode(e);if(n)return n}}},e.prototype.readNetworkLinks=function(t){var e=[];if("string"==typeof t){var r=G(t);Object(F.c)(e,this.readNetworkLinksFromDocument(r))}else j(t)?Object(F.c)(e,this.readNetworkLinksFromDocument(t)):Object(F.c)(e,this.readNetworkLinksFromNode(t));return e},e.prototype.readNetworkLinksFromDocument=function(t){for(var e=[],r=t.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&Object(F.c)(e,this.readNetworkLinksFromNode(r));return e},e.prototype.readNetworkLinksFromNode=function(t){for(var e=[],r=t.firstElementChild;r;r=r.nextElementSibling)if(Object(F.f)(Ze,r.namespaceURI)&&"NetworkLink"==r.localName){var n=K({},qe,r,[]);e.push(n)}for(r=t.firstElementChild;r;r=r.nextElementSibling){var o=r.localName;!Object(F.f)(Ze,r.namespaceURI)||"Document"!=o&&"Folder"!=o&&"kml"!=o||Object(F.c)(e,this.readNetworkLinksFromNode(r))}return e},e.prototype.readRegion=function(t){var e=[];if("string"==typeof t){var r=G(t);Object(F.c)(e,this.readRegionFromDocument(r))}else j(t)?Object(F.c)(e,this.readRegionFromDocument(t)):Object(F.c)(e,this.readRegionFromNode(t));return e},e.prototype.readRegionFromDocument=function(t){for(var e=[],r=t.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&Object(F.c)(e,this.readRegionFromNode(r));return e},e.prototype.readRegionFromNode=function(t){for(var e=[],r=t.firstElementChild;r;r=r.nextElementSibling)if(Object(F.f)(Ze,r.namespaceURI)&&"Region"==r.localName){var n=K({},$e,r,[]);e.push(n)}for(r=t.firstElementChild;r;r=r.nextElementSibling){var o=r.localName;!Object(F.f)(Ze,r.namespaceURI)||"Document"!=o&&"Folder"!=o&&"kml"!=o||Object(F.c)(e,this.readRegionFromNode(r))}return e},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var r=A(Ze[4],"kml"),n="http://www.w3.org/2000/xmlns/";r.setAttributeNS(n,"xmlns:gx",ze[0]),r.setAttributeNS(n,"xmlns:xsi",k),r.setAttributeNS(k,"xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var o={node:r},i={};t.length>1?i.Document=t:1==t.length&&(i.Placemark=t[0]);var a=Ke[r.namespaceURI],s=q(i,a);return J(o,Qe,W,s,[e],a,this),r},e}(ot);function lr(t){var e=C(t,!1),r=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(e);if(r){var n=r[1];return[parseInt(n.substr(6,2),16),parseInt(n.substr(4,2),16),parseInt(n.substr(2,2),16),parseInt(n.substr(0,2),16)/255]}}function fr(t){var e=C(t,!1),r=[];e=e.replace(/\s*,\s*/g,",");for(var n,o=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i;n=o.exec(e);){var i=parseFloat(n[1]),a=parseFloat(n[2]),s=n[3]?parseFloat(n[3]):0;r.push(i,a,s),e=e.substr(n[0].length)}if(""===e)return r}function hr(t){var e=C(t,!1).trim(),r=t.baseURI;return r&&"about:blank"!=r||(r=window.location.href),r?new URL(e,r).href:e}function dr(t){var e=C(t,!1).trim().replace(/^(?!.*#)/,"#"),r=t.baseURI;return r&&"about:blank"!=r||(r=window.location.href),r?new URL(e,r).href:e}function yr(t){return dt(t)}var gr=H(Ze,{Pair:function(t,e){var r=K({},Zr,t,e,this);if(!r)return;var n=r.key;if(n&&"normal"==n){var o=r.styleUrl;o&&(e[e.length-1]=o);var i=r.Style;i&&(e[e.length-1]=i)}}});function vr(t,e){return K(void 0,gr,t,e,this)}var _r=H(Ze,{Icon:V((function(t,e){var r=K({},Nr,t,e);return r||null})),color:V(lr),heading:V(dt),hotSpot:V((function(t){var e,r=t.getAttribute("xunits"),n=t.getAttribute("yunits");return e="insetPixels"!==r?"insetPixels"!==n?Ce.a.BOTTOM_LEFT:Ce.a.TOP_LEFT:"insetPixels"!==n?Ce.a.BOTTOM_RIGHT:Ce.a.TOP_RIGHT,{x:parseFloat(t.getAttribute("x")),xunits:Xe[r],y:parseFloat(t.getAttribute("y")),yunits:Xe[n],origin:e}})),scale:V(yr)});var mr=H(Ze,{color:V(lr),scale:V(yr)});var wr=H(Ze,{color:V(lr),width:V(dt)});var Or=H(Ze,{color:V(lr),fill:V(lt),outline:V(lt)});var Sr=H(Ze,{coordinates:D(fr)});function br(t,e){return K(null,Sr,t,e)}var Er=H(ze,{Track:B(Ir)});var Pr=H(Ze,{when:function(t,e){var r=e[e.length-1].whens,n=C(t,!1),o=Date.parse(n);r.push(isNaN(o)?0:o)}},H(ze,{coord:function(t,e){var r=e[e.length-1].coordinates,n=C(t,!1),o=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(n);if(o){var i=parseFloat(o[1]),a=parseFloat(o[2]),s=parseFloat(o[3]);r.push([i,a,s])}else r.push([])}}));function Ir(t,e){var r=K({coordinates:[],whens:[]},Pr,t,e);if(r){for(var n=[],o=r.coordinates,a=r.whens,s=0,p=Math.min(o.length,a.length);s<p;++s)3==o[s].length&&n.push(o[s][0],o[s][1],o[s][2],a[s]);return new u.a(n,i.a.XYZM)}}var Nr=H(Ze,{href:V(hr)},H(ze,{x:V(dt),y:V(dt),w:V(dt),h:V(dt)}));var Tr=H(Ze,{coordinates:D(fr)});function Rr(t,e){return K(null,Tr,t,e)}var Lr=H(Ze,{extrude:V(lt),tessellate:V(lt),altitudeMode:V(_t)});function Mr(t,e){var r=K({},Lr,t,e),n=Rr(t,e);if(n){var o=new u.a(n,i.a.XYZ);return o.setProperties(r,!0),o}}function xr(t,e){var r=K({},Lr,t,e),n=Rr(t,e);if(n){var o=new d.b(n,i.a.XYZ,[n.length]);return o.setProperties(r,!0),o}}var Fr=H(Ze,{LineString:B(Mr),LinearRing:B(xr),MultiGeometry:B(kr),Point:B(Ar),Polygon:B(jr)});function kr(t,e){var r,n=K([],Fr,t,e);if(!n)return null;if(0===n.length)return new Fe.a(n);for(var o,i=!0,s=n[0].getType(),u=1,p=n.length;u<p;++u)if((o=n[u]).getType()!=s){i=!1;break}if(i){var h=void 0,d=void 0;if(s==a.a.POINT){var g=n[0];h=g.getLayout(),d=g.getFlatCoordinates();for(u=1,p=n.length;u<p;++u)o=n[u],Object(F.c)(d,o.getFlatCoordinates());Br(r=new l.a(d,h),n)}else s==a.a.LINE_STRING?Br(r=new c.a(n),n):s==a.a.POLYGON?Br(r=new f.a(n),n):s==a.a.GEOMETRY_COLLECTION?r=new Fe.a(n):Object(y.a)(!1,37)}else r=new Fe.a(n);return r}function Ar(t,e){var r=K({},Lr,t,e),n=Rr(t,e);if(n){var o=new h.a(n,i.a.XYZ);return o.setProperties(r,!0),o}}var Cr=H(Ze,{innerBoundaryIs:function(t,e){var r=K([],Hr,t,e);if(r.length>0){var n=e[e.length-1];n.push.apply(n,r)}},outerBoundaryIs:function(t,e){var r=K(void 0,$r,t,e);if(r){e[e.length-1][0]=r}}});function jr(t,e){var r=K({},Lr,t,e),n=K([null],Cr,t,e);if(n&&n[0]){for(var o=n[0],a=[o.length],s=1,u=n.length;s<u;++s)Object(F.c)(o,n[s]),a.push(o.length);var p=new d.b(o,i.a.XYZ,a);return p.setProperties(r,!0),p}}var Gr=H(Ze,{IconStyle:function(t,e){var r=K({},_r,t,e);if(r){var n,o,i,a,s=e[e.length-1],u="Icon"in r?r.Icon:{},p=!("Icon"in r)||Object.keys(u).length>0,c=u.href;c?n=c:p&&(n=me);var l,f=Ce.a.BOTTOM_LEFT,h=r.hotSpot;h?(o=[h.x,h.y],i=h.xunits,a=h.yunits,f=h.origin):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(n)&&(/pushpin/.test(n)?(o=ye,i=ge,a=ve):/arrow-reverse/.test(n)?(o=[54,42],i=ge,a=ve):/paddle/.test(n)&&(o=[32,1],i=ge,a=ve));var d,y=u.x,g=u.y;void 0!==y&&void 0!==g&&(l=[y,g]);var v,_=u.w,m=u.h;void 0!==_&&void 0!==m&&(d=[_,m]);var w=r.heading;void 0!==w&&(v=Object(Ye.m)(w));var O=r.scale,S=r.color;if(p){n==me&&(d=_e);var b=new ke.a({anchor:o,anchorOrigin:f,anchorXUnits:i,anchorYUnits:a,crossOrigin:this.crossOrigin_,offset:l,offsetOrigin:Ce.a.BOTTOM_LEFT,rotation:v,scale:O,size:d,src:this.iconUrlFunction_(n),color:S}),E=b.getScaleArray()[0],P=b.getSize();if(null===P){var I=b.getImageState();if(I===je.a.IDLE||I===je.a.LOADING){var N=function(){var t=b.getImageState();if(t!==je.a.IDLE&&t!==je.a.LOADING){var e=b.getSize();if(e&&2==e.length){var r=ur(e);b.setScale(E*r)}b.unlistenImageChange(N)}};b.listenImageChange(N),I===je.a.IDLE&&b.load()}}else if(2==P.length){var T=ur(P);b.setScale(E*T)}s.imageStyle=b}else s.imageStyle=tr}},LabelStyle:function(t,e){var r=K({},mr,t,e);if(r){var n=e[e.length-1],o=new Be.a({fill:new xe.a({color:"color"in r?r.color:de}),scale:r.scale});n.textStyle=o}},LineStyle:function(t,e){var r=K({},wr,t,e);if(r){var n=e[e.length-1],o=new Ge.a({color:"color"in r?r.color:de,width:"width"in r?r.width:1});n.strokeStyle=o}},PolyStyle:function(t,e){var r=K({},Or,t,e);if(r){var n=e[e.length-1],o=new xe.a({color:"color"in r?r.color:de});n.fillStyle=o;var i=r.fill;void 0!==i&&(n.fill=i);var a=r.outline;void 0!==a&&(n.outline=a)}}});function Ur(t,e){var r=K({},Gr,t,e,this);if(!r)return null;var n,o="fillStyle"in r?r.fillStyle:Je,i=r.fill;void 0===i||i||(o=null),"imageStyle"in r?r.imageStyle!=tr&&(n=r.imageStyle):n=er;var s="textStyle"in r?r.textStyle:or,u="strokeStyle"in r?r.strokeStyle:nr,p=r.outline;return void 0===p||p?[new Ue.c({fill:o,image:n,stroke:u,text:s,zIndex:void 0})]:[new Ue.c({geometry:function(t){var e=t.getGeometry(),r=e.getType();if(r===a.a.GEOMETRY_COLLECTION){var n=e;return new Fe.a(n.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e!==a.a.POLYGON&&e!==a.a.MULTI_POLYGON})))}if(r!==a.a.POLYGON&&r!==a.a.MULTI_POLYGON)return e},fill:o,image:n,stroke:u,text:s,zIndex:void 0}),new Ue.c({geometry:function(t){var e=t.getGeometry(),r=e.getType();if(r===a.a.GEOMETRY_COLLECTION){var n=e;return new Fe.a(n.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===a.a.POLYGON||e===a.a.MULTI_POLYGON})))}if(r===a.a.POLYGON||r===a.a.MULTI_POLYGON)return e},fill:o,stroke:null,zIndex:void 0})]}function Br(t,e){var r,n,o,i=e.length,a=new Array(e.length),s=new Array(e.length),u=new Array(e.length);r=!1,n=!1,o=!1;for(var p=0;p<i;++p){var c=e[p];a[p]=c.get("extrude"),s[p]=c.get("tessellate"),u[p]=c.get("altitudeMode"),r=r||void 0!==a[p],n=n||void 0!==s[p],o=o||u[p]}r&&t.set("extrude",a),n&&t.set("tessellate",s),o&&t.set("altitudeMode",u)}var Dr=H(Ze,{displayName:V(_t),value:V(_t)});var Yr=H(Ze,{Data:function(t,e){var r=t.getAttribute("name");$(Dr,t,e);var n=e[e.length-1];r&&n.displayName?n[r]={value:n.value,displayName:n.displayName,toString:function(){return n.value}}:null!==r?n[r]=n.value:null!==n.displayName&&(n[n.displayName]=n.value),delete n.value},SchemaData:function(t,e){$(Xr,t,e)}});function Vr(t,e){$(Yr,t,e)}function zr(t,e){$($e,t,e)}var Zr=H(Ze,{Style:V(Ur),key:V(_t),styleUrl:V(dr)});var Xr=H(Ze,{SimpleData:function(t,e){var r=t.getAttribute("name");if(null!==r){var n=_t(t);e[e.length-1][r]=n}}});var Wr=H(Ze,{altitudeMode:V(_t),minAltitude:V(dt),maxAltitude:V(dt),north:V(dt),south:V(dt),east:V(dt),west:V(dt)});var qr=H(Ze,{minLodPixels:V(dt),maxLodPixels:V(dt),minFadeExtent:V(dt),maxFadeExtent:V(dt)});var Hr=H(Ze,{LinearRing:B(br)});var $r=H(Ze,{LinearRing:D(br)});function Kr(t,e){for(var r=Object(De.a)(e),n=[255*(4==r.length?r[3]:1),r[2],r[1],r[0]],o=0;o<4;++o){var i=Math.floor(n[o]).toString(16);n[o]=1==i.length?"0"+i:i}St(t,n.join(""))}var Qr=H(Ze,{Data:z((function(t,e,r){t.setAttribute("name",e.name);var n={node:t},o=e.value;"object"==typeof o?(null!==o&&o.displayName&&J(n,Qr,W,[o.displayName],r,["displayName"]),null!==o&&o.value&&J(n,Qr,W,[o.value],r,["value"])):J(n,Qr,W,[o],r,["value"])})),value:z((function(t,e){St(t,e)})),displayName:z((function(t,e){!function(t,e){t.appendChild(rt().createCDATASection(e))}(t,e)}))});var Jr=H(Ze,{Placemark:z(Pn)}),tn=function(t,e,r){return A(e[e.length-1].node.namespaceURI,"Placemark")};var en=X("Data");var rn=H(Ze,["href"],H(ze,["x","y","w","h"])),nn=H(Ze,{href:z(St)},H(ze,{x:z(wt),y:z(wt),w:z(wt),h:z(wt)})),on=function(t,e,r){return A(ze[0],"gx:"+r)};var an=H(Ze,["scale","heading","Icon","color","hotSpot"]),sn=H(Ze,{Icon:z((function(t,e,r){var n={node:t},o=r[r.length-1].node,i=rn[o.namespaceURI],a=q(e,i);J(n,nn,W,a,r,i),a=q(e,i=rn[ze[0]]),J(n,nn,on,a,r,i)})),color:z(Kr),heading:z(wt),hotSpot:z((function(t,e){t.setAttribute("x",String(e.x)),t.setAttribute("y",String(e.y)),t.setAttribute("xunits",e.xunits),t.setAttribute("yunits",e.yunits)})),scale:z(An)});var un=H(Ze,["color","scale"]),pn=H(Ze,{color:z(Kr),scale:z(An)});var cn=H(Ze,["color","width"]),ln=H(Ze,{color:z(Kr),width:z(wt)});var fn={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},hn=function(t,e,r){if(t)return A(e[e.length-1].node.namespaceURI,fn[t.getType()])},dn=X("Point"),yn=X("LineString"),gn=X("LinearRing"),vn=X("Polygon"),_n=H(Ze,{LineString:z(Tn),Point:z(Tn),Polygon:z(Fn),GeometryCollection:z(mn)});function mn(t,e,r){var n,o={node:t},i=e.getType(),s=[];i===a.a.GEOMETRY_COLLECTION?(e.getGeometriesArrayRecursive().forEach((function(t){var e=t.getType();e===a.a.MULTI_POINT?s=s.concat(t.getPoints()):e===a.a.MULTI_LINE_STRING?s=s.concat(t.getLineStrings()):e===a.a.MULTI_POLYGON?s=s.concat(t.getPolygons()):e===a.a.POINT||e===a.a.LINE_STRING||e===a.a.POLYGON?s.push(t):Object(y.a)(!1,39)})),n=hn):i===a.a.MULTI_POINT?(s=e.getPoints(),n=dn):i===a.a.MULTI_LINE_STRING?(s=e.getLineStrings(),n=yn):i===a.a.MULTI_POLYGON?(s=e.getPolygons(),n=vn):Object(y.a)(!1,39),J(o,_n,n,s,r)}var wn=H(Ze,{LinearRing:z(Tn)});function On(t,e,r){J({node:t},wn,gn,[e],r)}var Sn=H(Ze,{ExtendedData:z((function(t,e,r){for(var n={node:t},o=e.names,i=e.values,a=o.length,s=0;s<a;s++)J(n,Qr,en,[{name:o[s],value:i[s]}],r)})),MultiGeometry:z(mn),LineString:z(Tn),LinearRing:z(Tn),Point:z(Tn),Polygon:z(Fn),Style:z((function(t,e,r){var n={node:t},o={};if(e.pointStyles.length){var i=e.pointStyles[0].getText();i&&(o.LabelStyle=i);var a=e.pointStyles[0].getImage();a&&"function"==typeof a.getSrc&&(o.IconStyle=a)}if(e.lineStyles.length){(s=e.lineStyles[0].getStroke())&&(o.LineStyle=s)}if(e.polyStyles.length){var s;(s=e.polyStyles[0].getStroke())&&!o.LineStyle&&(o.LineStyle=s),o.PolyStyle=e.polyStyles[0]}var u=r[r.length-1].node,p=Cn[u.namespaceURI],c=q(o,p);J(n,jn,W,c,r,p)})),address:z(St),description:z(St),name:z(St),open:z(mt),phoneNumber:z(St),styleUrl:z(St),visibility:z(mt)}),bn=H(Ze,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),En=X("ExtendedData");function Pn(t,e,r){var n={node:t};e.getId()&&t.setAttribute("id",e.getId());var o=e.getProperties(),i={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};i[e.getGeometryName()]=1;var s=Object.keys(o||{}).sort().filter((function(t){return!i[t]})),u=e.getStyleFunction();if(u){var p=u(e,0);if(p){var c=Array.isArray(p)?p:[p],l=c;if(e.getGeometry()&&(l=c.filter((function(t){var r=t.getGeometryFunction()(e);if(r){var n=r.getType();return n===a.a.GEOMETRY_COLLECTION?r.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===a.a.POINT||e===a.a.MULTI_POINT})).length:n===a.a.POINT||n===a.a.MULTI_POINT}}))),this.writeStyles_){var f=c,h=c;e.getGeometry()&&(f=c.filter((function(t){var r=t.getGeometryFunction()(e);if(r){var n=r.getType();return n===a.a.GEOMETRY_COLLECTION?r.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===a.a.LINE_STRING||e===a.a.MULTI_LINE_STRING})).length:n===a.a.LINE_STRING||n===a.a.MULTI_LINE_STRING}})),h=c.filter((function(t){var r=t.getGeometryFunction()(e);if(r){var n=r.getType();return n===a.a.GEOMETRY_COLLECTION?r.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===a.a.POLYGON||e===a.a.MULTI_POLYGON})).length:n===a.a.POLYGON||n===a.a.MULTI_POLYGON}}))),o.Style={pointStyles:l,lineStyles:f,polyStyles:h}}if(l.length&&void 0===o.name){var d=l[0].getText();d&&(o.name=d.getText())}}}var y=r[r.length-1].node,g=bn[y.namespaceURI],v=q(o,g);if(J(n,Sn,W,v,r,g),s.length>0){var _=q(o,s);J(n,Sn,En,[{names:s,values:_}],r)}var m=r[0],w=e.getGeometry();w&&(w=Object(O.c)(w,!0,m)),J(n,Sn,hn,[w],r)}var In=H(Ze,["extrude","tessellate","altitudeMode","coordinates"]),Nn=H(Ze,{extrude:z(mt),tessellate:z(mt),altitudeMode:z(St),coordinates:z((function(t,e,r){var n,o=r[r.length-1],a=o.layout,s=o.stride;a==i.a.XY||a==i.a.XYM?n=2:a==i.a.XYZ||a==i.a.XYZM?n=3:Object(y.a)(!1,34);var u=e.length,p="";if(u>0){p+=e[0];for(var c=1;c<n;++c)p+=","+e[c];for(var l=s;l<u;l+=s){p+=" "+e[l];for(c=1;c<n;++c)p+=","+e[l+c]}}St(t,p)}))});function Tn(t,e,r){var n=e.getFlatCoordinates(),o={node:t};o.layout=e.getLayout(),o.stride=e.getStride();var i=e.getProperties();i.coordinates=n;var a=r[r.length-1].node,s=In[a.namespaceURI],u=q(i,s);J(o,Nn,W,u,r,s)}var Rn=H(Ze,["color","fill","outline"]),Ln=H(Ze,{outerBoundaryIs:z(On),innerBoundaryIs:z(On)}),Mn=X("innerBoundaryIs"),xn=X("outerBoundaryIs");function Fn(t,e,r){var n=e.getLinearRings(),o=n.shift(),i={node:t};J(i,Ln,Mn,n,r),J(i,Ln,xn,[o],r)}var kn=H(Ze,{color:z(Kr),fill:z(mt),outline:z(mt)});function An(t,e){wt(t,Math.round(1e6*e)/1e6)}var Cn=H(Ze,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),jn=H(Ze,{IconStyle:z((function(t,e,r){var n={node:t},o={},i=e.getSrc(),a=e.getSize(),s=e.getImageSize(),u={href:i};if(a){u.w=a[0],u.h=a[1];var p=e.getAnchor(),c=e.getOrigin();if(c&&s&&0!==c[0]&&c[1]!==a[1]&&(u.x=c[0],u.y=s[1]-(c[1]+a[1])),p&&(p[0]!==a[0]/2||p[1]!==a[1]/2)){var l={x:p[0],xunits:Ae.a.PIXELS,y:a[1]-p[1],yunits:Ae.a.PIXELS};o.hotSpot=l}}o.Icon=u;var f=e.getScaleArray()[0],h=a;null===h&&(h=_e),2==h.length&&(f/=ur(h)),1!==f&&(o.scale=f);var d=e.getRotation();0!==d&&(o.heading=d);var y=e.getColor();y&&(o.color=y);var g=r[r.length-1].node,v=an[g.namespaceURI],_=q(o,v);J(n,sn,W,_,r,v)})),LabelStyle:z((function(t,e,r){var n={node:t},o={},i=e.getFill();i&&(o.color=i.getColor());var a=e.getScale();a&&1!==a&&(o.scale=a);var s=r[r.length-1].node,u=un[s.namespaceURI],p=q(o,u);J(n,pn,W,p,r,u)})),LineStyle:z((function(t,e,r){var n={node:t},o={color:e.getColor(),width:Number(e.getWidth())||1},i=r[r.length-1].node,a=cn[i.namespaceURI],s=q(o,a);J(n,ln,W,s,r,a)})),PolyStyle:z((function(t,e,r){var n={node:t},o=e.getFill(),i=e.getStroke(),a={color:o?o.getColor():void 0,fill:!!o&&void 0,outline:!!i&&void 0},s=r[r.length-1].node,u=Rn[s.namespaceURI],p=q(a,u);J(n,kn,W,p,r,u)}))});var Gn=cr,Un=r(278),Bn=function(){function t(){}return t.prototype.read=function(t){if(t){if("string"==typeof t){var e=G(t);return this.readFromDocument(e)}return j(t)?this.readFromDocument(t):this.readFromNode(t)}return null},t.prototype.readFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null},t.prototype.readFromNode=function(t){},t}();function Dn(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}var Yn=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vn=[null,"http://www.opengis.net/ows/1.1"],zn=H(Vn,{ServiceIdentification:V((function(t,e){return K({},no,t,e)})),ServiceProvider:V((function(t,e){return K({},oo,t,e)})),OperationsMetadata:V((function(t,e){return K({},Jn,t,e)}))}),Zn=function(t){function e(){return t.call(this)||this}return Yn(e,t),e.prototype.readFromNode=function(t){var e=K({},zn,t,[]);return e||null},e}(Bn),Xn=H(Vn,{DeliveryPoint:V(_t),City:V(_t),AdministrativeArea:V(_t),PostalCode:V(_t),Country:V(_t),ElectronicMailAddress:V(_t)}),Wn=H(Vn,{Value:Y((function(t,e){return _t(t)}))}),qn=H(Vn,{AllowedValues:V((function(t,e){return K({},Wn,t,e)}))}),Hn=H(Vn,{Phone:V((function(t,e){return K({},to,t,e)})),Address:V((function(t,e){return K({},Xn,t,e)}))}),$n=H(Vn,{HTTP:V((function(t,e){return K({},Kn,t,e)}))}),Kn=H(Vn,{Get:Y((function(t,e){var r=Dn(t);if(!r)return;return K({href:r},eo,t,e)})),Post:void 0}),Qn=H(Vn,{DCP:V((function(t,e){return K({},$n,t,e)}))}),Jn=H(Vn,{Operation:function(t,e){var r=t.getAttribute("name"),n=K({},Qn,t,e);if(!n)return;e[e.length-1][r]=n}}),to=H(Vn,{Voice:V(_t),Facsimile:V(_t)}),eo=H(Vn,{Constraint:Y((function(t,e){var r=t.getAttribute("name");if(!r)return;return K({name:r},qn,t,e)}))}),ro=H(Vn,{IndividualName:V(_t),PositionName:V(_t),ContactInfo:V((function(t,e){return K({},Hn,t,e)}))}),no=H(Vn,{Abstract:V(_t),AccessConstraints:V(_t),Fees:V(_t),Title:V(_t),ServiceTypeVersion:V(_t),ServiceType:V(_t)}),oo=H(Vn,{ProviderName:V(_t),ProviderSite:V(Dn),ServiceContact:V((function(t,e){return K({},ro,t,e)}))});var io=Zn;function ao(t,e,r,n,o,i){var a,s;void 0!==o?(a=o,s=void 0!==i?i:0):(a=[],s=0);for(var u=e;u<r;){var p=t[u++];a[s++]=t[u++],a[s++]=p;for(var c=2;c<n;++c)a[s++]=t[u++]}return a.length=s,a}var so=r(289),uo=r(319),po=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function co(t){for(var e,r="";t>=32;)e=63+(32|31&t),r+=String.fromCharCode(e),t>>=5;return e=t+63,r+=String.fromCharCode(e)}var lo=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.dataProjection=Object(m.l)("EPSG:4326"),r.factor_=n.factor?n.factor:1e5,r.geometryLayout_=n.geometryLayout?n.geometryLayout:i.a.XY,r}return po(e,t),e.prototype.readFeatureFromText=function(t,e){var r=this.readGeometryFromText(t,e);return new o.a(r)},e.prototype.readFeaturesFromText=function(t,e){return[this.readFeatureFromText(t,e)]},e.prototype.readGeometryFromText=function(t,e){var r=Object(so.b)(this.geometryLayout_),n=function(t,e,r){var n,o=r||1e5,i=new Array(e);for(n=0;n<e;++n)i[n]=0;for(var a=function(t,e){for(var r=e||1e5,n=function(t){for(var e=function(t){for(var e=[],r=0,n=0,o=0,i=t.length;o<i;++o){var a=t.charCodeAt(o)-63;r|=(31&a)<<n,a<32?(e.push(r),r=0,n=0):n+=5}return e}(t),r=0,n=e.length;r<n;++r){var o=e[r];e[r]=1&o?~(o>>1):o>>1}return e}(t),o=0,i=n.length;o<i;++o)n[o]/=r;return n}(t,o),s=0,u=a.length;s<u;)for(n=0;n<e;++n,++s)i[n]+=a[s],a[s]=i[n];return a}(t,r,this.factor_);ao(n,0,n.length,r,n);var o=Object(uo.a)(n,0,n.length,r),i=new u.a(o,this.geometryLayout_);return Object(O.c)(i,!1,this.adaptOptions(e))},e.prototype.writeFeatureText=function(t,e){var r=t.getGeometry();return r?this.writeGeometryText(r,e):(Object(y.a)(!1,40),"")},e.prototype.writeFeaturesText=function(t,e){return this.writeFeatureText(t[0],e)},e.prototype.writeGeometryText=function(t,e){var r=(t=Object(O.c)(t,!0,this.adaptOptions(e))).getFlatCoordinates(),n=t.getStride();return ao(r,0,r.length,n,r),function(t,e,r){var n,o=r||1e5,i=new Array(e);for(n=0;n<e;++n)i[n]=0;for(var a=0,s=t.length;a<s;)for(n=0;n<e;++n,++a){var u=t[a],p=u-i[n];i[n]=u,t[a]=p}return function(t,e){for(var r=e||1e5,n=0,o=t.length;n<o;++n)t[n]=Math.round(t[n]*r);return function(t){for(var e=0,r=t.length;e<r;++e){var n=t[e];t[e]=n<0?~(n<<1):n<<1}return function(t){for(var e="",r=0,n=t.length;r<n;++r)e+=co(t[r]);return e}(t)}(t)}(t,o)}(r,n,this.factor_)},e}(Oe.a),fo=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ho=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.layerName_=n.layerName,r.layers_=n.layers?n.layers:null,r.dataProjection=Object(m.l)(n.dataProjection?n.dataProjection:"EPSG:4326"),r}return fo(e,t),e.prototype.readFeaturesFromObject=function(t,e){if("Topology"==t.type){var r=t,n=void 0,o=null,i=null;r.transform&&(o=(n=r.transform).scale,i=n.translate);var a=r.arcs;n&&function(t,e,r){for(var n=0,o=t.length;n<o;++n)mo(t[n],e,r)}(a,o,i);var s=[],u=r.objects,p=this.layerName_,c=void 0;for(var l in u)this.layers_&&-1==this.layers_.indexOf(l)||("GeometryCollection"===u[l].type?(c=u[l],s.push.apply(s,vo(c,a,o,i,p,l,e))):(c=u[l],s.push(_o(c,a,o,i,p,l,e))));return s}return[]},e.prototype.readProjectionFromObject=function(t){return this.dataProjection},e}(s.a),yo={Point:function(t,e,r){var n=t.coordinates;e&&r&&wo(n,e,r);return new h.a(n)},LineString:function(t,e){var r=go(t.arcs,e);return new u.a(r)},Polygon:function(t,e){for(var r=[],n=0,o=t.arcs.length;n<o;++n)r[n]=go(t.arcs[n],e);return new d.b(r)},MultiPoint:function(t,e,r){var n=t.coordinates;if(e&&r)for(var o=0,i=n.length;o<i;++o)wo(n[o],e,r);return new l.a(n)},MultiLineString:function(t,e){for(var r=[],n=0,o=t.arcs.length;n<o;++n)r[n]=go(t.arcs[n],e);return new c.a(r)},MultiPolygon:function(t,e){for(var r=[],n=0,o=t.arcs.length;n<o;++n){for(var i=t.arcs[n],a=[],s=0,u=i.length;s<u;++s)a[s]=go(i[s],e);r[n]=a}return new f.a(r)}};function go(t,e){for(var r,n=[],o=0,i=t.length;o<i;++o)if(r=t[o],o>0&&n.pop(),r>=0)for(var a=0,s=(u=e[r]).length;a<s;++a)n.push(u[a].slice(0));else{var u;for(a=(u=e[~r]).length-1;a>=0;--a)n.push(u[a].slice(0))}return n}function vo(t,e,r,n,o,i,a){for(var s=t.geometries,u=[],p=0,c=s.length;p<c;++p)u[p]=_o(s[p],e,r,n,o,i,a);return u}function _o(t,e,r,n,i,a,s){var u=null,p=t.type;if(p){var c=yo[p];u="Point"===p||"MultiPoint"===p?c(t,r,n):c(t,e),u=Object(O.c)(u,!1,s)}var l=new o.a({geometry:u});void 0!==t.id&&l.setId(t.id);var f=t.properties;return i&&(f||(f={}),f[i]=a),f&&l.setProperties(f,!0),l}function mo(t,e,r){for(var n=0,o=0,i=0,a=t.length;i<a;++i){var s=t[i];n+=s[0],o+=s[1],s[0]=n,s[1]=o,wo(s,e,r)}}function wo(t,e,r){t[0]=t[0]*e[0]+r[0],t[1]=t[1]*e[1]+r[1]}var Oo=ho,So=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),bo=function(t){function e(e){var r=this,n=e||{};return(r=t.call(this,n)||this).schemaLocation=n.schemaLocation?n.schemaLocation:r.namespace+" http://schemas.opengis.net/gml/3.2.1/gml.xsd",r}return So(e,t),e}(Lt);bo.prototype.namespace="http://www.opengis.net/gml/3.2",bo.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml/3.2":{pos:D(Lt.prototype.readFlatPos),posList:D(Lt.prototype.readFlatPosList),coordinates:D(It.prototype.readFlatCoordinates)}},bo.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml/3.2":{interior:Lt.prototype.interiorParser,exterior:Lt.prototype.exteriorParser}},bo.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml/3.2":{Point:D(pt.prototype.readPoint),MultiPoint:D(pt.prototype.readMultiPoint),LineString:D(pt.prototype.readLineString),MultiLineString:D(pt.prototype.readMultiLineString),LinearRing:D(pt.prototype.readLinearRing),Polygon:D(pt.prototype.readPolygon),MultiPolygon:D(pt.prototype.readMultiPolygon),Surface:D(bo.prototype.readSurface),MultiSurface:D(Lt.prototype.readMultiSurface),Curve:D(bo.prototype.readCurve),MultiCurve:D(Lt.prototype.readMultiCurve),Envelope:D(bo.prototype.readEnvelope)}},bo.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml/3.2":{curveMember:B(Lt.prototype.curveMemberParser),curveMembers:B(Lt.prototype.curveMemberParser)}},bo.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{surfaceMember:B(Lt.prototype.surfaceMemberParser),surfaceMembers:B(Lt.prototype.surfaceMemberParser)}},bo.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:B(pt.prototype.readLineString),Curve:B(Lt.prototype.readCurve)}},bo.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:B(pt.prototype.readPolygon),Surface:B(Lt.prototype.readSurface)}},bo.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{patches:D(Lt.prototype.readPatch)}},bo.prototype.CURVE_PARSERS={"http://www.opengis.net/gml/3.2":{segments:D(Lt.prototype.readSegment)}},bo.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml/3.2":{lowerCorner:B(Lt.prototype.readFlatPosList),upperCorner:B(Lt.prototype.readFlatPosList)}},bo.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml/3.2":{PolygonPatch:D(Lt.prototype.readPolygonPatch)}},bo.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml/3.2":{LineStringSegment:D(Lt.prototype.readLineStringSegment)}},bo.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml/3.2":{pointMember:B(pt.prototype.pointMemberParser),pointMembers:B(pt.prototype.pointMemberParser)}},bo.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml/3.2":{lineStringMember:B(pt.prototype.lineStringMemberParser),lineStringMembers:B(pt.prototype.lineStringMemberParser)}},bo.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml/3.2":{polygonMember:B(pt.prototype.polygonMemberParser),polygonMembers:B(pt.prototype.polygonMemberParser)}},bo.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Point:B(pt.prototype.readFlatCoordinatesFromNode)}},bo.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:B(pt.prototype.readLineString)}},bo.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:B(pt.prototype.readPolygon)}},bo.prototype.RING_PARSERS={"http://www.opengis.net/gml/3.2":{LinearRing:D(pt.prototype.readFlatLinearRing)}},bo.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml/3.2":{exterior:z(Lt.prototype.writeRing),interior:z(Lt.prototype.writeRing)}},bo.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lowerCorner:z(St),upperCorner:z(St)}},bo.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{surfaceMember:z(Lt.prototype.writeSurfaceOrPolygonMember),polygonMember:z(Lt.prototype.writeSurfaceOrPolygonMember)}},bo.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{pointMember:z(Lt.prototype.writePointMember)}},bo.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lineStringMember:z(Lt.prototype.writeLineStringOrCurveMember),curveMember:z(Lt.prototype.writeLineStringOrCurveMember)}},bo.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml/3.2":{Curve:z(Lt.prototype.writeCurveOrLineString),MultiCurve:z(Lt.prototype.writeMultiCurveOrLineString),Point:z(bo.prototype.writePoint),MultiPoint:z(Lt.prototype.writeMultiPoint),LineString:z(Lt.prototype.writeCurveOrLineString),MultiLineString:z(Lt.prototype.writeMultiCurveOrLineString),LinearRing:z(Lt.prototype.writeLinearRing),Polygon:z(Lt.prototype.writeSurfaceOrPolygon),MultiPolygon:z(Lt.prototype.writeMultiSurfaceOrPolygon),Surface:z(Lt.prototype.writeSurfaceOrPolygon),MultiSurface:z(Lt.prototype.writeMultiSurfaceOrPolygon),Envelope:z(Lt.prototype.writeEnvelope)}};var Eo=bo,Po=function(){function t(t){this.tagName_=t}return t.prototype.getTagName=function(){return this.tagName_},t}(),Io=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),No=function(t){function e(e,r){var n=t.call(this,e)||this;return n.conditions=r,Object(y.a)(n.conditions.length>=2,57),n}return Io(e,t),e}(Po),To=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ro=function(t){function e(e){return t.call(this,"And",Array.prototype.slice.call(arguments))||this}return To(e,t),e}(No),Lo=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mo=function(t){function e(e,r,n){var o=t.call(this,"BBOX")||this;if(o.geometryName=e,o.extent=r,4!==r.length)throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])");return o.srsName=n,o}return Lo(e,t),e}(Po),xo=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fo=function(t){function e(e,r,n,o){var i=t.call(this,e)||this;return i.geometryName=r||"the_geom",i.geometry=n,i.srsName=o,i}return xo(e,t),e}(Po),ko=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ao=(function(t){function e(e,r,n){return t.call(this,"Contains",e,r,n)||this}ko(e,t)}(Fo),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Co=(function(t){function e(e,r,n,o,i){var a=t.call(this,"DWithin",e,r,i)||this;return a.distance=n,a.unit=o,a}Ao(e,t)}(Fo),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),jo=(function(t){function e(e,r,n){return t.call(this,"Disjoint",e,r,n)||this}Co(e,t)}(Fo),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Go=function(t){function e(e,r){var n=t.call(this,e)||this;return n.propertyName=r,n}return jo(e,t),e}(Po),Uo=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bo=(function(t){function e(e,r,n){var o=t.call(this,"During",e)||this;return o.begin=r,o.end=n,o}Uo(e,t)}(Go),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Do=function(t){function e(e,r,n,o){var i=t.call(this,e,r)||this;return i.expression=n,i.matchCase=o,i}return Bo(e,t),e}(Go),Yo=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vo=(function(t){function e(e,r,n){return t.call(this,"PropertyIsEqualTo",e,r,n)||this}Yo(e,t)}(Do),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),zo=(function(t){function e(e,r){return t.call(this,"PropertyIsGreaterThan",e,r)||this}Vo(e,t)}(Do),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Zo=(function(t){function e(e,r){return t.call(this,"PropertyIsGreaterThanOrEqualTo",e,r)||this}zo(e,t)}(Do),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Xo=(function(t){function e(e,r,n){return t.call(this,"Intersects",e,r,n)||this}Zo(e,t)}(Fo),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Wo=(function(t){function e(e,r,n){var o=t.call(this,"PropertyIsBetween",e)||this;return o.lowerBoundary=r,o.upperBoundary=n,o}Xo(e,t)}(Go),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),qo=(function(t){function e(e,r,n,o,i,a){var s=t.call(this,"PropertyIsLike",e)||this;return s.pattern=r,s.wildCard=void 0!==n?n:"*",s.singleChar=void 0!==o?o:".",s.escapeChar=void 0!==i?i:"!",s.matchCase=a,s}Wo(e,t)}(Go),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Ho=(function(t){function e(e){return t.call(this,"PropertyIsNull",e)||this}qo(e,t)}(Go),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),$o=(function(t){function e(e,r){return t.call(this,"PropertyIsLessThan",e,r)||this}Ho(e,t)}(Do),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Ko=(function(t){function e(e,r){return t.call(this,"PropertyIsLessThanOrEqualTo",e,r)||this}$o(e,t)}(Do),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Qo=(function(t){function e(e){var r=t.call(this,"Not")||this;return r.condition=e,r}Ko(e,t)}(Po),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Jo=(function(t){function e(e,r,n){return t.call(this,"PropertyIsNotEqualTo",e,r,n)||this}Qo(e,t)}(Do),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),ti=(function(t){function e(e){return t.call(this,"Or",Array.prototype.slice.call(arguments))||this}Jo(e,t)}(No),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),ei=(function(t){function e(e){var r=t.call(this,"ResourceId")||this;return r.rid=e,r}ti(e,t)}(Po),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}());!function(t){function e(e,r,n){return t.call(this,"Within",e,r,n)||this}ei(e,t)}(Fo);var ri=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ni={"http://www.opengis.net/gml":{boundedBy:V(pt.prototype.readExtentElement,"bounds")},"http://www.opengis.net/wfs/2.0":{member:B(pt.prototype.readFeaturesInternal)}},oi={"http://www.opengis.net/wfs":{totalInserted:V(gt),totalUpdated:V(gt),totalDeleted:V(gt)},"http://www.opengis.net/wfs/2.0":{totalInserted:V(gt),totalUpdated:V(gt),totalDeleted:V(gt)}},ii={"http://www.opengis.net/wfs":{TransactionSummary:V(gi,"transactionSummary"),InsertResults:V(wi,"insertIds")},"http://www.opengis.net/wfs/2.0":{TransactionSummary:V(gi,"transactionSummary"),InsertResults:V(wi,"insertIds")}},ai={"http://www.opengis.net/wfs":{PropertyName:z(St)},"http://www.opengis.net/wfs/2.0":{PropertyName:z(St)}},si={"http://www.opengis.net/wfs":{Insert:z(Oi),Update:z(Pi),Delete:z(Ei),Property:z(Ii),Native:z(Ni)},"http://www.opengis.net/wfs/2.0":{Insert:z(Oi),Update:z(Pi),Delete:z(Ei),Property:z(Ii),Native:z(Ni)}},ui="http://www.w3.org/2000/xmlns/",pi={"2.0.0":"http://www.opengis.net/ogc/1.1","1.1.0":"http://www.opengis.net/ogc","1.0.0":"http://www.opengis.net/ogc"},ci={"2.0.0":"http://www.opengis.net/wfs/2.0","1.1.0":"http://www.opengis.net/wfs","1.0.0":"http://www.opengis.net/wfs"},li={"2.0.0":"http://www.opengis.net/fes/2.0","1.1.0":"http://www.opengis.net/fes","1.0.0":"http://www.opengis.net/fes"},fi={"2.0.0":"http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd","1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},hi={"2.0.0":Eo,"1.1.0":Lt,"1.0.0":It},di=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.version_=n.version?n.version:"1.1.0",r.featureType_=n.featureType,r.featureNS_=n.featureNS,r.gmlFormat_=n.gmlFormat?n.gmlFormat:new hi[r.version_],r.schemaLocation_=n.schemaLocation?n.schemaLocation:fi[r.version_],r}return ri(e,t),e.prototype.getFeatureType=function(){return this.featureType_},e.prototype.setFeatureType=function(t){this.featureType_=t},e.prototype.readFeaturesFromNode=function(t,e){var r={node:t};Object(g.a)(r,{featureType:this.featureType_,featureNS:this.featureNS_}),Object(g.a)(r,this.getReadOptions(t,e||{}));var n=[r],o=K([],"2.0.0"===this.version_?ni:this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,n,this.gmlFormat_);return o||(o=[]),o},e.prototype.readTransactionResponse=function(t){if(t){if("string"==typeof t){var e=G(t);return this.readTransactionResponseFromDocument(e)}return j(t)?this.readTransactionResponseFromDocument(t):this.readTransactionResponseFromNode(t)}},e.prototype.readFeatureCollectionMetadata=function(t){if(t){if("string"==typeof t){var e=G(t);return this.readFeatureCollectionMetadataFromDocument(e)}return j(t)?this.readFeatureCollectionMetadataFromDocument(t):this.readFeatureCollectionMetadataFromNode(t)}},e.prototype.readFeatureCollectionMetadataFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(e)},e.prototype.readFeatureCollectionMetadataFromNode=function(t){var e={},r=vt(t.getAttribute("numberOfFeatures"));return e.numberOfFeatures=r,K(e,ni,t,[],this.gmlFormat_)},e.prototype.readTransactionResponseFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(e)},e.prototype.readTransactionResponseFromNode=function(t){return K({},ii,t,[])},e.prototype.writeGetFeature=function(t){var e=this,r=A(ci[this.version_],"GetFeature");r.setAttribute("service","WFS"),r.setAttribute("version",this.version_),t.handle&&r.setAttribute("handle",t.handle),t.outputFormat&&r.setAttribute("outputFormat",t.outputFormat),void 0!==t.maxFeatures&&r.setAttribute("maxFeatures",String(t.maxFeatures)),t.resultType&&r.setAttribute("resultType",t.resultType),void 0!==t.startIndex&&r.setAttribute("startIndex",String(t.startIndex)),void 0!==t.count&&r.setAttribute("count",String(t.count)),void 0!==t.viewParams&&r.setAttribute("viewParams",t.viewParams),r.setAttributeNS(k,"xsi:schemaLocation",this.schemaLocation_);var n={node:r};if(Object(g.a)(n,{version:this.version_,srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.featureNS_,featurePrefix:t.featurePrefix,propertyNames:t.propertyNames?t.propertyNames:[]}),Object(y.a)(Array.isArray(t.featureTypes),11),"string"==typeof t.featureTypes[0]){var o=t.filter;t.bbox&&(Object(y.a)(t.geometryName,12),o=this.combineBboxAndFilter(t.geometryName,t.bbox,t.srsName,o)),Object(g.a)(n,{geometryName:t.geometryName,filter:o}),Zi(r,t.featureTypes,[n])}else t.featureTypes.forEach((function(o){var i=e.combineBboxAndFilter(o.geometryName,o.bbox,t.srsName,t.filter);Object(g.a)(n,{geometryName:o.geometryName,filter:i}),Zi(r,[o.name],[n])}));return r},e.prototype.combineBboxAndFilter=function(t,e,r,n){var o=function(t,e,r){return new Mo(t,e,r)}(t,e,r);return n?function(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(Ro,e))}(n,o):o},e.prototype.writeTransaction=function(t,e,r,n){var o,i=[],a=n.version?n.version:this.version_,s=A(ci[a],"Transaction");s.setAttribute("service","WFS"),s.setAttribute("version",a),n&&(o=n.gmlOptions?n.gmlOptions:{},n.handle&&s.setAttribute("handle",n.handle)),s.setAttributeNS(k,"xsi:schemaLocation",fi[a]);var u=function(t,e,r,n){var o,i=n.featurePrefix?n.featurePrefix:"feature";"1.0.0"===r?o=2:"1.1.0"===r?o=3:"2.0.0"===r&&(o=3.2);return Object(g.a)({node:t},{version:r,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:i,gmlVersion:o,hasZ:n.hasZ,srsName:n.srsName},e)}(s,o,a,n);return t&&yi("Insert",t,i,u),e&&yi("Update",e,i,u),r&&yi("Delete",r,i,u),n.nativeElements&&yi("Native",n.nativeElements,i,u),s},e.prototype.readProjectionFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(e);return null},e.prototype.readProjectionFromNode=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild)for(var e=(t=t.firstElementChild.firstElementChild).firstElementChild;e;e=e.nextElementSibling)if(0!==e.childNodes.length&&(1!==e.childNodes.length||3!==e.firstChild.nodeType)){var r=[{}];return this.gmlFormat_.readGeometryElement(e,r),Object(m.l)(r.pop().srsName)}return null},e}(ot);function yi(t,e,r,n){J(n,si,X(t),e,r)}function gi(t,e){return K({},oi,t,e)}var vi={"http://www.opengis.net/ogc":{FeatureId:B((function(t,e){return t.getAttribute("fid")}))},"http://www.opengis.net/ogc/1.1":{FeatureId:B((function(t,e){return t.getAttribute("fid")}))}};function _i(t,e){$(vi,t,e)}var mi={"http://www.opengis.net/wfs":{Feature:_i},"http://www.opengis.net/wfs/2.0":{Feature:_i}};function wi(t,e){return K([],mi,t,e)}function Oi(t,e,r){var n=r[r.length-1],o=n.featureType,i=n.featureNS,a=n.gmlVersion,s=A(i,o);t.appendChild(s),2===a?It.prototype.writeFeatureElement(s,e,r):3===a?Lt.prototype.writeFeatureElement(s,e,r):Eo.prototype.writeFeatureElement(s,e,r)}function Si(t,e,r){var n=r[r.length-1].version,o=pi[n],i=A(o,"Filter"),a=A(o,"FeatureId");i.appendChild(a),a.setAttribute("fid",e),t.appendChild(i)}function bi(t,e){var r=(t=t||"feature")+":";return 0===e.indexOf(r)?e:r+e}function Ei(t,e,r){var n=r[r.length-1];Object(y.a)(void 0!==e.getId(),26);var o=n.featureType,i=n.featurePrefix,a=n.featureNS,s=bi(i,o);t.setAttribute("typeName",s),t.setAttributeNS(ui,"xmlns:"+i,a);var u=e.getId();void 0!==u&&Si(t,u,r)}function Pi(t,e,r){var n=r[r.length-1];Object(y.a)(void 0!==e.getId(),27);var o=n.version,i=n.featureType,a=n.featurePrefix,s=n.featureNS,u=bi(a,i),p=e.getGeometryName();t.setAttribute("typeName",u),t.setAttributeNS(ui,"xmlns:"+a,s);var c=e.getId();if(void 0!==c){for(var l=e.getKeys(),f=[],h=0,d=l.length;h<d;h++){var g=e.get(l[h]);if(void 0!==g){var v=l[h];g&&"function"==typeof g.getSimplifiedGeometry&&(v=p),f.push({name:v,value:g})}}J({version:o,gmlVersion:n.gmlVersion,node:t,hasZ:n.hasZ,srsName:n.srsName},si,X("Property"),f,r),Si(t,c,r)}}function Ii(t,e,r){var n=r[r.length-1],o=n.version,i=ci[o],a=A(i,"Name"),s=n.gmlVersion;if(t.appendChild(a),St(a,e.name),void 0!==e.value&&null!==e.value){var u=A(i,"Value");t.appendChild(u),e.value&&"function"==typeof e.value.getSimplifiedGeometry?2===s?It.prototype.writeGeometryElement(u,e.value,r):3===s?Lt.prototype.writeGeometryElement(u,e.value,r):Eo.prototype.writeGeometryElement(u,e.value,r):St(u,e.value)}}function Ni(t,e,r){e.vendorId&&t.setAttribute("vendorId",e.vendorId),void 0!==e.safeToIgnore&&t.setAttribute("safeToIgnore",String(e.safeToIgnore)),void 0!==e.value&&St(t,e.value)}var Ti={"http://www.opengis.net/wfs":{Query:z(Ri)},"http://www.opengis.net/wfs/2.0":{Query:z(Ri)},"http://www.opengis.net/ogc":{During:z(ki),And:z(Ai),Or:z(Ai),Not:z(Ci),BBOX:z(Mi),Contains:z(xi),Intersects:z(xi),Within:z(xi),DWithin:z(Fi),PropertyIsEqualTo:z(ji),PropertyIsNotEqualTo:z(ji),PropertyIsLessThan:z(ji),PropertyIsLessThanOrEqualTo:z(ji),PropertyIsGreaterThan:z(ji),PropertyIsGreaterThanOrEqualTo:z(ji),PropertyIsNull:z(Gi),PropertyIsBetween:z(Ui),PropertyIsLike:z(Bi)},"http://www.opengis.net/fes/2.0":{During:z(ki),And:z(Ai),Or:z(Ai),Not:z(Ci),BBOX:z(Mi),Contains:z(xi),Disjoint:z(xi),Intersects:z(xi),ResourceId:z((function(t,e,r){t.setAttribute("rid",e.rid)})),Within:z(xi),DWithin:z(Fi),PropertyIsEqualTo:z(ji),PropertyIsNotEqualTo:z(ji),PropertyIsLessThan:z(ji),PropertyIsLessThanOrEqualTo:z(ji),PropertyIsGreaterThan:z(ji),PropertyIsGreaterThanOrEqualTo:z(ji),PropertyIsNull:z(Gi),PropertyIsBetween:z(Ui),PropertyIsLike:z(Bi)}};function Ri(t,e,r){var n,o,i=r[r.length-1],a=i.version,s=i.featurePrefix,u=i.featureNS,p=i.propertyNames,c=i.srsName;n=s?bi(s,e):e,o="2.0.0"===a?"typeNames":"typeName",t.setAttribute(o,n),c&&t.setAttribute("srsName",c),u&&t.setAttributeNS(ui,"xmlns:"+s,u);var l=Object(g.a)({},i);l.node=t,J(l,ai,X("PropertyName"),p,r);var f=i.filter;if(f){var h=A(Xi(a),"Filter");t.appendChild(h),Li(h,f,r)}}function Li(t,e,r){var n=r[r.length-1],o={node:t};Object(g.a)(o,{context:n}),J(o,Ti,X(e.getTagName()),[e],r)}function Mi(t,e,r){var n=r[r.length-1],o=n.context.version;n.srsName=e.srsName;var i=hi[o];Vi(o,t,e.geometryName),i.prototype.writeGeometryElement(t,e.extent,r)}function xi(t,e,r){var n=r[r.length-1],o=n.context.version;n.srsName=e.srsName;var i=hi[o];Vi(o,t,e.geometryName),i.prototype.writeGeometryElement(t,e.geometry,r)}function Fi(t,e,r){var n=r[r.length-1].context.version;xi(t,e,r);var o=A(Xi(n),"Distance");St(o,e.distance.toString()),"2.0.0"===n?o.setAttribute("uom",e.unit):o.setAttribute("units",e.unit),t.appendChild(o)}function ki(t,e,r){var n=r[r.length-1].context.version;Di(li[n],"ValueReference",t,e.propertyName);var o=A(at,"TimePeriod");t.appendChild(o);var i=A(at,"begin");o.appendChild(i),zi(i,e.begin);var a=A(at,"end");o.appendChild(a),zi(a,e.end)}function Ai(t,e,r){var n=r[r.length-1].context,o={node:t};Object(g.a)(o,{context:n});for(var i=e.conditions,a=0,s=i.length;a<s;++a){var u=i[a];J(o,Ti,X(u.getTagName()),[u],r)}}function Ci(t,e,r){var n=r[r.length-1].context,o={node:t};Object(g.a)(o,{context:n});var i=e.condition;J(o,Ti,X(i.getTagName()),[i],r)}function ji(t,e,r){var n=r[r.length-1].context.version;void 0!==e.matchCase&&t.setAttribute("matchCase",e.matchCase.toString()),Vi(n,t,e.propertyName),Yi(n,t,""+e.expression)}function Gi(t,e,r){Vi(r[r.length-1].context.version,t,e.propertyName)}function Ui(t,e,r){var n=r[r.length-1].context.version,o=Xi(n);Vi(n,t,e.propertyName);var i=A(o,"LowerBoundary");t.appendChild(i),Yi(n,i,""+e.lowerBoundary);var a=A(o,"UpperBoundary");t.appendChild(a),Yi(n,a,""+e.upperBoundary)}function Bi(t,e,r){var n=r[r.length-1].context.version;t.setAttribute("wildCard",e.wildCard),t.setAttribute("singleChar",e.singleChar),t.setAttribute("escapeChar",e.escapeChar),void 0!==e.matchCase&&t.setAttribute("matchCase",e.matchCase.toString()),Vi(n,t,e.propertyName),Yi(n,t,""+e.pattern)}function Di(t,e,r,n){var o=A(t,e);St(o,n),r.appendChild(o)}function Yi(t,e,r){Di(Xi(t),"Literal",e,r)}function Vi(t,e,r){"2.0.0"===t?Di(li[t],"ValueReference",e,r):Di(pi[t],"PropertyName",e,r)}function zi(t,e){var r=A(at,"TimeInstant");t.appendChild(r);var n=A(at,"timePosition");r.appendChild(n),St(n,e)}function Zi(t,e,r){var n=r[r.length-1],o=Object(g.a)({},n);o.node=t,J(o,Ti,X("Query"),e,r)}function Xi(t){return"2.0.0"===t?li[t]:pi[t]}var Wi=di,qi=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hi=1,$i=2,Ki=3,Qi=4,Ji=5,ta=6,ea=7,ra=15,na=16,oa=17,ia=function(){function t(t){this.view_=t,this.pos_=0,this.initialized_=!1,this.isLittleEndian_=!1,this.hasZ_=!1,this.hasM_=!1,this.srid_=null,this.layout_=i.a.XY}return t.prototype.readUint8=function(){return this.view_.getUint8(this.pos_++)},t.prototype.readUint32=function(t){return this.view_.getUint32((this.pos_+=4)-4,void 0!==t?t:this.isLittleEndian_)},t.prototype.readDouble=function(t){return this.view_.getFloat64((this.pos_+=8)-8,void 0!==t?t:this.isLittleEndian_)},t.prototype.readPoint=function(){var t=[];return t.push(this.readDouble()),t.push(this.readDouble()),this.hasZ_&&t.push(this.readDouble()),this.hasM_&&t.push(this.readDouble()),t},t.prototype.readLineString=function(){for(var t=this.readUint32(),e=[],r=0;r<t;r++)e.push(this.readPoint());return e},t.prototype.readPolygon=function(){for(var t=this.readUint32(),e=[],r=0;r<t;r++)e.push(this.readLineString());return e},t.prototype.readWkbHeader=function(t){var e=this.readUint8()>0,r=this.readUint32(e),n=Math.floor((268435455&r)/1e3),o=Boolean(2147483648&r)||1===n||3===n,i=Boolean(1073741824&r)||2===n||3===n,a=Boolean(536870912&r),s=(268435455&r)%1e3,u=["XY",o?"Z":"",i?"M":""].join(""),p=a?this.readUint32(e):null;if(void 0!==t&&t!==s)throw new Error("Unexpected WKB geometry type "+s);if(this.initialized_){if(this.isLittleEndian_!==e)throw new Error("Inconsistent endian");if(this.layout_!==u)throw new Error("Inconsistent geometry layout");if(p&&this.srid_!==p)throw new Error("Inconsistent coordinate system (SRID)")}else this.isLittleEndian_=e,this.hasZ_=o,this.hasM_=i,this.layout_=u,this.srid_=p,this.initialized_=!0;return s},t.prototype.readWkbPayload=function(t){switch(t){case Hi:return this.readPoint();case $i:return this.readLineString();case Ki:case oa:return this.readPolygon();case Qi:return this.readMultiPoint();case Ji:return this.readMultiLineString();case ta:case ra:case na:return this.readMultiPolygon();case ea:return this.readGeometryCollection();default:throw new Error("Unsupported WKB geometry type "+t+" is found")}},t.prototype.readWkbBlock=function(t){return this.readWkbPayload(this.readWkbHeader(t))},t.prototype.readWkbCollection=function(t,e){for(var r=this.readUint32(),n=[],o=0;o<r;o++){var i=t.call(this,e);i&&n.push(i)}return n},t.prototype.readMultiPoint=function(){return this.readWkbCollection(this.readWkbBlock,Hi)},t.prototype.readMultiLineString=function(){return this.readWkbCollection(this.readWkbBlock,$i)},t.prototype.readMultiPolygon=function(){return this.readWkbCollection(this.readWkbBlock,Ki)},t.prototype.readGeometryCollection=function(){return this.readWkbCollection(this.readGeometry)},t.prototype.readGeometry=function(){var t=this.readWkbHeader(),e=this.readWkbPayload(t);switch(t){case Hi:return new h.a(e,this.layout_);case $i:return new u.a(e,this.layout_);case Ki:case oa:return new d.b(e,this.layout_);case Qi:return new l.a(e,this.layout_);case Ji:return new c.a(e,this.layout_);case ta:case ra:case na:return new f.a(e,this.layout_);case ea:return new Fe.a(e);default:return null}},t.prototype.getSrid=function(){return this.srid_},t}(),aa=function(){function t(t){t=t||{},this.layout_=t.layout,this.isLittleEndian_=!1!==t.littleEndian,this.isEWKB_=!1!==t.ewkb,this.writeQueue_=[],this.nodata_=Object(g.a)({X:0,Y:0,Z:0,M:0},t.nodata)}return t.prototype.writeUint8=function(t){this.writeQueue_.push([1,t])},t.prototype.writeUint32=function(t){this.writeQueue_.push([4,t])},t.prototype.writeDouble=function(t){this.writeQueue_.push([8,t])},t.prototype.writePoint=function(t,e){for(var r=g.a.apply(null,e.split("").map((function(e,r){var n;return(n={})[e]=t[r],n}))),n=0,o=this.layout_;n<o.length;n++){var i=o[n];this.writeDouble(i in r?r[i]:this.nodata_[i])}},t.prototype.writeLineString=function(t,e){this.writeUint32(t.length);for(var r=0;r<t.length;r++)this.writePoint(t[r],e)},t.prototype.writePolygon=function(t,e){this.writeUint32(t.length);for(var r=0;r<t.length;r++)this.writeLineString(t[r],e)},t.prototype.writeWkbHeader=function(t,e){t%=1e3,this.layout_.indexOf("Z")>=0&&(t+=this.isEWKB_?2147483648:1e3),this.layout_.indexOf("M")>=0&&(t+=this.isEWKB_?1073741824:2e3),this.isEWKB_&&Number.isInteger(e)&&(t|=536870912),this.writeUint8(this.isLittleEndian_?1:0),this.writeUint32(t),this.isEWKB_&&Number.isInteger(e)&&this.writeUint32(e)},t.prototype.writeMultiPoint=function(t,e){this.writeUint32(t.length);for(var r=0;r<t.length;r++)this.writeWkbHeader(1),this.writePoint(t[r],e)},t.prototype.writeMultiLineString=function(t,e){this.writeUint32(t.length);for(var r=0;r<t.length;r++)this.writeWkbHeader(2),this.writeLineString(t[r],e)},t.prototype.writeMultiPolygon=function(t,e){this.writeUint32(t.length);for(var r=0;r<t.length;r++)this.writeWkbHeader(3),this.writePolygon(t[r],e)},t.prototype.writeGeometryCollection=function(t){this.writeUint32(t.length);for(var e=0;e<t.length;e++)this.writeGeometry(t[e])},t.prototype.findMinimumLayout=function(t,e){void 0===e&&(e=i.a.XYZM);var r,n;if(t instanceof so.a)return(r=t.getLayout())===(n=e)?r:r===i.a.XYZM?n:n===i.a.XYZM?r:i.a.XY;if(t instanceof Fe.a)for(var o=t.getGeometriesArray(),a=0;a<o.length&&e!==i.a.XY;a++)e=this.findMinimumLayout(o[a],e);return e},t.prototype.writeGeometry=function(t,e){var r,n,o=((r={})[a.a.POINT]=Hi,r[a.a.LINE_STRING]=$i,r[a.a.POLYGON]=Ki,r[a.a.MULTI_POINT]=Qi,r[a.a.MULTI_LINE_STRING]=Ji,r[a.a.MULTI_POLYGON]=ta,r[a.a.GEOMETRY_COLLECTION]=ea,r),i=t.getType(),s=o[i];if(!s)throw new Error("GeometryType "+i+" is not supported");(this.layout_||(this.layout_=this.findMinimumLayout(t)),this.writeWkbHeader(s,e),t instanceof so.a)?((n={})[a.a.POINT]=this.writePoint,n[a.a.LINE_STRING]=this.writeLineString,n[a.a.POLYGON]=this.writePolygon,n[a.a.MULTI_POINT]=this.writeMultiPoint,n[a.a.MULTI_LINE_STRING]=this.writeMultiLineString,n[a.a.MULTI_POLYGON]=this.writeMultiPolygon,n)[i].call(this,t.getCoordinates(),t.getLayout()):t instanceof Fe.a&&this.writeGeometryCollection(t.getGeometriesArray())},t.prototype.getBuffer=function(){var t=this,e=this.writeQueue_.reduce((function(t,e){return t+e[0]}),0),r=new ArrayBuffer(e),n=new DataView(r),o=0;return this.writeQueue_.forEach((function(e){switch(e[0]){case 1:n.setUint8(o,e[1]);break;case 4:n.setUint32(o,e[1],t.isLittleEndian_);break;case 8:n.setFloat64(o,e[1],t.isLittleEndian_)}o+=e[0]})),r},t}();function sa(t){return"string"==typeof t?function(t){for(var e=new Uint8Array(t.length/2),r=0;r<t.length/2;r++)e[r]=parseInt(t.substr(2*r,2),16);return new DataView(e.buffer)}(t):ArrayBuffer.isView(t)?t instanceof DataView?t:new DataView(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer?new DataView(t):null}var ua=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.splitCollection=Boolean(n.splitCollection),r.viewCache_=null,r.hex_=!1!==n.hex,r.littleEndian_=!1!==n.littleEndian,r.ewkb_=!1!==n.ewkb,r.layout_=n.geometryLayout,r.nodataZ_=n.nodataZ||0,r.nodataM_=n.nodataM||0,r.srid_=n.srid,r}return qi(e,t),e.prototype.getType=function(){return this.hex_?M.a.TEXT:M.a.ARRAY_BUFFER},e.prototype.readFeature=function(t,e){return new o.a({geometry:this.readGeometry(t,e)})},e.prototype.readFeatures=function(t,e){var r=this.readGeometry(t,e);return(this.splitCollection&&r instanceof Fe.a?r.getGeometriesArray():[r]).map((function(t){return new o.a({geometry:t})}))},e.prototype.readGeometry=function(t,e){var r=sa(t);if(!r)return null;var n=new ia(r).readGeometry();this.viewCache_=r;var o=this.getReadOptions(t,e);return this.viewCache_=null,Object(O.c)(n,!1,o)},e.prototype.readProjection=function(t){var e=this.viewCache_||sa(t);if(e){var r=new ia(e);return r.readWkbHeader(),r.getSrid()&&Object(m.l)("EPSG:"+r.getSrid())||void 0}},e.prototype.writeFeature=function(t,e){return this.writeGeometry(t.getGeometry(),e)},e.prototype.writeFeatures=function(t,e){return this.writeGeometry(new Fe.a(t.map((function(t){return t.getGeometry()}))),e)},e.prototype.writeGeometry=function(t,e){var r=this.adaptOptions(e),n=new aa({layout:this.layout_,littleEndian:this.littleEndian_,ewkb:this.ewkb_,nodata:{Z:this.nodataZ_,M:this.nodataM_}}),o=Number.isInteger(this.srid_)?Number(this.srid_):null;if(!1!==this.srid_&&!Number.isInteger(this.srid_)){var i=r.dataProjection&&Object(m.l)(r.dataProjection);if(i){var a=i.getCode();0===a.indexOf("EPSG:")&&(o=Number(a.substring(5)))}}n.writeGeometry(Object(O.c)(t,!0,r),o);var s=n.getBuffer();return this.hex_?function(t){var e=new Uint8Array(t);return Array.from(e.values()).map((function(t){return(t<16?"0":"")+Number(t).toString(16).toUpperCase()})).join("")}(s):s},e}(O.a),pa=r(280),ca=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),la=[null,"http://www.opengis.net/wms"],fa=H(la,{Service:V((function(t,e){return K({},ya,t,e)})),Capability:V((function(t,e){return K({},ha,t,e)}))}),ha=H(la,{Request:V((function(t,e){return K({},ba,t,e)})),Exception:V((function(t,e){return K([],ma,t,e)})),Layer:V((function(t,e){var r=K({},wa,t,e);if(void 0===r.Layer)return Object.assign(r,La(t,e));return r}))}),da=function(t){function e(){var e=t.call(this)||this;return e.version=void 0,e}return ca(e,t),e.prototype.readFromNode=function(t){this.version=t.getAttribute("version").trim();var e=K({version:this.version},fa,t,[]);return e||null},e}(Bn),ya=H(la,{Name:V(_t),Title:V(_t),Abstract:V(_t),KeywordList:V(ka),OnlineResource:V(Dn),ContactInformation:V((function(t,e){return K({},ga,t,e)})),Fees:V(_t),AccessConstraints:V(_t),LayerLimit:V(gt),MaxWidth:V(gt),MaxHeight:V(gt)}),ga=H(la,{ContactPersonPrimary:V((function(t,e){return K({},va,t,e)})),ContactPosition:V(_t),ContactAddress:V((function(t,e){return K({},_a,t,e)})),ContactVoiceTelephone:V(_t),ContactFacsimileTelephone:V(_t),ContactElectronicMailAddress:V(_t)}),va=H(la,{ContactPerson:V(_t),ContactOrganization:V(_t)}),_a=H(la,{AddressType:V(_t),Address:V(_t),City:V(_t),StateOrProvince:V(_t),PostCode:V(_t),Country:V(_t)}),ma=H(la,{Format:B(_t)}),wa=H(la,{Name:V(_t),Title:V(_t),Abstract:V(_t),KeywordList:V(ka),CRS:Y(_t),EX_GeographicBoundingBox:V((function(t,e){var r=K({},Sa,t,e);if(!r)return;var n=r.westBoundLongitude,o=r.southBoundLatitude,i=r.eastBoundLongitude,a=r.northBoundLatitude;if(void 0===n||void 0===o||void 0===i||void 0===a)return;return[n,o,i,a]})),BoundingBox:Y((function(t,e){var r=[yt(t.getAttribute("minx")),yt(t.getAttribute("miny")),yt(t.getAttribute("maxx")),yt(t.getAttribute("maxy"))],n=[yt(t.getAttribute("resx")),yt(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:r,res:n}})),Dimension:Y((function(t,e){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:ft(t.getAttribute("multipleValues")),nearestValue:ft(t.getAttribute("nearestValue")),current:ft(t.getAttribute("current")),values:_t(t)}})),Attribution:V((function(t,e){return K({},Oa,t,e)})),AuthorityURL:Y((function(t,e){var r=Ma(t,e);if(r)return r.name=t.getAttribute("name"),r;return})),Identifier:Y(_t),MetadataURL:Y((function(t,e){var r=Ma(t,e);if(r)return r.type=t.getAttribute("type"),r;return})),DataURL:Y(Ma),FeatureListURL:Y(Ma),Style:Y((function(t,e){return K({},Na,t,e)})),MinScaleDenominator:V(dt),MaxScaleDenominator:V(dt),Layer:Y(La)}),Oa=H(la,{Title:V(_t),OnlineResource:V(Dn),LogoURL:V(Fa)}),Sa=H(la,{westBoundLongitude:V(dt),eastBoundLongitude:V(dt),southBoundLatitude:V(dt),northBoundLatitude:V(dt)}),ba=H(la,{GetCapabilities:V(xa),GetMap:V(xa),GetFeatureInfo:V(xa)}),Ea=H(la,{Format:Y(_t),DCPType:Y((function(t,e){return K({},Pa,t,e)}))}),Pa=H(la,{HTTP:V((function(t,e){return K({},Ia,t,e)}))}),Ia=H(la,{Get:V(Ma),Post:V(Ma)}),Na=H(la,{Name:V(_t),Title:V(_t),Abstract:V(_t),LegendURL:Y(Fa),StyleSheetURL:V(Ma),StyleURL:V(Ma)}),Ta=H(la,{Format:V(_t),OnlineResource:V(Dn)}),Ra=H(la,{Keyword:B(_t)});function La(t,e){var r=e[e.length-1],n=K({},wa,t,e);if(n){var o=ft(t.getAttribute("queryable"));void 0===o&&(o=r.queryable),n.queryable=void 0!==o&&o;var i=vt(t.getAttribute("cascaded"));void 0===i&&(i=r.cascaded),n.cascaded=i;var a=ft(t.getAttribute("opaque"));void 0===a&&(a=r.opaque),n.opaque=void 0!==a&&a;var s=ft(t.getAttribute("noSubsets"));void 0===s&&(s=r.noSubsets),n.noSubsets=void 0!==s&&s;var u=yt(t.getAttribute("fixedWidth"));u||(u=r.fixedWidth),n.fixedWidth=u;var p=yt(t.getAttribute("fixedHeight"));p||(p=r.fixedHeight),n.fixedHeight=p;["Style","CRS","AuthorityURL"].forEach((function(t){if(t in r){var e=n[t]||[];n[t]=e.concat(r[t])}}));return["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"].forEach((function(t){if(!(t in n)){var e=r[t];n[t]=e}})),n}}function Ma(t,e){return K({},Ta,t,e)}function xa(t,e){return K({},Ea,t,e)}function Fa(t,e){var r=Ma(t,e);if(r){var n=[vt(t.getAttribute("width")),vt(t.getAttribute("height"))];return r.size=n,r}}function ka(t,e){return K([],Ra,t,e)}var Aa=da,Ca=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ja=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.featureNS_="http://mapserver.gis.umn.edu/mapserver",r.gmlFormat_=new It,r.layers_=n.layers?n.layers:null,r}return Ca(e,t),e.prototype.getLayers=function(){return this.layers_},e.prototype.setLayers=function(t){this.layers_=t},e.prototype.readFeatures_=function(t,e){t.setAttribute("namespaceURI",this.featureNS_);var r=t.localName,n=[];if(0===t.childNodes.length)return n;if("msGMLOutput"==r)for(var o=0,i=t.childNodes.length;o<i;o++){var a=t.childNodes[o];if(a.nodeType===Node.ELEMENT_NODE){var s=a,u=e[0],p=s.localName.replace("_layer","");if(!this.layers_||Object(F.f)(this.layers_,p)){var c=p+"_feature";u.featureType=c,u.featureNS=this.featureNS_;var l={};l[c]=B(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var f=H([u.featureNS,null],l);s.setAttribute("namespaceURI",this.featureNS_);var h=K([],f,s,e,this.gmlFormat_);h&&Object(F.c)(n,h)}}}if("FeatureCollection"==r){var d=K([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,[{}],this.gmlFormat_);d&&(n=d)}return n},e.prototype.readFeaturesFromNode=function(t,e){var r={};return e&&Object(g.a)(r,this.getReadOptions(t,e)),this.readFeatures_(t,[r])},e}(ot),Ga=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ua=[null,"http://www.opengis.net/wmts/1.0"],Ba=[null,"http://www.opengis.net/ows/1.1"],Da=H(Ua,{Contents:V((function(t,e){return K({},Va,t,e)}))}),Ya=function(t){function e(){var e=t.call(this)||this;return e.owsParser_=new io,e}return Ga(e,t),e.prototype.readFromNode=function(t){var e=t.getAttribute("version");e&&(e=e.trim());var r=this.owsParser_.readFromNode(t);return r?(r.version=e,(r=K(r,Da,t,[]))||null):null},e}(Bn),Va=H(Ua,{Layer:Y((function(t,e){return K({},za,t,e)})),TileMatrixSet:Y((function(t,e){return K({},Ka,t,e)}))}),za=H(Ua,{Style:Y((function(t,e){var r=K({},Za,t,e);if(!r)return;var n="true"===t.getAttribute("isDefault");return r.isDefault=n,r})),Format:Y(_t),TileMatrixSetLink:Y((function(t,e){return K({},Xa,t,e)})),Dimension:Y((function(t,e){return K({},Ha,t,e)})),ResourceURL:Y((function(t,e){var r=t.getAttribute("format"),n=t.getAttribute("template"),o=t.getAttribute("resourceType"),i={};r&&(i.format=r);n&&(i.template=n);o&&(i.resourceType=o);return i}))},H(Ba,{Title:V(_t),Abstract:V(_t),WGS84BoundingBox:V(Ja),Identifier:V(_t)})),Za=H(Ua,{LegendURL:Y((function(t,e){var r={};return r.format=t.getAttribute("format"),r.href=Dn(t),r}))},H(Ba,{Title:V(_t),Identifier:V(_t)})),Xa=H(Ua,{TileMatrixSet:V(_t),TileMatrixSetLimits:V((function(t,e){return K([],Wa,t,e)}))}),Wa=H(Ua,{TileMatrixLimits:B((function(t,e){return K({},qa,t,e)}))}),qa=H(Ua,{TileMatrix:V(_t),MinTileRow:V(gt),MaxTileRow:V(gt),MinTileCol:V(gt),MaxTileCol:V(gt)}),Ha=H(Ua,{Default:V(_t),Value:Y(_t)},H(Ba,{Identifier:V(_t)})),$a=H(Ba,{LowerCorner:B(ts),UpperCorner:B(ts)}),Ka=H(Ua,{WellKnownScaleSet:V(_t),TileMatrix:Y((function(t,e){return K({},Qa,t,e)}))},H(Ba,{SupportedCRS:V(_t),Identifier:V(_t),BoundingBox:V(Ja)})),Qa=H(Ua,{TopLeftCorner:V(ts),ScaleDenominator:V(dt),TileWidth:V(gt),TileHeight:V(gt),MatrixWidth:V(gt),MatrixHeight:V(gt)},H(Ba,{Identifier:V(_t)}));function Ja(t,e){var r=K([],$a,t,e);if(2==r.length)return Object(v.c)(r)}function ts(t,e){var r=_t(t).split(/\s+/);if(r&&2==r.length){var n=+r[0],o=+r[1];if(!isNaN(n)&&!isNaN(o))return[n,o]}}var es=Ya},284:function(t,e,r){"use strict";r.d(e,"b",(function(){return f}));var n,o=r(263),i=r(286),a=r(265),s=r(308),u=r(258),p=r(298),c=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),l=function(t){function e(e,r,n,o,i,s){var u=t.call(this,e,r,n,a.a.IDLE)||this;return u.src_=o,u.image_=new Image,null!==i&&(u.image_.crossOrigin=i),u.unlisten_=null,u.state=a.a.IDLE,u.imageLoadFunction_=s,u}return c(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=a.a.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Object(u.A)(this.extent)/this.image_.height),this.state=a.a.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=a.a.IDLE&&this.state!=a.a.ERROR||(this.state=a.a.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=f(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t,this.resolution=Object(u.A)(this.extent)/this.image_.height},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(i.a);function f(t,e,r){var n=t,i=!0,a=!1,u=!1,c=[Object(p.b)(n,o.a.LOAD,(function(){u=!0,a||e()}))];return n.src&&s.c?(a=!0,n.decode().then((function(){i&&e()})).catch((function(t){i&&(u?e():r())}))):c.push(Object(p.b)(n,o.a.ERROR,r)),function(){i=!1,c.forEach(p.c)}}e.a=l},286:function(t,e,r){"use strict";var n,o=r(288),i=r(263),a=r(264),s=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),u=function(t){function e(e,r,n,o){var i=t.call(this)||this;return i.extent=e,i.pixelRatio_=n,i.resolution=r,i.state=o,i}return s(e,t),e.prototype.changed=function(){this.dispatchEvent(i.a.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Object(a.b)()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Object(a.b)()},e}(o.a);e.a=u},293:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r(266),o=function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var r=this.cache_[e];0!=(3&t++)||r.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},t.prototype.get=function(t,e,r){var n=i(t,e,r);return n in this.cache_?this.cache_[n]:null},t.prototype.set=function(t,e,r,n){var o=i(t,e,r);this.cache_[o]=n,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}();function i(t,e,r){return e+":"+t+":"+(r?Object(n.b)(r):"null")}var a=new o},294:function(t,e,r){"use strict";e.a={POINT:"point",LINE:"line"}},295:function(t,e,r){"use strict";r.r(e);var n=r(314);r.d(e,"Circle",(function(){return n.a}));var o=r(270);r.d(e,"Fill",(function(){return o.a}));var i=r(273);r.d(e,"Icon",(function(){return i.a}));var a=r(271);r.d(e,"IconImage",(function(){return a.a}));var s=r(290);r.d(e,"Image",(function(){return s.a}));var u=r(315);r.d(e,"RegularShape",(function(){return u.a}));var p=r(291);r.d(e,"Stroke",(function(){return p.a}));var c=r(285);r.d(e,"Style",(function(){return c.c}));var l=r(272);r.d(e,"Text",(function(){return l.a}))},301:function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,r,n,o){var i,a,s=8*o-n-1,u=(1<<s)-1,p=u>>1,c=-7,l=r?o-1:0,f=r?-1:1,h=t[e+l];for(l+=f,i=h&(1<<-c)-1,h>>=-c,c+=s;c>0;i=256*i+t[e+l],l+=f,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=n;c>0;a=256*a+t[e+l],l+=f,c-=8);if(0===i)i=1-p;else{if(i===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),i-=p}return(h?-1:1)*a*Math.pow(2,i-n)},e.write=function(t,e,r,n,o,i){var a,s,u,p=8*i-o-1,c=(1<<p)-1,l=c>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+l>=1?f/u:f*Math.pow(2,1-l))*u>=2&&(a++,u/=2),a+l>=c?(s=0,a=c):a+l>=1?(s=(e*u-1)*Math.pow(2,o),a+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,o),a=0));o>=8;t[r+h]=255&s,h+=d,s/=256,o-=8);for(a=a<<o|s,p+=o;p>0;t[r+h]=255&a,h+=d,a/=256,p-=8);t[r+h-d]|=128*y}},302:function(t,e,r){"use strict";r(252),r(251);var n=r(261),o=(r(259),r(262),r(250),r(255),r(260),r(256),r(305)),i=r(258),a=r(253),s=r(323),u=r(248),p=(r(277),r(322)),c=r(325),l=r(309),f=Object(o.c)(),h=function(){function t(t,e,r,n,o){this.styleFunction,this.extent_,this.id_=o,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=r,this.properties_=n}return t.prototype.get=function(t){return this.properties_[t]},t.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_===n.a.POINT?Object(i.n)(this.flatCoordinates_):Object(i.o)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},t.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var t=Object(i.x)(this.getExtent());this.flatInteriorPoints_=Object(s.a)(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_},t.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var t=Object(c.a)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=Object(s.b)(this.flatCoordinates_,0,this.ends_,2,t)}return this.flatInteriorPoints_},t.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=Object(p.a)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},t.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var t=this.flatCoordinates_,e=0,r=this.ends_,n=0,o=r.length;n<o;++n){var i=r[n],s=Object(p.a)(t,e,i,2,.5);Object(a.c)(this.flatMidpoints_,s),e=i}}return this.flatMidpoints_},t.prototype.getId=function(){return this.id_},t.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},t.prototype.getGeometry=function(){return this},t.prototype.getSimplifiedGeometry=function(t){return this},t.prototype.simplifyTransformed=function(t,e){return this},t.prototype.getProperties=function(){return this.properties_},t.prototype.getStride=function(){return 2},t.prototype.getStyleFunction=function(){return this.styleFunction},t.prototype.getType=function(){return this.type_},t.prototype.transform=function(t){var e=(t=Object(u.l)(t)).getExtent(),r=t.getWorldExtent();if(e&&r){var n=Object(i.A)(r)/Object(i.A)(e);Object(o.b)(f,r[0],r[3],n,-n,0,0,0),Object(l.c)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,f,this.flatCoordinates_)}},t.prototype.getEnds=function(){return this.ends_},t}();h.prototype.getEndss=h.prototype.getEnds,h.prototype.getFlatCoordinates=h.prototype.getOrientedFlatCoordinates,e.a=h},303:function(t,e,r){"use strict";t.exports=o;var n=r(301);function o(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}o.Varint=0,o.Fixed64=1,o.Bytes=2,o.Fixed32=5;var i="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function a(t){return t.type===o.Bytes?t.readVarint()+t.pos:t.pos+1}function s(t,e,r){return r?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function u(t,e,r){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));r.realloc(n);for(var o=r.pos-1;o>=t;o--)r.buf[o+n]=r.buf[o]}function p(t,e){for(var r=0;r<t.length;r++)e.writeVarint(t[r])}function c(t,e){for(var r=0;r<t.length;r++)e.writeSVarint(t[r])}function l(t,e){for(var r=0;r<t.length;r++)e.writeFloat(t[r])}function f(t,e){for(var r=0;r<t.length;r++)e.writeDouble(t[r])}function h(t,e){for(var r=0;r<t.length;r++)e.writeBoolean(t[r])}function d(t,e){for(var r=0;r<t.length;r++)e.writeFixed32(t[r])}function y(t,e){for(var r=0;r<t.length;r++)e.writeSFixed32(t[r])}function g(t,e){for(var r=0;r<t.length;r++)e.writeFixed64(t[r])}function v(t,e){for(var r=0;r<t.length;r++)e.writeSFixed64(t[r])}function _(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function m(t,e,r){t[r]=e,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24}function w(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}o.prototype={destroy:function(){this.buf=null},readFields:function(t,e,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),o=n>>3,i=this.pos;this.type=7&n,t(o,e,this),this.pos===i&&this.skip(n)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=_(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=w(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=_(this.buf,this.pos)+4294967296*_(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=_(this.buf,this.pos)+4294967296*w(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=n.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=n.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,r,n=this.buf;return e=127&(r=n[this.pos++]),r<128?e:(e|=(127&(r=n[this.pos++]))<<7,r<128?e:(e|=(127&(r=n[this.pos++]))<<14,r<128?e:(e|=(127&(r=n[this.pos++]))<<21,r<128?e:function(t,e,r){var n,o,i=r.buf;if(o=i[r.pos++],n=(112&o)>>4,o<128)return s(t,n,e);if(o=i[r.pos++],n|=(127&o)<<3,o<128)return s(t,n,e);if(o=i[r.pos++],n|=(127&o)<<10,o<128)return s(t,n,e);if(o=i[r.pos++],n|=(127&o)<<17,o<128)return s(t,n,e);if(o=i[r.pos++],n|=(127&o)<<24,o<128)return s(t,n,e);if(o=i[r.pos++],n|=(1&o)<<31,o<128)return s(t,n,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(r=n[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&i?function(t,e,r){return i.decode(t.subarray(e,r))}(this.buf,e,t):function(t,e,r){var n="",o=e;for(;o<r;){var i,a,s,u=t[o],p=null,c=u>239?4:u>223?3:u>191?2:1;if(o+c>r)break;1===c?u<128&&(p=u):2===c?128==(192&(i=t[o+1]))&&(p=(31&u)<<6|63&i)<=127&&(p=null):3===c?(i=t[o+1],a=t[o+2],128==(192&i)&&128==(192&a)&&((p=(15&u)<<12|(63&i)<<6|63&a)<=2047||p>=55296&&p<=57343)&&(p=null)):4===c&&(i=t[o+1],a=t[o+2],s=t[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&((p=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)<=65535||p>=1114112)&&(p=null)),null===p?(p=65533,c=1):p>65535&&(p-=65536,n+=String.fromCharCode(p>>>10&1023|55296),p=56320|1023&p),n+=String.fromCharCode(p),o+=c}return n}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==o.Bytes)return t.push(this.readVarint(e));var r=a(this);for(t=t||[];this.pos<r;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==o.Bytes)return t.push(this.readSVarint());var e=a(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==o.Bytes)return t.push(this.readBoolean());var e=a(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==o.Bytes)return t.push(this.readFloat());var e=a(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==o.Bytes)return t.push(this.readDouble());var e=a(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==o.Bytes)return t.push(this.readFixed32());var e=a(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==o.Bytes)return t.push(this.readSFixed32());var e=a(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==o.Bytes)return t.push(this.readFixed64());var e=a(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==o.Bytes)return t.push(this.readSFixed64());var e=a(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===o.Varint)for(;this.buf[this.pos++]>127;);else if(e===o.Bytes)this.pos=this.readVarint()+this.pos;else if(e===o.Fixed32)this.pos+=4;else{if(e!==o.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var r=new Uint8Array(e);r.set(this.buf),this.buf=r,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),m(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),m(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),m(this.buf,-1&t,this.pos),m(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),m(this.buf,-1&t,this.pos),m(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var r,n;t>=0?(r=t%4294967296|0,n=t/4294967296|0):(n=~(-t/4294967296),4294967295^(r=~(-t%4294967296))?r=r+1|0:(r=0,n=n+1|0));if(t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,r){r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos]=127&t}(r,0,e),function(t,e){var r=(7&t)<<4;if(e.buf[e.pos++]|=r|((t>>>=3)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;e.buf[e.pos++]=127&t}(n,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,r){for(var n,o,i=0;i<e.length;i++){if((n=e.charCodeAt(i))>55295&&n<57344){if(!o){n>56319||i+1===e.length?(t[r++]=239,t[r++]=191,t[r++]=189):o=n;continue}if(n<56320){t[r++]=239,t[r++]=191,t[r++]=189,o=n;continue}n=o-55296<<10|n-56320|65536,o=null}else o&&(t[r++]=239,t[r++]=191,t[r++]=189,o=null);n<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:(n<65536?t[r++]=n>>12|224:(t[r++]=n>>18|240,t[r++]=n>>12&63|128),t[r++]=n>>6&63|128),t[r++]=63&n|128)}return r}(this.buf,t,this.pos);var r=this.pos-e;r>=128&&u(e,r,this),this.pos=e-1,this.writeVarint(r),this.pos+=r},writeFloat:function(t){this.realloc(4),n.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),n.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var r=0;r<e;r++)this.buf[this.pos++]=t[r]},writeRawMessage:function(t,e){this.pos++;var r=this.pos;t(e,this);var n=this.pos-r;n>=128&&u(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function(t,e,r){this.writeTag(t,o.Bytes),this.writeRawMessage(e,r)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,p,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,c,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,h,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,l,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,f,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,d,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,y,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,g,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,v,e)},writeBytesField:function(t,e){this.writeTag(t,o.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,o.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,o.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,o.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,o.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,o.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,o.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,o.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,o.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,o.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}}}]);